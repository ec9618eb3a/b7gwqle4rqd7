window.__require=function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({ActObj_AnimOnCol:[function(t,e,n){"use strict";cc._RF.push(e,"2ecb3vIoVVCKKrqtwkSR/dz","ActObj_AnimOnCol");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Slot/index_Slot"),s=t("../../index_Act"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.animStateName="default",e.prefabResID=null,e._colObj=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(t){if(void 0===t&&(t=null),!this.isPlaying&&(this.isPlaying=!0,null!=this._colObj)){var e=this._requestAnimNode(this.prefabResID);null!=e&&(e.active=!0,this._colObj.addFX(e),this.anim=e.getComponent("Animator"),null!=this.anim&&this.anim.play(this.animStateName))}},e.prototype.stop=function(){this.isPlaying&&(this.isPlaying=!1,null!=this.anim&&(this._colObj.removeFx(this.anim.node),this._recoveryAnimNode(this.anim)),this.onDone.call())},e.prototype.setColObj=function(t){this._colObj=t},e.prototype._requestAnimNode=function(t){return null==t?null:r.Prefab2NodeMgr.request(t)},e.prototype._recoveryAnimNode=function(t){t.stop(),t.node.active=!1,t.node.setParent(cc.director.getScene()),r.Prefab2NodeMgr.recovery(t.node)},e=i([c],e)}(s.ActObj));n.ActObj_AnimOnCol=l,cc._RF.pop()},{"../../../Slot/index_Slot":"index_Slot","../../index_Act":"index_Act"}],ActObj_Anim:[function(t,e,n){"use strict";cc._RF.push(e,"4e597T5sSFKPJLR8AwnQDPr","ActObj_Anim");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Act"),s=t("../../../../uzil/Uzil"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(t){if(void 0===t&&(t=null),!this.isPlaying){this.isPlaying=!0;var e=this;e.anim.onComplete.addOnce(function(){e.stop()}).name(this.id+"_anim_OnComplete")}},e.prototype.stop=function(){this.isPlaying&&(this.isPlaying=!1,this.anim.onComplete.remove(this.id+"_anim_OnComplete"),this.onDone.call())},i([l(s.Animator)],e.prototype,"anim",void 0),e=i([c],e)}(r.ActObj);n.ActObj_Anim=u,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../index_Act":"index_Act"}],ActObj_Group:[function(t,e,n){"use strict";cc._RF.push(e,"7581bJUOrpKabkmi00VKU1n","ActObj_Group");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Act"),s=t("../../../../uzil/Uzil"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.acts=[],e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(t){if(void 0===t&&(t=null),!this.isPlaying){this.isPlaying=!0;var e=this;s.Async.each(e.acts,function(t,n){t.play(),t.onDone.addOnce(n).name(e.id+"_onDone")},function(t){e.stop()})}},e.prototype.stop=function(t){if(void 0===t&&(t=null),this.isPlaying){this.isPlaying=!1;var e=this;e.acts.forEach(function(t){t.stop(),t.onDone.remove(e.id+"_onDone")}),this.onDone.call()}},i([l(r.ActObj)],e.prototype,"acts",void 0),e=i([c],e)}(r.ActObj);n.ActObj_Group=u,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../index_Act":"index_Act"}],ActObj_Repeat:[function(t,e,n){"use strict";cc._RF.push(e,"ab997h62YVGb5D5AMH3iVWF","ActObj_Repeat");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Act"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.acts=[],e.currentPlayingIdx=-1,e.id2EachPlayTime_sec=new Map,e.defaultEachPlayTime_sec=2,e._currentAct=null,e._currentActPlayTime_sec=0,e._currentActPlayedTime_sec=0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.isPlaying&&(null==this._currentAct&&0!=this.acts.length&&this.playNext(),this._currentActPlayedTime_sec+=t,this._currentActPlayedTime_sec>this._currentActPlayTime_sec&&this.acts.length>1&&(this._currentActPlayedTime_sec=0,this._currentAct.stop()))},e.prototype.play=function(t){void 0===t&&(t=null),this.isPlaying||(this.isPlaying=!0,this.playNext())},e.prototype.stop=function(){if(this.isPlaying){this.isPlaying=!1,this.currentPlayingIdx=-1,this._currentAct=null,this._currentActPlayTime_sec=0,this._currentActPlayedTime_sec=0;for(var t=0,e=this.acts;t<e.length;t++){e[t].stop()}this.onDone.call()}},e.prototype.addAct=function(t){this.acts.push(t)},e.prototype.removeAct=function(t){this.acts.splice(this.acts.indexOf(t),1),this.isPlaying&&t==this._currentAct&&this.playNext()},e.prototype.playNext=function(){if(this.isPlaying){var t=this;if(t.currentPlayingIdx++,t.currentPlayingIdx>=t.acts.length&&(t.currentPlayingIdx=0),t._currentAct=t.acts[t.currentPlayingIdx],null!=t._currentAct){var e=t.id2EachPlayTime_sec.get(t._currentAct.id);void 0==e&&(e=t.defaultEachPlayTime_sec),t._currentAct.play({time:e}),t._currentActPlayTime_sec=e,t._currentActPlayedTime_sec=0,t._currentAct.onDone.addOnce(function(){t.playNext()})}}},i([c(r.ActObj)],e.prototype,"acts",void 0),e=i([a],e)}(r.ActObj);n.ActObj_Repeat=l,cc._RF.pop()},{"../../index_Act":"index_Act"}],ActObj_SymbolAnim:[function(t,e,n){"use strict";cc._RF.push(e,"3b504rVeeNDV6BjuOziYGKQ","ActObj_SymbolAnim");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../uzil/Uzil"),s=t("../../index_Act"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.animStateName="default",e._colObj=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(t){void 0===t&&(t=null),this.isPlaying||(this.isPlaying=!0,null!=this._colObj&&this._colObj.goAnim(this.animStateName))},e.prototype.stop=function(){this.isPlaying&&(this.isPlaying=!1,null!=this._colObj&&this._colObj.goAnim(null),this.onDone.call())},e.prototype.setColObj=function(t){this._colObj=t},i([l(r.Animator)],e.prototype,"anim",void 0),e=i([c],e)}(s.ActObj);n.ActObj_SymbolAnim=u,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../index_Act":"index_Act"}],ActObj_SymbolBlink:[function(t,e,n){"use strict";cc._RF.push(e,"a4af3H5lrVA+LvNqygG1y/Q","ActObj_SymbolBlink");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Act"),s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blinkFrequency_sec=.3,e._time=0,e._colObj=null,e._isShow=!0,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.isPlaying&&(this._time+=t,this._time>this.blinkFrequency_sec&&(this._time=0,this._isShow=!this._isShow,null!=this._colObj&&this._colObj.setSpriteActive(this._isShow,"ActObj_SymbolBlink",10)))},e.prototype.play=function(t){void 0===t&&(t=null),this.isPlaying||(this.isPlaying=!0,this._time=0,null!=this._colObj&&(this._isShow=this._colObj.sprite.node.active))},e.prototype.stop=function(){this.isPlaying&&(this.isPlaying=!1,null!=this._colObj&&this._colObj.setSpriteActive(null,"ActObj_SymbolBlink"),this._time=0,this._isShow=!0,this.onDone.call())},e.prototype.setColObj=function(t){this._colObj=t},e=i([a],e)}(r.ActObj));n.ActObj_SymbolBlink=c,cc._RF.pop()},{"../../index_Act":"index_Act"}],ActObj_Test:[function(t,e,n){"use strict";cc._RF.push(e,"d883co0lLhNM5lub8bBGcs0","ActObj_Test"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../index_Act"),i=t("../../../../uzil/Uzil"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msg="",e.waitTime=1,e._invokerTask=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.onDestroy=function(){i.Invoker.cancel(this._invokerTask)},e.prototype.play=function(t){if(void 0===t&&(t=null),!this.isPlaying){this.isPlaying=!0;var e=this,n=this.waitTime;null!=t&&null!=t.playTime&&(n=t.playTime),cc.log(this.msg),this._invokerTask=i.Invoker.once(function(){e.stop()},n)}},e.prototype.stop=function(){this.isPlaying&&(this.isPlaying=!1,this.onDone.call())},__decorate([a()],e.prototype,"msg",void 0),__decorate([a()],e.prototype,"waitTime",void 0),e=__decorate([s],e)}(o.ActObj);n.ActObj_Test=c,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../index_Act":"index_Act"}],ActObj:[function(t,e,n){"use strict";cc._RF.push(e,"45731Yj31NNcLbdbfJvyYGY","ActObj"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../uzil/Uzil"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.isPlaying=!1,e.onDone=new o.Event,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(t){void 0===t&&(t=null)},e.prototype.stop=function(t){void 0===t&&(t=null)},__decorate([s()],e.prototype,"id",void 0),e=__decorate([r],e)}(cc.Component);n.ActObj=a,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],AniAct:[function(t,e,n){"use strict";cc._RF.push(e,"4bb88PEWntE8KOh7mj2L1Rc","AniAct"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=function(){function t(t){this.isPlaying=!1,this.timeScale=1,this.rootNode=null,this.onStart=new o.Event,this.onEnd=new o.Event,this.testNum=5,this._setProp(t,"timeScale"),this._setProp(t,"rootNode")}return t.prototype.update=function(t){this.isPlaying&&this._update(t*this.timeScale)},t.prototype.play=function(){this.isPlaying=!0,this._play(),this.onStart.call()},t.prototype.stop=function(){this.isPlaying=!1,this._stop(),this.onEnd.call()},t.prototype.pause=function(){this.isPlaying=!1,this._pause()},t.prototype.resume=function(){this.isPlaying=!0,this._resume()},t.prototype._update=function(t){this.testNum-=t,this.testNum>0||this.stop()},t.prototype._play=function(){},t.prototype._stop=function(){},t.prototype._pause=function(){},t.prototype._resume=function(){},t.prototype._setProp=function(t,e){void 0!=t[e]&&(this[e]=t[e])},t.prototype._getRoot=function(t){for(var e=t,n=cc.director.getScene(),o=100;e.parent!=n;)if(e=e.parent,o--<0)return e;return e},t.prototype._getFixedWorldPos=function(t){return t},t.prototype._getEase=function(t){var e=null;return 1==t.length?e=[t[0],0,1-t[0],1]:2==t.length?e=[t[0],0,1-t[1],1]:4==t.length&&(e=[t[0],t[1],1-t[2],1-t[3]]),e},t}();n.AniAct=i,cc._RF.pop()},{"../../Uzil":"Uzil"}],AniCollect:[function(t,e,n){"use strict";cc._RF.push(e,"f3676rPDbdIIZEsxaZPk5KM","AniCollect"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../AniAct"),r=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(o=n.AniCollect_MoveType||(n.AniCollect_MoveType={}));var s=function(t){function e(e){var n=t.call(this,e)||this;return n.actors=[],n._actorInfos=[],n.target=null,n.areaRadius=0,n.moveType=o.SPEED,n.speed=0,n.acceleration=0,n.duration=5,n._runnedTime=0,n.easeInOut=[0],n._easeBezier=null,n.curve=null,n._setProp(e,"actors"),n._setProp(e,"target"),n._setProp(e,"moveType"),n._setProp(e,"areaRadius"),n._setProp(e,"speed"),n._setProp(e,"acceleration"),n._setProp(e,"easeInOut"),n._setProp(e,"duration"),n}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=!0;if(this.moveType==o.SPEED){this.speed+=this.acceleration*t;for(var n=0,i=this._getAllActorInfo();n<i.length;n++){(u=(l=i[n]).targetPos)||(u=this._getTargetLocalPos(l.node.parent),l.targetPos=u);var s=r.Mathf.moveTowardV2(l.pos,u,this.speed*t);l.node.setPosition(s),0==s.equals(u)&&(e=!1)}}else if(this.moveType==o.DURATION)for(var a=0,c=this._getAllActorInfo();a<c.length;a++){var l,u;(u=(l=c[a]).targetPos)||(u=this._getTargetLocalPos(l.node.parent),l.targetPos=u),l.percent=r.Mathf.moveToward(l.percent,1,this.speed*t);var p=this._easeBezier.compute(l.percent);s=r.Mathf.lerpV2(l.orinPos,u,p);l.node.setPosition(s),0==s.equals(u)&&(e=!1)}e&&this.stop()}},e.prototype._play=function(){this.moveType==o.SPEED||this.moveType==o.DURATION&&(this.speed=1/this.duration),this._actorInfos=[];for(var t=0,e=this.actors;t<e.length;t++){var n=e[t];this._actorInfos.push({node:n,orinPos:n.position,percent:0})}var i=this._getEase(this.easeInOut);i&&(this._easeBezier=r.BezierData.easyBezier(i[0],i[1],i[2],i[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){if(void 0===t&&(t=!0),this.target instanceof cc.Node){var e=this.target,n=e.position;if(t){var o=e.getContentSize(),i=0-o.width*e.anchorX,s=0+o.width*(1-e.anchorX),a=0+o.height*(1-e.anchorY),c=0-o.height*e.anchorY;n.x+=cc.misc.lerp(i,s,Math.random()),n.y+=cc.misc.lerp(c,a,Math.random())}return e.parent.convertToWorldSpaceAR(n)}if(this.target instanceof cc.Vec2){n=this.target.clone();if(t){var l=r.Mathf.angleToVec2(359*Math.random());l=l.normalize().mul(this.areaRadius),n.addSelf(l)}return this._getFixedWorldPos(n)}},e.prototype._getTargetLocalPos=function(t){var e=this._getTargetWorldPos();return t.convertToNodeSpaceAR(e)},e.prototype._getWorldPosByNode=function(t){return t.parent.convertToWorldSpaceAR(t.getPosition())},e.prototype._getAllActorInfo=function(){for(var t=this._getTargetWorldPos(),e=0,n=this.actors;e<n.length;e++)for(var o=n[e],i=this._getWorldPosByNode(o),r=t.sub(i),s=0,a=this._actorInfos;s<a.length;s++){var c=a[s];c.node==o&&(c.pos=o.position,c.worldPos=i,c.distance=r)}return this._actorInfos},e}(i.AniAct);n.AniCollect=s,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniComponent_Collect:[function(t,e,n){"use strict";cc._RF.push(e,"26a7dMRlq5Ij7oSH779kV6j","AniComponent_Collect"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../AniTween"),r=t("../act/AniCollect");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(o||(o={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{targetType:{default:o.POSITION,type:cc.Enum(o)},targetPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==o.POSITION}},areaRadius:{default:0,visible:function(){return this.targetType==o.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==o.NODE}},actors:{default:[],type:cc.Node},movementType:{default:r.AniCollect_MoveType.SPEED,type:cc.Enum(r.AniCollect_MoveType)},acceleration:{default:5,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},speed:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.SPEED}},duration:{default:1,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.movementType==r.AniCollect_MoveType.DURATION}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.node),t.actors=this.actors,this.targetType==o.POSITION?t.target=this.targetPos:this.targetType==o.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.areaRadius=this.areaRadius,t.speed=this.speed,t.acceleration=this.acceleration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new i.AniTween).collect(t),this.tween.play()},_preview:function(){for(var t=[],e=0,n=this.actors;e<n.length;e++){var o=n[e];t.push({node:o,pos:o.position})}this.beforePreview.positions=t,this.play()},_unpreview:function(){this.stop();var t=this.beforePreview.positions;if(t)for(var e=0,n=t;e<n.length;e++){var o=n[e];o.node.setPosition(o.pos)}}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniCollect":"AniCollect"}],AniComponent_Goto:[function(t,e,n){"use strict";cc._RF.push(e,"49a54txto9KfoWWRUPSf2f5","AniComponent_Goto"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../act/AniGoto"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(o||(o={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:o.POSITION,type:cc.Enum(o)},targetPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==o.POSITION}},targetLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==o.NODE}},moveType:{type:cc.Enum(i.AniGoto_MoveType),default:i.AniGoto_MoveType.DURATION},speed:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.SPEED}},acceleration:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==i.AniGoto_MoveType.DURATION}},easeIn_percent:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.DURATION}},easeOut_percent:{default:0,visible:function(){return this.moveType==i.AniGoto_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==i.AniGoto_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==o.POSITION?t.target=this.targetPosition:this.targetType==o.NODE&&(t.target=this.targetLocator),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],this.tween=(new r.AniTween).goto(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniGoto":"AniGoto"}],AniComponent_LookAt:[function(t,e,n){"use strict";cc._RF.push(e,"2fcd7lNxQNP5Z5pUGuya+9a","AniComponent_LookAt"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../AniTween");(function(t){t[t.POSITION=0]="POSITION",t[t.NODE=1]="NODE"})(o||(o={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:o.NODE,type:cc.Enum(o)},lookAtNode:{default:null,type:cc.Node,visible:function(){return this.targetType==o.NODE}},lookAtPosition:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==o.POSITION}},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==o.POSITION?t.target=this.lookAtPosition:this.targetType==o.NODE&&(t.target=this.lookAtNode),t.moveType=this.moveType,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new i.AniTween).lookAt(t),this.tween.play()},_preview:function(){this.actorNode&&(this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play())},_unpreview:function(){this.actorNode&&(this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Move:[function(t,e,n){"use strict";cc._RF.push(e,"ac9f80/u5RFELWgwZoriNGA","AniComponent_Move"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../AniTween");(function(t){t[t.VELOCITY=0]="VELOCITY",t[t.CURVE=1]="CURVE"})(o||(o={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},moveType:{default:o.VELOCITY,type:cc.Enum(o)},velocity:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==o.VELOCITY}},acceleration:{default:cc.Vec2.ZERO,visible:function(){return this.moveType==o.VELOCITY}},duration:{default:5,visible:function(){return this.moveType==o.VELOCITY}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==o.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.moveType=this.moveType,t.velocity=this.velocity.clone(),t.acceleration=this.acceleration.clone(),t.duration=this.duration,this.tween=(new i.AniTween).move(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.actorNode.setPosition(this.beforePreview.position),this.stop()}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Path:[function(t,e,n){"use strict";cc._RF.push(e,"1f103xu61pPwKXhOOmU+fZo","AniComponent_Path"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../act/AniPath"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(o||(o={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:o.POSITION,type:cc.Enum(o)},isPathClosure:{default:!0},pathPos:{default:[],type:cc.Vec2,visible:function(){return this.targetType==o.POSITION}},pathLocators:{default:[],type:cc.Node,visible:function(){return this.targetType==o.NODE}},moveType:{default:i.AniPath_MoveType.SPEED,type:cc.Enum(i.AniPath_MoveType)},wrapType:{default:i.AniPath_WrapType.LOOP,type:cc.Enum(i.AniPath_WrapType)},speed:{default:0,visible:function(){return this.moveType==i.AniPath_MoveType.SPEED}},duration:{default:5,visible:function(){return this.moveType==i.AniPath_MoveType.DURATION}},curveFile:{default:null,type:cc.JsonAsset,visible:function(){return this.moveType==i.AniPath_MoveType.CURVE}}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==o.POSITION?t.path=this.pathPos:this.targetType==o.NODE&&(t.path=this.pathLocators),t.isPathClosure=this.isPathClosure,t.moveType=this.moveType,t.wrapType=this.wrapType,t.speed=this.speed,t.duration=this.duration,this.tween=(new r.AniTween).path(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniPath":"AniPath"}],AniComponent_Spin:[function(t,e,n){"use strict";cc._RF.push(e,"ab8a6/o3NBGf5mHk0Kl/96z","AniComponent_Spin"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},speed:{default:0},acceleration:{default:0},duration:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.speed=this.speed,t.acceleration=this.acceleration,t.duration=this.duration,this.tween=(new o.AniTween).spin(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.beforePreview.speed=this._speed,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation,this._speed=this.beforePreview.speed}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent_Spiral:[function(t,e,n){"use strict";cc._RF.push(e,"dc628Jd+85PX5qZ/5IblG9C","AniComponent_Spiral"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../act/AniSpiral"),r=t("../AniTween");(function(t){t[t.NODE=0]="NODE",t[t.POSITION=1]="POSITION"})(o||(o={})),cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},targetType:{default:o.POSITION,type:cc.Enum(o)},centerPos:{default:cc.Vec2.ZERO,visible:function(){return this.targetType==o.POSITION}},centerLocator:{default:null,type:cc.Node,visible:function(){return this.targetType==o.NODE}},currentAngle:{default:-1},initialAngle:{default:-1},wrapType:{default:i.AniSpiral_WrapType.CONTINUED,type:cc.Enum(i.AniSpiral_WrapType)},rotateNormal:{default:1},rotateSpeed:{default:0},rotateAcceleration:{default:0},radius:{default:-1},radiusNormal:{default:0},radiusSpeed:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.rootNode=this._getRoot(this.actorNode),t.actorNode=this.actorNode,this.targetType==o.POSITION?t.target=this.centerPos:this.targetType==o.NODE&&(t.target=this.centerLocator),t.wrapType=this.wrapType,t.currentAngle=this.currentAngle,t.initialAngle=this.initialAngle,t.rotateNormal=this.rotateNormal,t.rotateSpeed=this.rotateSpeed,t.rotateAcceleration=this.rotateAcceleration,t.radius=this.radius,t.radiusNormal=this.radiusNormal,t.radiusSpeed=this.radiusSpeed,this.tween=(new r.AniTween).spiral(t),this.tween.play()},_preview:function(){this.beforePreview.position=this.actorNode.position,this.play()},_unpreview:function(){this.stop(),this.actorNode.setPosition(this.beforePreview.position)}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween","../act/AniSpiral":"AniSpiral"}],AniComponent_Swing:[function(t,e,n){"use strict";cc._RF.push(e,"e5edbm6VyJG2YGGdtZZWIja","AniComponent_Swing"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../AniTween");cc.Class({extends:t("../AniComponent"),editor:{executeInEditMode:!0,playOnFocus:!0},properties:{actorNode:{default:null,type:cc.Node},angles:{default:[],type:cc.Float},speed:{default:0},duration:{default:-1},easeIn_percent:{default:0},easeOut_percent:{default:0}},_start:function(){},_update:function(t){},_play:function(){var t={};t.timeScale=this.timeScale,t.actorNode=this.actorNode,t.angles=this.angles.slice(),t.speed=this.speed,t.easeInOut=[this.easeIn_percent,this.easeOut_percent],t.duration=this.duration,this.tween=(new o.AniTween).swing(t),this.tween.play()},_preview:function(){this.beforePreview.rotation=this.actorNode.rotation,this.play()},_unpreview:function(){this.stop(),this.actorNode.rotation=this.beforePreview.rotation}}),cc._RF.pop()},{"../AniComponent":"AniComponent","../AniTween":"AniTween"}],AniComponent:[function(t,e,n){"use strict";cc._RF.push(e,"3be30JMzvBAVJQ4T97AhG4K","AniComponent"),Object.defineProperty(n,"__esModule",{value:!0}),cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,playOnFocus:!0},properties:{isPlayOnAwake:{default:!1},tween:{default:null,type:Object,visible:!1},isPreview:{get:function(){return this._isPreview},set:function(t){this._isPreview=t,1==t?this._preview():this._unpreview()}},_isPreview:{default:!1,visible:!1},beforePreview:{visible:!1,default:{}},isPlaying:{default:!1,visible:!1},timeScale:{default:1}},start:function(){this._start(),this.isPlayOnAwake&&this.play()},update:function(t){var e=t*this.timeScale;this.tween&&this.tween.update(e),this._update(e)},empty:function(){},play:function(){this.isPlaying=!0,this._play()},stop:function(){this.isPlaying=!1,this.isPreview&&(this.isPreview=!1),this._stop()},pause:function(){this.isPlaying=!1,this._pause()},resume:function(){this.isPlaying=!0,this._resume()},_stop:function(){this.tween&&this.tween.stop()},_pause:function(){this.tween&&this.tween.pause()},_resume:function(){this.tween&&this.tween.resume()},_getRoot:function(t){if(!t)return null;for(var e=t,n=cc.director.getScene(),o=100;e.parent!=n;)if(e=e.parent,o--<0)return e;return e}}),cc._RF.pop()},{}],AniGoto:[function(t,e,n){"use strict";cc._RF.push(e,"07a40O1N2tHKojKOTUynPso","AniGoto"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../AniAct"),r=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(o=n.AniGoto_MoveType||(n.AniGoto_MoveType={}));var s=function(t){function e(e){var n=t.call(this,e)||this;return n.actorNode=null,n.target=null,n.moveType=o.DURATION,n.speed=500,n.speed_acceleration=0,n.duration=1,n._runnedTime=0,n._orinPos=cc.Vec2.ZERO,n.easeInOut=[],n.curvePoint=null,n._curveBezier=null,n.curveLength=5,n._easeBezier=null,n._setProp(e,"actorNode"),n._setProp(e,"target"),n._setProp(e,"moveType"),n._setProp(e,"speed"),void 0!=e.acceleration&&(n.speed_acceleration=e.acceleration),n._setProp(e,"curve"),n._setProp(e,"duration"),n._setProp(e,"easeInOut"),n._setProp(e,"curvePoint"),n._setProp(e,"curveLength"),n}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,n=(this._getTargetWorldPos(),this._getLocalPos(this._getTargetWorldPos(),e.parent));if(this.moveType==o.SPEED){this.speed+=this.speed_acceleration*t;var i=e.position;if(n.sub(i).mag()<5)return void this.stop();var s=r.Mathf.moveTowardV2(i,n,this.speed*t);e.setPosition(s)}else if(this.moveType==o.DURATION){var a=this._runnedTime/this.duration;this._easeBezier&&(a=this._easeBezier.compute(a));var c=r.Mathf.lerpV2(this._orinPos,n,a);e.setPosition(c),this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}}},e.prototype._play=function(){this._runnedTime=0,this._orinPos=this.actorNode.position;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=r.BezierData.easyBezier(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){return this.target instanceof cc.Node?this._getWorldPos(this.target):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):void 0},e.prototype._getWorldPos=function(t){return t.parent.convertToWorldSpaceAR(t.position)},e.prototype._getLocalPos=function(t,e){return e.convertToNodeSpaceAR(t)},e}(i.AniAct);n.AniGoto=s,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniLookAt:[function(t,e,n){"use strict";cc._RF.push(e,"19711CsahJC15uCKy3TsdZL","AniLookAt"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../AniAct"),i=t("../../../Uzil"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.actorNode=null,n.target=null,n._speed=0,n._initialSpeed=0,n.acceleration=0,n.duration=-1,n._runnedTime=0,n._setProp(e,"actorNode"),n._setProp(e,"target"),n._setProp(e,"speed"),n._setProp(e,"acceleration"),n._setProp(e,"duration"),n}return __extends(e,t),Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._initialSpeed=t,this._speed=t},enumerable:!0,configurable:!0}),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,n=this._getTargetAngle();this._speed+=this.acceleration*t,e.rotation=i.Mathf.rotateToward(e.rotation,n,this._speed*t),e.rotation==n?this._speed=0:this._speed=this._initialSpeed,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this.speed=this._initialSpeed},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetPos=function(){return this.target instanceof cc.Node?this.target.parent.convertToWorldSpaceAR(this.target.position):this.target instanceof cc.Vec2?this._getFixedWorldPos(this.target):cc.Vec2.ZERO},e.prototype._getSelfPos=function(){return this.actorNode.parent.convertToWorldSpaceAR(this.actorNode.position)},e.prototype._getTargetAngle=function(){var t=this._getSelfPos(),e=this._getTargetPos().sub(t).signAngle(cc.Vec2.UP);return e=cc.misc.radiansToDegrees(e),e=i.Mathf.validAngle(e)},e}(o.AniAct);n.AniLookAt=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniMove:[function(t,e,n){"use strict";cc._RF.push(e,"bbd79emhq1Dx418gJ952tDS","AniMove"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../AniAct");(function(t){t[t.VELOCITY=0]="VELOCITY"})(o=n.AniMove_MoveType||(n.AniMove_MoveType={}));var r=function(t){function e(e){var n=t.call(this,e)||this;return n.actorNode=null,n.moveType=o.VELOCITY,n.velocity=cc.Vec2.ZERO,n.acceleration=cc.Vec2.ZERO,n.duration=5,n._runnedTime=0,n._setProp(e,"actorNode"),n._setProp(e,"moveType"),e.velocity&&(n.velocity=e.velocity),e.acceleration&&(n.acceleration=e.acceleration),e.duration&&(n.duration=e.duration),n}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;if(this.moveType==o.VELOCITY){this.velocity.addSelf(this.acceleration.mul(t));var n=e.position;n.addSelf(this.velocity.mul(t)),e.setPosition(n)}this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(i.AniAct);n.AniMove=r,cc._RF.pop()},{"../AniAct":"AniAct"}],AniPath:[function(t,e,n){"use strict";cc._RF.push(e,"58ed2pdBphLKr9yMScNUnJv","AniPath"),Object.defineProperty(n,"__esModule",{value:!0});var o,i,r=t("../AniAct"),s=t("../../../Uzil");(function(t){t[t.SPEED=0]="SPEED",t[t.DURATION=1]="DURATION"})(o=n.AniPath_MoveType||(n.AniPath_MoveType={})),function(t){t[t.LOOP=0]="LOOP",t[t.PINGPONG=1]="PINGPONG",t[t.ONCE=2]="ONCE"}(i=n.AniPath_WrapType||(n.AniPath_WrapType={}));var a=function(t){function e(e){var n=t.call(this,e)||this;return n.actorNode=null,n.path=[],n.isPathClosure=!0,n._currentPathIdx=-1,n._nextPathNormal=1,n.moveType=o.SPEED,n.wrapType=i.LOOP,n.speed=0,n.duration=5,n._runnedTime=0,n.curve=null,n._setProp(e,"actorNode"),e.path&&(n.path=e.path.slice()),n._setProp(e,"isPathClosure"),n._setProp(e,"moveType"),n._setProp(e,"wrapType"),n._setProp(e,"speed"),n._setProp(e,"duration"),n}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,n=this._getTargetLocalPos(),r=e.position;if(this.moveType==o.SPEED){var a=s.Mathf.moveTowardV2(r,n,this.speed*t);e.setPosition(a)}else if(this.moveType==o.DURATION){a=s.Mathf.moveTowardV2(r,n,this.speed*t);e.setPosition(a)}e.position.equals(n)&&(this._currentPathIdx+=this._nextPathNormal,this.wrapType==i.LOOP?this._currentPathIdx>=this._getPathCount()&&(this.isPathClosure?this._currentPathIdx=0:(e.setPosition(this._getTargetLocalPos(0)),this._currentPathIdx=1)):this.wrapType==i.PINGPONG?(this._currentPathIdx>=this._getPathCount()||this._currentPathIdx<0)&&(this._nextPathNormal*=-1,this._currentPathIdx+=this._nextPathNormal):this.wrapType==i.ONCE&&this._currentPathIdx>=this._getPathCount()&&this.stop())}},e.prototype._play=function(){if(this._nextPathNormal=1,this._currentPathIdx=0,this._runnedTime=0,this.isPathClosure&&this.path.length>0&&this.path.push(this.path[0]),this.moveType==o.SPEED);else if(this.moveType==o.DURATION){var t=this._getPathLength();this.speed=this._getSpeed(t,0,this.duration)}this.actorNode.setPosition(this._getTargetLocalPos(0))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(t){void 0===t&&(t=-1),-1==t&&(t=this._currentPathIdx);var e=this.path[t];return null==e?cc.Vec2.ZERO:e instanceof cc.Node?e.parent.convertToWorldSpaceAR(e.position):e instanceof cc.Vec2?this._getFixedWorldPos(e):void 0},e.prototype._getTargetLocalPos=function(t){void 0===t&&(t=-1);var e=this._getTargetWorldPos(t);return this.actorNode.parent.convertToNodeSpaceAR(e)},e.prototype._getPathCount=function(){return this.path.length},e.prototype._getPathLength=function(){if(this.path.length<=0)return 0;for(var t=0,e=this._getTargetWorldPos(0),n=1;n<this.path.length;n++){var o=this._getTargetWorldPos(n);t+=o.sub(e).mag(),e=o}return t},e.prototype._getSpeed=function(t,e,n){return(t-e*Math.pow(n,2)/2)/this.duration},e}(r.AniAct);n.AniPath=a,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniSpin:[function(t,e,n){"use strict";cc._RF.push(e,"716c2EyYtBFq4e88zUywxRa","AniSpin"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(e){var n=t.call(this,e)||this;return n.actorNode=null,n.speed=0,n.acceleration=0,n.curve=null,n.duration=5,n._runnedTime=0,n._setProp(e,"actorNode"),n._setProp(e,"speed"),n._setProp(e,"acceleration"),n._setProp(e,"duration"),n}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode;this.speed+=this.acceleration*t,e.rotation+=this.speed*t,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").AniAct);n.AniSpin=o,cc._RF.pop()},{"../AniAct":"AniAct"}],AniSpiral:[function(t,e,n){"use strict";cc._RF.push(e,"38ee7xzqvFCspNmJuj+tm8R","AniSpiral"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../AniAct"),i=t("../../../Uzil");(function(t){t[t.CONTINUED=0]="CONTINUED",t[t.PINGPONG=1]="PINGPONG"})(n.AniSpiral_WrapType||(n.AniSpiral_WrapType={}));var r=function(t){function e(e){var n=t.call(this,e)||this;return n.actorNode=null,n.target=null,n.wrapType=-1,n.currentAngle=-1,n.initialAngle=-1,n.rotateNormal=1,n.rotateSpeed=0,n.rotateAcceleration=0,n.radius=1,n.radiusNormal=1,n.radiusSpeed=0,n.curve=null,n._setProp(e,"actorNode"),n._setProp(e,"target"),n._setProp(e,"wrapType"),n._setProp(e,"initialAngle"),n._setProp(e,"rotateNormal"),n._setProp(e,"rotateSpeed"),n._setProp(e,"rotateAcceleration"),n._setProp(e,"radius"),n._setProp(e,"radiusNormal"),n._setProp(e,"radiusSpeed"),n}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,n=this._getTargetLocalPos();e.getPosition();this.rotateSpeed+=this.rotateAcceleration*this.rotateNormal*t,this.currentAngle+=this.rotateSpeed*this.rotateNormal*t,this.radius+=this.radiusSpeed*this.radiusNormal*t;var o=i.Mathf.angleToVec2(this.currentAngle),r=n.add(o.normalize().mul(this.radius));e.setPosition(r)}},e.prototype._play=function(){var t=this.initialAngle,e=this._getTargetLocalPos().sub(this.actorNode.position);t<=-1&&(t=cc.Vec2.UP.signAngle(e),t=cc.misc.radiansToDegrees(t),this.initialAngle=t),this.currentAngle=t,this.radius<=-1&&(this.radius=e.mag())},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetWorldPos=function(){if(this.target instanceof cc.Node){var t=this.target;return t.parent.convertToWorldSpaceAR(t.getPosition())}if(this.target instanceof cc.Vec2)return this._getFixedWorldPos(this.target)},e.prototype._getTargetLocalPos=function(){var t=this._getTargetWorldPos();return this.actorNode.parent.convertToNodeSpaceAR(t)},e}(o.AniAct);n.AniSpiral=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniSwing:[function(t,e,n){"use strict";cc._RF.push(e,"83dceZaqyNAfY5EnStqJA4T","AniSwing"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../AniAct"),i=t("../../../Uzil"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.actorNode=null,n.angles=[],n._currentAngleIdx=-1,n._nextNormal=1,n.currentAngle=-1,n.speed=0,n.easeInOut=[],n._easeBezier=null,n.curve=null,n.duration=-1,n._runnedTime=0,n._setProp(e,"actorNode"),n._setProp(e,"angles"),n._setProp(e,"speed"),n._setProp(e,"easeInOut"),n._setProp(e,"duration"),n}return __extends(e,t),e.prototype._update=function(t){if(this.isPlaying){var e=this.actorNode,n=this._getTargetAngle();if(e.rotation==n){var o=this._currentAngleIdx+this._nextNormal;(o>=this.angles.length||o<0)&&(this._nextNormal*=-1),this._currentAngleIdx+=this._nextNormal,n=this._getTargetAngle()}var r=this._getLastAngle();this.currentAngle=i.Mathf.moveToward(this.currentAngle,n,this.speed*t);var s=this.currentAngle;if(this._easeBezier){var a=1-(n-this.currentAngle)/(n-r),c=this._easeBezier.compute(a);s=cc.misc.lerp(r,n,c)}e.rotation=s,this.duration>0&&(this._runnedTime+=t,this._runnedTime>=this.duration&&this.stop())}},e.prototype._play=function(){this._runnedTime=0,this._currentAngleIdx=0,this.currentAngle=this._getTargetAngle(),this._currentAngleIdx=1;var t=this._getEase(this.easeInOut);t&&(this._easeBezier=i.BezierData.easyBezier(t[0],t[1],t[2],t[3]))},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._getTargetAngle=function(){return 0==this.angles.length?0:this.angles[this._currentAngleIdx]},e.prototype._getLastAngle=function(){if(0==this.angles.length)return 0;var t=this._currentAngleIdx-this._nextNormal;return this.angles[t]},e}(o.AniAct);n.AniSwing=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../AniAct":"AniAct"}],AniTemplate:[function(t,e,n){"use strict";cc._RF.push(e,"c5aecoIFxJCGoKlX45fRLeK","AniTemplate"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._update=function(t){},e.prototype._play=function(){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e}(t("../AniAct").AniAct);n.AniTemplate=o,cc._RF.pop()},{"../AniAct":"AniAct"}],AniTween:[function(t,e,n){"use strict";cc._RF.push(e,"fa15fBO5RRMxLJZioowH2ty","AniTween"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=t("../index_AniTween"),r=function(){function t(){this.isPlaying=!1,this.currentIdx=-1,this.currentAct=null,this.actQueue=[],this._updateTask=null}return t.prototype.update=function(t){this.isPlaying&&this.currentAct.update(t)},t.prototype.play=function(){for(var t=this,e=0;e<t.actQueue.length;e++){var n=t.actQueue[e];n.onEnd.remove("playNext"),n.onEnd.add(function(){t.playNext()}).name("playNext")}t._updateTask=o.Invoker.update(function(e){t.update(e)}),t.isPlaying=!0,t.playNext()},t.prototype.stop=function(){o.Invoker.stop(this._updateTask),this.isPlaying=!1,this.currentIdx=-1},t.prototype.pause=function(){this.isPlaying=!1},t.prototype.resume=function(){this.isPlaying=!0},t.prototype.queue=function(t){return this.actQueue.push(t),this},t.prototype.playNext=function(){this.currentIdx++,this.currentIdx>=this.actQueue.length?this.stop():(this.currentAct=this.actQueue[this.currentIdx],this.currentAct.play())},t.prototype.move=function(t){return this.queue(new i.AniMove(t))},t.prototype.goto=function(t){return this.queue(new i.AniGoto(t))},t.prototype.spin=function(t){return this.queue(new i.AniSpin(t))},t.prototype.swing=function(t){return this.queue(new i.AniSwing(t))},t.prototype.lookAt=function(t){return this.queue(new i.AniLookAt(t))},t.prototype.around=function(t){return this.spiral(t)},t.prototype.spiral=function(t){return this.queue(new i.AniSpiral(t))},t.prototype.path=function(t){return this.queue(new i.AniPath(t))},t.prototype.collect=function(t){return this.queue(new i.AniCollect(t))},t}();n.AniTween=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_AniTween":"index_AniTween"}],AnimClip:[function(t,e,n){"use strict";cc._RF.push(e,"3652asiaJBLv5UL+3IP35Bn","AnimClip"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){void 0===t&&(t=""),this.name="",this.mixAlpha=1,this.trackIdx=0,this.isLoop=!1,this.name=t}return t.prototype.alpha=function(t){return this.mixAlpha=t,this},t.prototype.track=function(t){return this.trackIdx=t,this},t.prototype.loop=function(t){return void 0===t&&(t=!0),this.isLoop=t,this},t}();n.AnimClip=o,cc._RF.pop()},{}],AnimCondition:[function(t,e,n){"use strict";cc._RF.push(e,"e68a2H7WANPz5hqPa35eYAl","AnimCondition"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../Uzil"),i=function(){function t(t,e,n){this.toCompare=0,this.comparer=o.Comparer.EQUAL,this.parameterKey="",this.parameterKey=t,this.comparer=e,this.toCompare=n}return t.prototype.isPass=function(t){var e=this.parameterKey;if(!e||""==e)return!1;var n=t[e];return null!=n&&void 0!=n&&this._compare(n,this.toCompare,this.comparer)},t.prototype._compare=function(t,e,n){switch(n){case o.Comparer.EQUAL:return t==e||JSON.parse(t)==JSON.parse(e);case o.Comparer.NOT_EQUAL:return t!=e||JSON.parse(t)!=JSON.parse(e);case o.Comparer.GREATER:return t>e;case o.Comparer.GREATER_EQUAL:return t>=e;case o.Comparer.LESS:return t<e;case o.Comparer.LESS_EQUAL:return t<=e}return!1},t}();n.AnimCondition=i,cc._RF.pop()},{"../../../Uzil":"Uzil"}],AnimFactory:[function(t,e,n){"use strict";cc._RF.push(e,"9b3bdMLSNJGo5wMPgGyCLBZ","AnimFactory"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../index_Animator"),i=function(){function t(){}return t.createClip=function(e){if(0==t.validate(e,["name"]))return null;var n=new o.AnimClip(e.name),i=e.track;i&&(n.trackIdx=i);var r=e.isLoop;return null!=r&&(n.isLoop=JSON.parse(r)),n},t.createState=function(e){if(0==t.validate(e,["name"]))return null;var n=new o.AnimState(e.name),i=e.clips;if(i)for(var r=0,s=i;r<s.length;r++){var a=s[r],c=this.createClip(a);n.addClip(c)}var l=e.transitions;if(l)for(var u=0,p=l;u<p.length;u++){a=p[u];var h=this.createTransition(a);n.addTransition(h)}return n},t.createTransition=function(e){if(0==t.validate(e,["nextState"]))return null;var n=new o.AnimTransition,i=e.conditions;if(i)for(var r=0,s=i;r<s.length;r++){var a=s[r],c=this.createCondition(a);n.addCondition(c)}var l=e.nextState;l&&(n.nextState=l);var u=e.exitTime;null!=u&&(n.exitTime=parseFloat(u));var p=e.mixTime;return p&&(n.mixTime=parseFloat(p)),n},t.createCondition=function(e){return 0==t.validate(e,["key","comparer","value"])?null:new o.AnimCondition(e.key,e.comparer,e.value)},t.validate=function(t,e){for(var n=0,o=e;n<o.length;n++){if(void 0==t[o[n]])return!1}return!0},t}();n.AnimFactory=i,cc._RF.pop()},{"../../index_Animator":"index_Animator"}],AnimState:[function(t,e,n){"use strict";cc._RF.push(e,"8c0d7MSCktBf5i1gdkSMVQc","AnimState"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){void 0===t&&(t=""),this._name="",this.animClips=[],this.transitions=[],this.name=t}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name?this._name:this.animClips.length>0?this.animClips[0].name:void 0},set:function(t){this._name=t},enumerable:!0,configurable:!0}),t.prototype.addTransition=function(t){return this.transitions.push(t),this},t.prototype.addClip=function(t){return this.animClips.push(t),this},t}();n.AnimState=o,cc._RF.pop()},{}],AnimTransition:[function(t,e,n){"use strict";cc._RF.push(e,"7c163ndjllAWI2adJGTAvOO","AnimTransition"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.exitTime=1,this.conditions=[],this.mixTime=0,this.nextState=null}return t.prototype.isPass=function(t){for(var e=0,n=this.conditions;e<n.length;e++){if(0==n[e].isPass(t))return!1}return!0},t.prototype.addCondition=function(t){return this.conditions.push(t),this},t.prototype.next=function(t){return this.nextState=t.name,this},t}();n.AnimTransition=o,cc._RF.pop()},{}],Animator:[function(t,e,n){"use strict";cc._RF.push(e,"9116d8p+qNAK7wSkIGNlxB3","Animator");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Animator"),s=t("../../../Uzil"),a=t("../../../AudioMng/index_AudioMng"),c=t("../../../Event/index_Event"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultState="",e.animatorFile=null,e.states=[],e.parameter={},e.isPlaying=!1,e.onEvent=new c.Event,e.onTime=new c.Event,e.onComplete=new c.Event,e}return o(e,t),Object.defineProperty(e.prototype,"time",{get:function(){return this._getTime()},set:function(t){this._setTime(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._getTimeScale()},set:function(t){this._setTimeScale(t)},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){var t=this;if(this.animatorFile){var e=s.Objf.clone(this.animatorFile.json),n=e.build;n&&(e=n),this.load(e)}this.onComplete.add(function(){t._checkTransition(1)}),this._onLoad()},e.prototype._onLoad=function(){},e.prototype.start=function(){this._start()},e.prototype._start=function(){},e.prototype.update=function(t){this._update(),this._checkTransition()},e.prototype._update=function(){},e.prototype.load=function(t){var e=t.defaultState;e&&""!=e&&(this.defaultState=e);var n=[].concat(t.states);if(n)for(var o=0,i=n;o<i.length;o++){var a=i[o],c=r.AnimFactory.createState(a);this.addState(c)}var l=s.Objf.clone(t.parameter);return l&&(this.parameter=l),this.defaultState?this.play(this.defaultState):this.states.length>0&&this.playState(this.states[0]),this},e.prototype.set=function(t,e){return this.parameter[t]=e,this},e.prototype.play=function(t){for(var e=0,n=this.states;e<n.length;e++){var o=n[e];if(o.name==t){this.playState(o);break}}},e.prototype.playState=function(t){if(null!=t&&void 0!=t){this.isPlaying=!0,this.currentState=t;var e=t.animClips;if(0!=e.length){var n=e[0];if(this._play(n),e.length>1)for(var o=1;o<e.length;o++)this._playAdditive(e[o])}}else this.stop()},e.prototype.stop=function(){this.isPlaying=!1,this._stop()},e.prototype.pause=function(){this.isPlaying=!1,this._pause()},e.prototype.resume=function(){this.isPlaying=!0,this._resume()},e.prototype.setNormalizedTime=function(t){this._setNormalizedTime(t)},e.prototype.getNormalizedTime=function(){return this._getNormalizedTime()},e.prototype.addState=function(t){return this.states.push(t),this},e.prototype.removeState=function(t){for(var e=0,n=this.states;e<n.length;e++){var o=n[e];if(o.name==t){this.states.splice(this.states.indexOf(o),1);break}}},e.prototype.getState=function(t){for(var e=0,n=this.states;e<n.length;e++){var o=n[e];if(o.name==t)return o}return null},e.prototype._enter=function(t){var e=this.getState(t.nextState);this.currentState=e,this.playState(this.currentState)},e.prototype._checkTransition=function(t){if(void 0===t&&(t=-1),this.currentState){var e=this.getNormalizedTime();-1!=t&&(e=t);for(var n=0,o=this.currentState.transitions;n<o.length;n++){var i=o[n];if(!(-1!=i.exitTime&&e<i.exitTime)&&i.isPass(this.parameter)){this._enter(i);break}}}},e.prototype._playAudio=function(t){a.AudioMng.play(t)},e.prototype._play=function(t){},e.prototype._playAdditive=function(t){},e.prototype._stop=function(){},e.prototype._pause=function(){},e.prototype._resume=function(){},e.prototype._setNormalizedTime=function(t){},e.prototype._getNormalizedTime=function(){return 0},e.prototype._setTime=function(t){},e.prototype._getTime=function(){return 0},e.prototype._setTimeScale=function(t){},e.prototype._getTimeScale=function(){return 0},i([p()],e.prototype,"defaultState",void 0),i([p(cc.JsonAsset)],e.prototype,"animatorFile",void 0),e=i([u],e)}(cc.Component);n.Animator=h,cc._RF.pop()},{"../../../AudioMng/index_AudioMng":"index_AudioMng","../../../Event/index_Event":"index_Event","../../../Uzil":"Uzil","../../index_Animator":"index_Animator"}],Async_EachSeries:[function(t,e,n){"use strict";cc._RF.push(e,"154fdXpN7hCnbe1VFL+CVlE","Async_EachSeries"),Object.defineProperty(n,"__esModule",{value:!0}),n.eachSeries=function(t,e,n){if(0!=t.length){var o=function(i){var r=t[i],s=i+1,a=s>=t.length;e(r,function(t){t||a?n&&n(t):o(s)})};o(0)}else n(null)},cc._RF.pop()},{}],Async_Each:[function(t,e,n){"use strict";cc._RF.push(e,"e2008Df98tIz4MX4bCh0tEp","Async_Each"),Object.defineProperty(n,"__esModule",{value:!0}),n.each=function(t,e,n){for(var o=!1,i=t.length,r=function(t){if(!o){if(t)return n(t),void(o=!0);0==--i&&n(t)}},s=function(n){var o=t[n],i=!1;e(o,function(t){i||(i=!0,r(t))})},a=0;a<t.length;a++)s(a)},cc._RF.pop()},{}],Async_Parallel:[function(t,e,n){"use strict";function o(t,e,n){if(0!=t.length)for(var o=new Array(t.length),i=!1,r=t.length,s=function(t){if(!i){if(e&&e(t,o),t)return n(t,o),void(i=!0);0==--r&&n(t,o)}},a=function(e){var n=!1,i=e;(0,t[e])(function(t,e){n||(n=!0,o[i]=e,s(t))})},c=0;c<t.length;c++)a(c);else n(null,null)}cc._RF.push(e,"1d0548uqRFGf7mwprlvScJm","Async_Parallel"),Object.defineProperty(n,"__esModule",{value:!0}),n.parallel=function(t,e){o(t,null,e)},n.parallelWithEach=o,cc._RF.pop()},{}],Async_Waterfall:[function(t,e,n){"use strict";cc._RF.push(e,"dd9dfbkZK5DaI6TOJtAbdrG","Async_Waterfall"),Object.defineProperty(n,"__esModule",{value:!0}),n.waterfall=function(t,e){var n=function(o){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=t[o],a=o+1,c=a>=t.length;s.apply(void 0,i.concat([function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];t||c?e&&e.apply(void 0,[t].concat(o)):n.apply(void 0,[a].concat(o))}]))};n(0)},cc._RF.pop()},{}],Async:[function(t,e,n){"use strict";cc._RF.push(e,"ae719W2m6hKEocP5XHSVuu+","Async"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Async_Each"),i=t("./Async_EachSeries"),r=t("./Async_Waterfall"),s=t("./Async_Parallel"),a=function(){function t(){}return t.parallel=function(t,e){return s.parallel(t,e)},t.parallelWithEach=function(t,e,n){return s.parallelWithEach(t,e,n)},t.waterfall=function(t,e){return r.waterfall(t,e)},t.each=function(t,e,n){return o.each(t,e,n)},t.eachSeries=function(t,e,n){return i.eachSeries(t,e,n)},t}();n.Async=a,cc._RF.pop()},{"./Async_Each":"Async_Each","./Async_EachSeries":"Async_EachSeries","./Async_Parallel":"Async_Parallel","./Async_Waterfall":"Async_Waterfall"}],AudioLayer:[function(t,e,n){"use strict";cc._RF.push(e,"35e5fFjJuBHWJ2psB3ST/YB","AudioLayer"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_AudioMng"),i=function(){function t(){this.id="",this.audios=[],this.priority=5,this._volume=-1}return Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this.vol(t)},enumerable:!0,configurable:!0}),t.prototype.start=function(){},t.prototype.update=function(t){},t.prototype.delete=function(){for(var t=[],e=0,n=this.audios;e<n.length;e++){var o=n[e];t.push(o)}for(var i=0,r=t;i<r.length;i++){o=r[i];this.remove(o)}},t.prototype.get=function(t){for(var e=0,n=this.audios;e<n.length;e++){var i=n[e];if(i==t)return o.AudioMng.audio(i)}return null},t.prototype.add=function(t){if(-1!=this.audios.indexOf(t))return this;var e=o.AudioMng.audio(t);return e?(this.audios.push(t),e.addLayer(this.id),this):this},t.prototype.move=function(t){var e=o.AudioMng.audio(t);if(!e)return this;for(var n=0,i=e.layers;n<i.length;n++){var r=i[n],s=o.AudioMng.layer(r);s&&s.remove(t)}return this.add(t)},t.prototype.remove=function(t){var e=this.audios.indexOf(t);-1!=e&&(this.get(t).removeLayer(this.id),this.audios.splice(e,1))},t.prototype.vol=function(t){return this._volume=t,this.eachAudio(function(t){t.updateVolume()}),this},t.prototype.prio=function(t){return this.priority=t,this.eachAudio(function(t){t.updateLayers()}),this},t.prototype.play=function(){this.eachAudio(function(t){t.pause()})},t.prototype.pause=function(){this.eachAudio(function(t){t.pause()})},t.prototype.resume=function(t){this.eachAudio(function(t){t.resume()})},t.prototype.stop=function(t){this.eachAudio(function(t){t.stop()})},t.prototype.eachAudio=function(t){for(var e=0,n=this.audios;e<n.length;e++){var i=n[e],r=o.AudioMng.audio(i);r&&t(r)}},t}();n.AudioLayer=i,cc._RF.pop()},{"../index_AudioMng":"index_AudioMng"}],AudioMng:[function(t,e,n){"use strict";cc._RF.push(e,"21e8f2mQr1FIKu9BdYiiD3e","AudioMng"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_AudioMng"),i=t("../../Uzil"),r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id2AudioObj=new Map,e.id2Layer=new Map,e}return __extends(e,t),e.getInstance=function(){return i.Uzil.getComp("AudioMng")},e.play=function(t){this.getInstance().play(t)},e.pause=function(t){this.getInstance().pause(t)},e.resume=function(t){this.getInstance().resume(t)},e.stop=function(t){this.getInstance().stop(t)},e.audio=function(t){return this.getInstance().get(t)},e.layer=function(t){return this.getInstance().layer(t)},e.rmlayer=function(t){this.getInstance().removeLayer(t)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.register=function(t,e){this.id2AudioObj.set(t,e)},e.prototype.get=function(t){return 0==this.id2AudioObj.has(t)?null:this.id2AudioObj.get(t)},e.prototype.play=function(t){var e=this.get(t);e&&e.play()},e.prototype.pause=function(t){var e=this.get(t);e&&e.pause()},e.prototype.resume=function(t){var e=this.get(t);e&&e.resume()},e.prototype.stop=function(t){var e=this.get(t);e&&e.stop()},e.prototype.layer=function(t){if(0==this.id2Layer.has(t)){var e=new o.AudioLayer;e.id=t,this.id2Layer.set(t,e)}return this.id2Layer.get(t)},e.prototype.removeLayer=function(t){0!=this.id2Layer.has(t)&&(this.layer(t).delete(),this.id2Layer.delete(t))},e.instance=null,e=__decorate([s],e)}(cc.Component));n.AudioMng=a,cc._RF.pop()},{"../../Uzil":"Uzil","../index_AudioMng":"index_AudioMng"}],AudioObj:[function(t,e,n){"use strict";cc._RF.push(e,"5423cT2p35KvZVGxvYZ/wpZ","AudioObj"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_AudioMng"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioSource=null,e.audioID="",e.state=o.AudioState.PAUSE,e.layers=[],e.volume=1,e}return __extends(e,t),e.prototype.onLoad=function(){if(null!=this.audioSource||(this.audioSource=this.getComponent(cc.AudioSource),null!=this.audioSource)){var t=this.audioSource.isPlaying,e=this.audioSource.getCurrentTime();this.state=t&&0!=e?o.AudioState.PLAY:t||0==e?o.AudioState.STOP:o.AudioState.PAUSE,o.AudioMng.getInstance().register(this.audioID,this);for(var n=0,i=this.layers;n<i.length;n++){var r=i[n];o.AudioMng.layer(r).add(this.audioID)}}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.addLayer=function(t){-1==this.layers.indexOf(t)&&(this.layers.push(t),this.updateLayers())},e.prototype.removeLayer=function(t){var e=this.layers.indexOf(t);-1!=e&&(this.layers.splice(e,1),this.updateLayers())},e.prototype.setVolume=function(t){this.volume=t,this.updateVolume()},e.prototype.getLayeredVolume=function(){for(var t=-1,e=0,n=this.layers;e<n.length;e++){var i=n[e],r=o.AudioMng.layer(i);if(r&&-1!=r.volume){t=r.volume;break}}return t},e.prototype.play=function(){this.audioSource.play(),this.state=o.AudioState.PLAY},e.prototype.pause=function(){this.audioSource.pause(),this.state=o.AudioState.PAUSE},e.prototype.resume=function(){this.audioSource.isPlaying?this.audioSource.resume():this.audioSource.play(),this.state=o.AudioState.PLAY},e.prototype.stop=function(){this.audioSource.stop(),this.state=o.AudioState.STOP},e.prototype.updateLayers=function(){var t=new Map,e=function(e){if(t.has(e))return t.get(e);var n=o.AudioMng.layer(e);return null==n?null:(t.set(e,n),n)};this.layers.sort(function(t,n){var o=e(t),i=e(n);return o?i?i.priority-o.priority:-1:1}),this.updateVolume()},e.prototype.updateVolume=function(){var t=1;-1!=this.volume&&(t*=this.volume);var e=this.getLayeredVolume();-1!=e&&(t*=e),this.audioSource.volume=t},__decorate([s(cc.AudioSource)],e.prototype,"audioSource",void 0),__decorate([s()],e.prototype,"audioID",void 0),e=__decorate([r],e)}(cc.Component);n.AudioObj=a,cc._RF.pop()},{"../index_AudioMng":"index_AudioMng"}],AudioState:[function(t,e,n){"use strict";cc._RF.push(e,"85d0eVSwqVDVqeOTwCgmXAv","AudioState"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.STOP=0]="STOP",t[t.PLAY=1]="PLAY",t[t.PAUSE=2]="PAUSE"}(n.AudioState||(n.AudioState={})),cc._RF.pop()},{}],BezierData:[function(t,e,n){"use strict";cc._RF.push(e,"e9dc1ftps9I0a60t8EyA6I+","BezierData"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../lib/bezier"),i=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._bezier=null,this._bezier=new o.default(t)}return t.easyBezier=function(e,n,o,i){return new t(0,0,e,n,o,i,1,1)},t.prototype.compute=function(t){return this._bezier.compute(t)},t.prototype.length=function(){return this._bezier.length()},t.prototype.intersects=function(t){return this._bezier.intersects(t)},t.prototype.bbox=function(){return this._bezier.bbox()},t}();n.BezierData=i,cc._RF.pop()},{"../lib/bezier":"bezier"}],BigWinFX:[function(t,e,n){"use strict";cc._RF.push(e,"ad4fbYaGU5MKqGuhJHhXJtl","BigWinFX");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countingNum=null,e.blackBG=null,e.coinShurikens=[],e.isPlaying=!1,e.onExit=new r.Event,e}return o(e,t),e.prototype.onLoad=function(){this.node.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(t){var e=t.wins,n=t.onCountDone,o=t.onExit;this.isPlaying=!0,this.node.active=!0,this.countingNum.resetNum(0),this.countingNum.goto(e);for(var i=0,r=this.coinShurikens;i<r.length;i++){var s=r[i].getComponent("ShurikenComponent").shurikenSystem;s.clear(),s.resume()}void 0!=n&&(this.countingNum.onDone.remove("bigWinFX"),this.countingNum.onDone.addOnce(n).name("bigWinFX")),void 0!=o&&(this.onExit.remove("bigWinFX"),this.onExit.addOnce(o).name("bigWinFX"))},e.prototype.stop=function(){this.isPlaying=!1,this.node.active=!1,this.onExit.call(),this.countingNum.onDone.remove("bigWinFX"),this.onExit.remove("bigWinFX")},i([c(r.CountingNumber)],e.prototype,"countingNum",void 0),i([c(cc.Node)],e.prototype,"blackBG",void 0),i([c(cc.Node)],e.prototype,"coinShurikens",void 0),e=i([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil"}],Blurs:[function(t,e,n){"use strict";cc._RF.push(e,"b2d98IPsO5NvrPymRVY36Sc","Blurs"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Blurs",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"alpha",type:i.PARAM_FLOAT,defaultValue:0},{name:"force",type:i.PARAM_FLOAT2,defaultValue:new cc.Vec2(0,0)}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var n=t.force;e.setParam("force",n)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform float alpha;\n\t\tuniform vec2 force;\n\t\tvarying vec2 uv0;\n\t\tvoid main () {\n\t\t\tvec4 sum = vec4(0.0);\n\n\t\t\tvec2 lv1 = force;\n\t\t\tvec2 lv2 = force * 1.;\n\t\t\tvec2 lv3 = force * 2.;\n\n\t\t\tsum += texture2D(texture, uv0 - lv3) * 0.09;\n\t\t\tsum += texture2D(texture, uv0 - lv2) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 - lv1) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 ) * 0.28;\n\t\t\tsum += texture2D(texture, uv0 + lv1) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 + lv2) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 + lv3) * 0.09;\n\n\t\t\tvec4 _color = color;\n\t\t\t_color.a = alpha;\n\t\t\t\n\t\t\tgl_FragColor = sum * _color;\n\t\t}\n\t"};o.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],Card:[function(t,e,n){"use strict";cc._RF.push(e,"1e397UZnN9IgqCmn/OVYNkB","Card"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_PageCard"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="_anonymous",e.scopes=[],e}return __extends(e,t),Object.defineProperty(e.prototype,"isActive",{get:function(){return this.node.active},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){if(0==this.scopes.length)o.PageCtrl.getInstance().registerCard(this);else for(var t=0,e=this.scopes;t<e.length;t++){var n=e[t];o.PageCtrl.getInstance(n).registerCard(this)}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.active=function(t){void 0===t&&(t=!1),!t&&this.isActive||(this.node.active=!0,this._onActive())},e.prototype.deactive=function(t){void 0===t&&(t=!1),(t||this.isActive)&&(this.node.active=!1,this._onDeactive())},e.prototype._onActive=function(){},e.prototype._onDeactive=function(){},__decorate([s()],e.prototype,"id",void 0),__decorate([s({type:cc.String})],e.prototype,"scopes",void 0),e=__decorate([r],e)}(cc.Component);n.Card=a,cc._RF.pop()},{"../index_PageCard":"index_PageCard"}],CocosAnimator:[function(t,e,n){"use strict";cc._RF.push(e,"6f9d4mpEvRNvpiGm6S0hKcn","CocosAnimator");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../index_Animator"),s=t("../../Uzil"),a=t("../../System/script/Mathf"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e._playedTime=0,e._timeScale=-1,e._currentClip=null,e}return o(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){},e.prototype._update=function(){for(var t=this.getNormalizedTime(),e=[],n=0,o=this.onTime.listeners;n<o.length;n++){t<(s=o[n]).other.time_percent||(s.other.isRunedInLoop||(s.func(),s.other.isRunedInLoop=!0,(s.callTime=1)&&e.push(s)))}for(var i=0,r=e;i<r.length;i++){var s=r[i];this.onTime.remove(s)}},e.prototype.callEvent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=[],i=0,r=this.onEvent.listeners;i<r.length;i++){(c=r[i]).other.eventTag==t&&(c.call(),1==c.callTime&&o.push(c))}for(var s=0,a=o;s<a.length;s++){var c=a[s];this.onEvent.remove(c)}},e.prototype.callAudio=function(t){this._playAudio(t)},e.prototype._play=function(t){this.animation.play(t.name),this.animation.resume(),this._reRegEvent(),this._playedTime=0,this._currentClip=this.animation.currentClip},e.prototype._playAdditive=function(t){this.animation.playAdditive(t.name)},e.prototype._stop=function(){this.animation.stop(),this._playedTime=0},e.prototype._pause=function(){this.animation.pause()},e.prototype._resume=function(){this.animation.resume()},e.prototype._setTime=function(t){this.animation.setCurrentTime(t)},e.prototype._getTime=function(){var t=this._currentClip;return t?this.animation.getAnimationState(t.name).time:-1},e.prototype._setNormalizedTime=function(t){var e=this._currentClip;if(e){var n=e.duration;this._setTime(a.Mathf.lerp(0,n,t))}},e.prototype._getNormalizedTime=function(){var t=this._currentClip;if(!t)return-1;var e=this.animation.getAnimationState(t.name),n=t.duration,o=e.time;return(e.wrapMode==cc.WrapMode.Normal||e.wrapMode==cc.WrapMode.Default||e.wrapMode==cc.WrapMode.Reverse)&&o>n?1:o/n%1},e.prototype._setTimeScale=function(t){for(var e=0,n=this.animation._clips;e<n.length;e++){var o=n[e];this.animation.getAnimationState(o.name).speed=t}this._timeScale=t},e.prototype._getTimeScale=function(){if(-1!=this._timeScale)return this._timeScale;for(var t=0,e=this.animation._clips;t<e.length;t++){var n=e[t],o=this.animation.getAnimationState(n.name);this._setTimeScale(o.speed);break}return this._timeScale},e.prototype._reRegEvent=function(){this.animation.off("lastframe",this._onLastFrame,this),this.animation.off("finished",this._onLastFrame,this),this.animation.on("lastframe",this._onLastFrame,this),this.animation.on("finished",this._onLastFrame,this)},e.prototype._onLastFrame=function(t){this._playedTime++;for(var e=0,n=this.onTime.listeners;e<n.length;e++){n[e].other.isRunedInLoop=!1}this.onComplete.call()},e.prototype.example_script=function(){var t=this,e=new r.AnimClip("xMove"),n=new r.AnimClip("yMove"),o=new r.AnimState("stateX");o.addClip(e);var i=new r.AnimState("stateY");i.addClip(e),i.addClip(n);var a=(new r.AnimTransition).next(i);a.exitTime=5;var c=new r.AnimCondition("isToY",s.Comparer.EQUAL,!0);a.addCondition(c);var l=(new r.AnimTransition).next(o);l.exitTime=1,o.addTransition(a),i.addTransition(l),this.addState(o),this.addState(i),this.parameter.isToY=!1,this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove"}],transitions:[{nextState:"stateY",exitTime:5,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove"},{name:"yMove"}],transitions:[{nextState:"stateX",exitTime:1,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},i([u(cc.Animation)],e.prototype,"animation",void 0),e=i([l],e)}(r.Animator);n.CocosAnimator=p,cc._RF.pop()},{"../../System/script/Mathf":"Mathf","../../Uzil":"Uzil","../index_Animator":"index_Animator"}],ColMiddle:[function(t,e,n){"use strict";cc._RF.push(e,"d854ax+ToJHIpuU4hCe1acw","ColMiddle"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../uzil/Uzil"),i=function(){function t(){this.data=null,this.objs=[],this.args={},this.runtimeArgs=new Map}return t.prototype.isAnyObjActive=function(){for(var t=0,e=this.objs;t<e.length;t++){if(e[t].node.active)return!0}return!1},t.prototype.getArgs=function(t){if(void 0===t&&(t=null),null!=t&&this.runtimeArgs.has(t)){var e={};return this.runtimeArgs.get(t).forEach(function(t,n){e[n]=t.getCurrent()}),o.Objf.assign({},this.args,e)}return this.args},t.prototype.setRuntimeArgs=function(t,e,n,i){var r;this.updateRuntimeArgs(),void 0!=n&&null!=n||(n=0),this.runtimeArgs.has(t)?r=this.runtimeArgs.get(t):(r=new Map,this.runtimeArgs.set(t,r));for(var s=0,a=Object.keys(i);s<a.length;s++){var c=a[s],l=i[c],u=void 0;r.has(c)?u=r.get(c):(u=new o.Values(l),r.set(c,u)),u.set(e,n,l)}},t.prototype.delRuntimeArgs=function(t,e){for(var n=0,o=null==t?this.objs:[t];n<o.length;n++){var i=o[n];if(0!=this.runtimeArgs.has(i))this.runtimeArgs.get(i).forEach(function(t,n){t.remove(e)})}this.updateRuntimeArgs()},t.prototype.updateRuntimeArgs=function(){var t=this,e=[];this.runtimeArgs.forEach(function(n,o){-1==t.objs.indexOf(o)&&e.push(o)});for(var n=0,o=e;n<o.length;n++){var i=o[n];this.runtimeArgs.delete(i)}},t.prototype.getRuntimeArgsCopy=function(){var t=new Map;return this.runtimeArgs.forEach(function(e,n){var o=new Map;e.forEach(function(t,e){o.set(e,t)}),t.set(n,o)}),t},t}();n.ColMiddle=i,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil"}],Comparer:[function(t,e,n){"use strict";cc._RF.push(e,"5e8a7YmbElJzaBqzaYcImS7","Comparer"),Object.defineProperty(n,"__esModule",{value:!0}),n.Comparer={EQUAL:"==",NOT_EQUAL:"!=",GREATER:">",GREATER_EQUAL:">=",LESS:"<",LESS_EQUAL:"<="},cc._RF.pop()},{}],CountingNumber:[function(t,e,n){"use strict";cc._RF.push(e,"e3d43G4kjdEeqcvNcYK5tdN","CountingNumber");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(){function t(){this.stepName="",this.weightedTime=0,this.targetNum=0}return i([c()],t.prototype,"stepName",void 0),i([c()],t.prototype,"weightedTime",void 0),i([c()],t.prototype,"targetNum",void 0),t=i([a("CountingNumberStep")],t)}();n.CountingNumberStep=l;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isInited=!1,e.initNum=0,e._currentNum=0,e._startNum=0,e._targetNum=0,e._totalTime=-1,e._currentTime=0,e._startStepInfo=null,e._weightedTimeDelta=0,e._toShowStrArray=[],e.toShowNum=0,e.updateShowCD=.02,e._leftShowCD=0,e.filters=[],e.label=null,e.stepSettingJson=null,e.steps=[],e._lastStep=-1,e.onStep=new r.Event,e.onDone=new r.Event,e}return o(e,t),Object.defineProperty(e.prototype,"currentNum",{get:function(){return this._currentNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startNum",{get:function(){return this._startNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetNum",{get:function(){return this._targetNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalTime",{get:function(){return this._totalTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._currentTime},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.update=function(t){var e=t*r.Time.timeScale;this._updateNum(e),this._updateShow(e)},e.prototype._updateNum=function(t){if(-1!=this._totalTime)if(this._currentNum!=this._targetNum){this._currentTime=r.Mathf.moveToward(this._currentTime,this._totalTime,t);var e=this._currentTime/this._totalTime,n=this._currentNum,o=this._startStepInfo.weightedTime+this._weightedTimeDelta*e,i=this.getInStepNum(o);n=i.num,1==e&&(n=this._targetNum,this.onDone.call()),this._currentNum=Math.floor(n);var s=i.step;this._lastStep!=s&&(this.onStep.call(s),this._lastStep=s)}else this.toShowNum=this._currentNum},e.prototype._updateShow=function(t){if(this._leftShowCD-=t,!(this._leftShowCD>0)){this._leftShowCD=this.updateShowCD;for(var e=-1,n=this._toShowStrArray,o=this._currentNum.toString().split(""),i=n.length<=o.length?n.length:o.length;i>0;i--){var s=n.length-i,a=o.length-i;if(o[a]==n[s]){if(-1!=e){var c=parseInt(n[s]);c=Math.floor(new r.RandomRange(0,9).get()),o[a]=c.toString()}}else e=i}if(this._toShowStrArray=o,this.toShowNum=parseInt(this._toShowStrArray.join("")),null!=this.label){for(var l=this.toShowNum,u=0,p=this.filters;u<p.length;u++){l=(0,p[u])(l)}"string"!=typeof l&&(l=l.toString()),this.label.string=l}}},e.prototype.init=function(){if(!this._isInited&&(this._isInited=!0,this.resetNum(this.initNum),this.stepSettingJson))for(var t=0,e=this.stepSettingJson.json;t<e.length;t++){var n=e[t];this.setStep(n.name,n.targetNum,n.time)}},e.prototype.resetNum=function(t){this.init(),this._currentTime=-1==this._currentTime?-1:0,this._currentNum=t,this.toShowNum=t,this._targetNum=t},e.prototype.goto=function(t,e){void 0===e&&(e=-1),this.init(),this._startNum=this._currentNum,this._targetNum=t,this._startStepInfo=this.getInStepWeightedTime(this._currentNum);var n=this.getInStepWeightedTime(this._targetNum);this._weightedTimeDelta=n.weightedTime-this._startStepInfo.weightedTime,this._totalTime=-1==e?this._weightedTimeDelta:e},e.prototype.setStep=function(t,e,n){var o=this.getStep(t);o||(o=new l,this.steps.push(o)),o.targetNum=e,o.weightedTime=n,this.steps.sort(function(t,e){return t.targetNum-e.targetNum})},e.prototype.getInStepWeightedTime=function(t){for(var e=0,n=0,o=0;o<this.steps.length-1;o++){var i=this.steps[o],r=this.steps[o+1];if(n=o,t>=i.targetNum&&t<r.targetNum){var s=(t-i.targetNum)/(r.targetNum-i.targetNum);n+=s,e+=i.weightedTime*s;break}e+=i.weightedTime}return{step:n,weightedTime:e}},e.prototype.getInStepNum=function(t){for(var e=t,n=0,o=this.steps[0].targetNum,i=0;i<this.steps.length-1;i++){var r=this.steps[i],s=this.steps[i+1];n=i;var a=e-r.weightedTime;if(!(a>=0)){var c=e/r.weightedTime,l=s.targetNum-r.targetNum;o=r.targetNum+l*c;break}e=a,o=s.targetNum}return{step:n,num:o}},e.prototype.getStep=function(t){for(var e=0,n=this.steps;e<n.length;e++){var o=n[e];if(o.stepName==t)return o}return null},i([c()],e.prototype,"initNum",void 0),i([c()],e.prototype,"updateShowCD",void 0),i([c(cc.Label)],e.prototype,"label",void 0),i([c(cc.JsonAsset)],e.prototype,"stepSettingJson",void 0),i([c(l)],e.prototype,"steps",void 0),e=i([a],e)}(cc.Component);n.CountingNumber=u,cc._RF.pop()},{"../../../Uzil":"Uzil"}],CurveData:[function(t,e,n){"use strict";cc._RF.push(e,"cdd24FqCUlD67H6GWaTRZr5","CurveData"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_Curve"),i=t("../../Uzil"),r=t("./PointData"),s=function(){function t(){this.length=0,this.points=[]}return t.create=function(e){var n=new t;return n.init(e),n},t.json=function(e){var n=JSON.parse(e);return t.create(n)},t.prototype.init=function(t){if(this.points=[],t.hasOwnProperty("points"))for(var e=0,n=t.points;e<n.length;e++){var i=n[e],r=o.PointData.create(i);this.points.push(r)}t.hasOwnProperty("length")&&(this.length=t.length)},t.prototype.compute=function(t){return this.getVal(t)},t.prototype.getVal=function(t){if(0==this.points.length)return 0;if(1==this.points.length)return this.points[0].pos.y;var e,n=this.points[0],o=this.points[this.points.length-1],s=(n.pos.x,o.pos.x*i.Mathf.clamp(t,0,this.length)/this.length),a=n,c=o;if(s==a.pos.x)return a.pos.y;if(s==c.pos.x)return c.pos.y;for(var l=1;l<this.points.length;l++){if(!((e=this.points[l]).pos.x<s)){c=e;break}a=e}var u=a.pos.x,p=a.pos.y,h=c.pos.x,f=c.pos.y,d=u+a.easeOut.x,_=p+a.easeOut.y,y=h+c.easeIn.x,v=f+c.easeIn.y,g=a.getEaseOutType();if(g==r.EaseType.constant)return a.pos.y;g==r.EaseType.linear?(d=u,_=p):r.EaseType.free,c.getEaseInType()==r.EaseType.linear?(y=h,v=f):r.EaseType.free;var m=new i.BezierData(u,p,d,_,y,v,h,f),b=m.bbox(),S={p1:{x:s,y:b.y.min-1},p2:{x:s,y:b.y.max+1}},R=m.intersects(S);if(0==R.length)return cc.log(b),0;var x=R[0];return m.compute(x).y},t.prototype.getStartVal=function(){return this.getVal(0)},t.prototype.getEndVal=function(){return this.getVal(this.length)},t}();n.CurveData=s,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Curve":"index_Curve","./PointData":"PointData"}],CustomMaterial:[function(t,e,n){"use strict";cc._RF.push(e,"8aa76H3+6RD8r/Te9PtLYXo","CustomMaterial");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=cc.renderer,r=i.renderEngine,s=r.gfx,a=function(t){function e(e){var n=t.call(this,!1)||this;return n.shader=null,n._init(e),n}return o(e,t),e.prototype._init=function(t){this.shader=t;var e=t.name,n=t.params,o=t.defines,a=t.vert,c=t.frag,l=r.renderer,u=i._forward._programLib;!u._templates[e]&&u.define(e,a,c,o||[]);var p=new l.Pass(e);p.setDepth(!1,!1),p.setCullMode(s.CULL_NONE),p.setBlend(s.BLEND_FUNC_ADD,s.BLEND_SRC_ALPHA,s.BLEND_ONE_MINUS_SRC_ALPHA,s.BLEND_FUNC_ADD,s.BLEND_SRC_ALPHA,s.BLEND_ONE_MINUS_SRC_ALPHA);var h=[{name:"texture",type:l.PARAM_TEXTURE_2D},{name:"color",type:l.PARAM_COLOR4},{name:"time",type:l.PARAM_FLOAT}];n&&(h=h.concat(n));var f=new l.Technique(["transparent"],h,[p]);return this.shaderName=e,this._texture=null,this._color={r:1,g:1,b:1,a:1},this._effect=this.effect=new l.Effect([f],h,o),this._mainTech=f,this},e.prototype.clone=function(){var t=new e(this.shader);return t.updateHash(),t},e.prototype.setParam=function(t,e){this._effect.setProperty(t,e)},e.prototype.getParam=function(t){return this._effect.getProperty(t)},e.prototype.setMainTexture=function(t){null!=t&&(this._texture=t,this._effect.setProperty("texture",t.getImpl()),this._texIds.texture=t.getId())},e.prototype.setTexture=function(t,e){null!=e&&(this._effect.setProperty(t,e.getImpl()),this._texIds[t]=e.getId())},e.prototype.setColor=function(t){this._color=new cc.Color,this._color.r=t.getR()/255,this._color.g=t.getG()/255,this._color.b=t.getB()/255,this._color.a=t.getA()/255,this._effect.setProperty("color",this._color)},e.prototype.setDefine=function(t,e){this._effect.define(t,e)},e}(r.Material);n.default=a,cc._RF.pop()},{}],DrawCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"7fe7fQ/UKhPIplsfMKdtYDr","DrawCtrl");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../uzil/Uzil"),s=t("./DrawMethod/DrawMethod"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drawMethod=null,e.gameCtrl=null,e.isDrawing=!1,e.onPlay=new r.Event,e.onDrawDone=new r.Event,e.onStop=new r.Event,e}return o(e,t),e.prototype.onLoad=function(){this.drawMethod.init(this)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.play=function(t,e){null!=t?(this.isDrawing=!0,null!=e&&this.onDrawDone.addOnce(function(){e()}),this.drawMethod.play(t)):e()},e.prototype.stop=function(){this.isDrawing=!1,this.drawMethod.stop()},e.prototype.drawDone=function(){this.isDrawing=!1,this.onDrawDone.call()},i([l(s.DrawMethod)],e.prototype,"drawMethod",void 0),e=i([c],e)}(cc.Component);n.DrawCtrl=u,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","./DrawMethod/DrawMethod":"DrawMethod"}],DrawMethod_TumblingReel:[function(t,e,n){"use strict";cc._RF.push(e,"620133Pj3RODqItUrPQYTlh","DrawMethod_TumblingReel");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../uzil/Uzil"),c=t("../../Util/SlotUtil"),l=t("../../../../Rule/index_Rule"),u=t("../../../../Reel/index_Reel"),p=t("../../../../Act/index_Act"),h=t("./DrawMethod"),f=t("../../../../../G00/TestRes/BigWinFX/sciprt/BigWinFX"),d=cc._decorator,_=d.ccclass,y=d.property,v="DrawMethod_TumblingReels",g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDebug=!1,e.baseResultReelIdxs=[0,1,2,3,4],e.extraResultReelIdxs=[5],e.drawAct=null,e.bigWinFX=null,e.bigWinScoreGate=100,e.eachWinDataInterval_sec=1,e.dropSpeed=8,e.dropSpeed_tweak=[],e.dropDelay=.1,e.dropCurve_json=null,e._dropCurve=new a.CurveData,e._isSkipOnce=!1,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.play=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,u,p,h,f,d,_,y,v,g,m,b,S,R,x,P,O,w,C,A,T,M,I=this;return s(this,function(D){switch(D.label){case 0:for(e=this,this.isDebug&&cc.log("==TumblingReels=============="),n=this._drawCtrl,o=n.gameCtrl,i=o.reelCtrl,u=t.totalBet,p=t.result,cc.log(p),h=t.reelResult,f=t.oddsTable,d=(d=p.dropColDatas).slice(),cc.log("dropColDatas",d),_=0,o.spinCtrl.spinUI.setSpinning(!0,"DrawMethod_TumblingReels",100),o.spinCtrl.lockInput({with:["spin","stop"]},"DrawMethod_TumblingReels",100),y=new Map,v=[],g=[],C=0;C<h.length;C++)m=i.reelContainer.getReel(C).getReelRow(),g.push(m);b=function(t){return r(I,void 0,void 0,function(){return s(this,function(n){return[2,new Promise(function(n,o){e._isSkipOnce?n():e._waitTask=a.Invoker.once(n,t)})]})})},S=function(t){return r(I,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,p){return r(n,void 0,void 0,function(){var n,r,p,h,m,S,R,x,P,O,w,C,A,T,M,I,D,j,E,k,N,F,L,z,U,B,V,W,G,q,H,Y,X,J,Z,K,Q,$,tt,et,nt,ot,it,rt,st,at,ct,lt;return s(this,function(s){switch(s.label){case 0:if(n=t.slice(this.baseResultReelIdxs.length,this.baseResultReelIdxs.length+this.extraResultReelIdxs.length),r=t.slice(0,this.baseResultReelIdxs.length),0==(p=l.WinsRule.getWinDataList_Way(u,r,f,{extraReelResult:n})).length)return i(null),[2];for(h=[],m=0,S=p;m<S.length;m++){for(R=S[m],lt=0;lt<R.path.length;lt++)for(x=void 0,h.length<lt+1?(x=[],h.push(x)):x=h[lt],C=R.path[lt],P=0,O=C;P<O.length;P++)et=O[P],-1==x.indexOf(et)&&x.push(et);_+=R.winBonus}return e._playAllWin(p),o.wallet.setWin(_),[4,b(e.eachWinDataInterval_sec)];case 1:for(s.sent(),w=[],lt=0;lt<h.length;lt++)for(q=g[lt],C=h[lt],A=0;A<C.length;A++){for(et=C[A],nt=q.stripData.getColByIdx(et),T=q.view.requestMiddle(nt),M=0,I=T.objs;M<I.length;M++)B=I[M],T.setRuntimeArgs(B,"draw",100,{isActive:!1});w=w.concat(T.objs)}for(D=0,j=w;D<j.length;D++)(B=j[D]).setActive(!1),B.setActive(!1,"draw",100),v.push(B);for(E=[],k=0,N=t;k<N.length;k++){for(F=N[k],L=[],z=0,U=F;z<U.length;z++)B=U[z],L.push(B);E.push(L)}for(V=[],W=[],G=[],lt=0;lt<t.length;lt++)for(q=g[lt],H=q.stripData,Y=q.getResultRange(),X=[],E[lt]=X,J=void 0,J=lt<h.length?h[lt]:[],Z=[],V[lt]=Z,K=[],G[lt]=K,W.push(null),Q=g[lt].currentPos+Y[1],$=t[lt],tt=!1,et=$.length-1;et>=0;et--)nt=$[et],ot=nt.idx,it=-1!=J.indexOf(ot),tt||it?(it?tt||(tt=!0,rt=nt.getTriggerRange()[1],Q!=rt&&(st=a.Mathf.getOffsetsLoop(Q,rt,H.min,H.max),a.Mathf.minAbs.apply(a.Mathf,st)<0&&(Q=rt))):K.push(ot),Z.push({col:ot,isWin:it}),W[lt]=Q):X.unshift(nt);for(at=0,this._dropCurve.init(this.dropCurve_json.json),ct=function(t){if(0==V[t].length)return"continue";var n=E[t],o=g[t],r=o.stripData,s=o.view,l=a.Mathf.loop(o.currentPos-s.displayRange_back,r.min,r.max),u=W[t];Math.abs(u-l)>r.totalLength&&(u-=r.totalLength),l>u&&(u+=r.totalLength);for(var p=0,h=0,f=l,_=G[t],v=0,m=function(){var l=c.SlotUtil.requestExColIdx(t),g=void 0,m=void 0,b=void 0,S=void 0;if(_.length>0){var R=_.shift();g=(O=r.getColByIdx(R)).getCopy(),m=s.requestMiddle(O),s.setInView(l,!0),b=O.pos;var x=O.getTriggerRange()[0],P=a.Mathf.getOffsetsLoop(f,x,r.min,r.max);a.Mathf.minAbs.apply(a.Mathf,P)<0&&(f=x)}else{var O;g=(O=d[t].pop()).getCopy(),b=f-h-g.triggerRange_relative[1],h+=g.getTriggerLength()}g.addTag("temp","resultable");var w=g.getTriggerLength();(S=u-p-g.triggerRange_relative[1])<b&&(S+=r.totalLength),g.idx=l,g.pos=a.Mathf.loop(S,r.min,r.max),r.cols.push(g),n.unshift(g),p+=w;var C=s.requestMiddle(g);if(null!=m){var A=m.objs;m.objs=[],C.objs=A;var T=m.getArgs();delete T.offset,C.args=T,m.delRuntimeArgs(null,"temp"),m.updateRuntimeArgs()}var M=a.Mathf.getOffsetsLoop(S,b,r.min,r.max)[0];C.args.offsetBase=M;var I,D=void 0;y.has(o)?D=y.get(o):(D=[],y.set(o,D)),-1==D.indexOf(g)&&D.push(g);var j=0,k=e.dropSpeed_tweak[t];k||(k=0);var N=e.dropSpeed+k,F=Math.abs(M)/(N/r.blockPerCol_forAnim);F+=e.dropDelay*v,I=a.Invoker.update(function(t){j+=t;var n=a.Mathf.clamp(j/F,0,1),o=e._dropCurve.getVal(n*e._dropCurve.length),r=a.Mathf.lerp(M,0,1-o);e._isSkipOnce&&(r=0),C.args.offsetBase=r,s.render(),0==r&&(a.Invoker.stop(I),delete C.args.offsetBase,--at<=0&&i(E))}),at++,v++};u-p>l;)m()},lt=0;lt<V.length;lt++)ct(lt);return[2]}})})})]})})},D.label=1;case 1:return null==h?[3,3]:(R=h,[4,S(h)]);case 2:return h=D.sent(),[3,1];case 3:for(x=[],P=0,O=R;P<O.length;P++)M=O[P],x.push(M[0]);for(w=function(t){var e=g[t],n=e.stripData,o=e.getResultRange();if(0==y.has(e))return"continue";var i=y.get(e),r=e.currentPos-8,s=e.stripData.getColsByTriggerRange(r+a.Mathf.addAbs(o[0],-1e-5),r+a.Mathf.addAbs(o[1],-1e-5),r),l=new Map;s.forEach(function(t){l.set(t.idx,a.Mathf.getOffsetsLoop(r,t.pos,n.min,n.max)[1])}),s.sort(function(t,e){return l.get(t.idx)-l.get(e.idx)}),r=s[0].getTriggerRange()[0]+o[1];var u=a.Mathf.loop(e.currentPos+o[0],n.min,n.max),p=x[t],h=Math.abs(a.Mathf.getOffsetsLoop(p.getTriggerRange()[0],u,e.stripData.min,e.stripData.max)[1]);r+=h+1e-5,e.shift(r);for(var f=0,d=e.getVisibles();f<d.length;f++)for(var _=0,v=(S=d[f]).objs;_<v.length;_++){v[_].setBlur(cc.Vec2.ZERO,!0)}for(var m=0,b=i;m<b.length;m++){var S=b[m],R=e.stripData.cols.indexOf(S);-1!=R&&(e.stripData.cols.splice(R,1),c.SlotUtil.recoveryExColIdx(t,S.idx),e.view.setInView(S.idx,!1),e.view.destroyMiddleByData(S))}},C=0;C<g.length;C++)w(C);for(o.wallet.setBalance(o.netMod.player.credit),A=0,T=v;A<T.length;A++)(M=T[A]).setActive(null,"draw");return _>=this.bigWinScoreGate?[4,e.playBigWin(_)]:[3,5];case 4:D.sent(),D.label=5;case 5:return e.drawAct.stop(),o.spinCtrl.spinUI.setSpinning(null,"DrawMethod_TumblingReels"),o.spinCtrl.lockInput({all:null},"DrawMethod_TumblingReels"),n.drawDone(),[2]}})})},e.prototype.stop=function(){var t=this._drawCtrl.gameCtrl.spinCtrl.spinUI;this._isSkipOnce=!1,this.drawAct.stop();for(var e=0,n=this.drawAct.acts.slice();e<n.length;e++){var o=n[e];this.drawAct.removeAct(o),o.node.destroy()}this.bigWinFX.isPlaying&&(this.bigWinFX.stop(),t.lockInput({all:null},v,20))},e.prototype.skip=function(){this._isSkipOnce=!0,a.Invoker.cancel(this._waitTask),this._waitTask.call()},e.prototype._playAllWin=function(t){var e=this._drawCtrl.gameCtrl;this.drawAct.stop();for(var n=0,o=this.drawAct.acts.slice();n<o.length;n++){var i=o[n];this.drawAct.removeAct(i),i.node.destroy()}var r=new cc.Node;r.setParent(this.drawAct.node);for(var s=r.addComponent("ActObj_Group"),a=[],c=0,l=t;c<l.length;c++)for(var u=l[c],p=0;p<u.path.length;p++)for(var h=p.toString(),f=0,d=u.path[p];f<d.length;f++){var _=d[f],y=h+_.toString();if(-1==a.indexOf(y)){a.push(y);var v=e.reelCtrl.reelContainer.getReel(p),g=v.getReelRow(),m=g.stripData.getColByIdx(_),b=g.view.requestMiddle(m),S=v.getColObjsByCol(b.data.idx);if(null!=S)for(var R=0,x=S;R<x.length;R++){var P=x[R],O=new cc.Node;O.setParent(r);var w=O.addComponent("ActObj_AnimOnCol");w.setColObj(P),w.prefabResID="uzlot.symbolWinFX.comm",s.acts.push(w);var C=O.addComponent("ActObj_SymbolBlink");C.setColObj(P),s.acts.push(C);var A=O.addComponent("ActObj_SymbolAnim");A.setColObj(P),s.acts.push(A)}else cc.log("colObj not exist")}}this.drawAct.acts.push(s),this.drawAct.play()},e.prototype._test_requestDropCol=function(t){var e=new u.ReelColData;return e.idx=0,e.tags=["resultable"],e.symbol=Math.floor(4*Math.random())+1,e.sizeLevel=2,e.triggerRange_relative=[1,1],e.displayRange_relative=[1,1],e},e.prototype.playBigWin=function(t){var e=this,n=this._drawCtrl.gameCtrl,o=n.spinCtrl.spinUI;return new Promise(function(i,r){o.lockInput({all:!0},v,20),e.bigWinFX.play({wins:t,onCountDone:function(){"auto"==n.spinCtrl.stateCtrl.currentState.name&&a.Invoker.once(function(){e.bigWinFX.isPlaying&&(e.bigWinFX.stop(),o.lockInput({all:null},v,20)),i()},2).tag("drawDone")},onExit:function(){a.Invoker.cancel("drawDone"),o.lockInput({all:null},v,20),i()}})})},i([y()],e.prototype,"isDebug",void 0),i([y({type:cc.Integer})],e.prototype,"baseResultReelIdxs",void 0),i([y({type:cc.Integer})],e.prototype,"extraResultReelIdxs",void 0),i([y(p.ActObj_Repeat)],e.prototype,"drawAct",void 0),i([y(f.default)],e.prototype,"bigWinFX",void 0),i([y()],e.prototype,"bigWinScoreGate",void 0),i([y()],e.prototype,"eachWinDataInterval_sec",void 0),i([y()],e.prototype,"dropSpeed",void 0),i([y({type:cc.Float})],e.prototype,"dropSpeed_tweak",void 0),i([y()],e.prototype,"dropDelay",void 0),i([y(cc.JsonAsset)],e.prototype,"dropCurve_json",void 0),e=i([_],e)}(h.DrawMethod);n.DrawMethod_TumblingReel=g,cc._RF.pop()},{"../../../../../G00/TestRes/BigWinFX/sciprt/BigWinFX":"BigWinFX","../../../../../uzil/Uzil":"Uzil","../../../../Act/index_Act":"index_Act","../../../../Reel/index_Reel":"index_Reel","../../../../Rule/index_Rule":"index_Rule","../../Util/SlotUtil":"SlotUtil","./DrawMethod":"DrawMethod"}],DrawMethod_Way:[function(t,e,n){"use strict";cc._RF.push(e,"1f2c9mxNGhNrqF3coUuQrP2","DrawMethod_Way");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=t("../../../../Rule/index_Rule"),a=t("../../../../Act/index_Act"),c=t("./DrawMethod"),l=t("../../../../../G00/TestRes/BigWinFX/sciprt/BigWinFX"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._eventName="DrawCtrlState_Way",e.baseResultReelIdxs=[0,1,2,3,4],e.extraResultReelIdxs=[5],e.drawAct=null,e.bigWinFX=null,e.bigWinScoreGate=100,e.eachWinDataInterval_sec=1,e}return o(e,t),e.prototype.play=function(t){var e=this._drawCtrl,n=e.gameCtrl,o=n.spinCtrl.spinUI,i=t.totalBet,a=t.result,c=t.reelResult,l=t.oddsTable,u=c.slice(this.baseResultReelIdxs.length,this.baseResultReelIdxs.length+this.extraResultReelIdxs.length),p=c.slice(0,this.baseResultReelIdxs.length),h=s.WinsRule.getWinDataList_Way(i,p,l,{extraReelResult:u});if(0!=h.length){n.wallet.setWin(a.totalWinBonus);for(var f=0,d=h;f<d.length;f++){var _=d[f],y=new cc.Node;y.setParent(this.drawAct.node);for(var v=y.addComponent("ActObj_Group"),g=0;g<_.path.length;g++)for(var m=0,b=_.path[g];m<b.length;m++){var S=b[m],R=n.reelCtrl.reelContainer.getReel(g).getReelRow(),x=R.stripData.getColByIdx(S),P=R.view.requestMiddle(x).objs;if(null!=P)for(var O=0,w=P;O<w.length;O++){var C=w[O],A=new cc.Node;A.setParent(y);var T=A.addComponent("ActObj_AnimOnCol");T.setColObj(C),T.prefabResID="uzlot.symbolWinFX.comm",v.acts.push(T);var M=A.addComponent("ActObj_SymbolBlink");M.setColObj(C),v.acts.push(M);var I=A.addComponent("ActObj_SymbolAnim");I.setColObj(C),v.acts.push(I)}else cc.log("colObj not exist")}this.drawAct.acts.push(v)}this.drawAct.play();var D=a.totalWinBonus;if(D>=this.bigWinScoreGate){o.lockInput({all:!0},"DrawMethod_Way",20),this.bigWinFX.play({wins:D,onCountDone:function(){"auto"==n.spinCtrl.stateCtrl.currentState.name&&r.Invoker.once(function(){e.drawDone()},2).tag("drawDone")},onExit:function(){r.Invoker.cancel("drawDone"),o.lockInput({all:null},"DrawMethod_Way",20),e.drawDone()}})}else e.drawDone();n.wallet.setBalance(n.netMod.player.credit),n.spinCtrl.onSpin.add(function(){e.stop()}).name(this._eventName)}else e.drawDone()},e.prototype.stop=function(){var t=this._drawCtrl,e=t.gameCtrl,n=t.gameCtrl.spinCtrl,o=n.spinUI;this.drawAct.stop();for(var i=0,r=this.drawAct.acts.slice();i<r.length;i++){var s=r[i];this.drawAct.removeAct(s),s.node.destroy()}n.onSpin.remove(this._eventName),this.bigWinFX.isPlaying&&(this.bigWinFX.stop(),o.lockInput({all:null},"DrawMethod_Way",20)),null!=e.spinResult&&e.wallet.setBalance(e.spinResult.currentCredit)},i([h({type:cc.Integer})],e.prototype,"baseResultReelIdxs",void 0),i([h({type:cc.Integer})],e.prototype,"extraResultReelIdxs",void 0),i([h(a.ActObj_Repeat)],e.prototype,"drawAct",void 0),i([h(l.default)],e.prototype,"bigWinFX",void 0),i([h()],e.prototype,"bigWinScoreGate",void 0),i([h()],e.prototype,"eachWinDataInterval_sec",void 0),e=i([p],e)}(c.DrawMethod);n.DrawMethod_Way=f,cc._RF.pop()},{"../../../../../G00/TestRes/BigWinFX/sciprt/BigWinFX":"BigWinFX","../../../../../uzil/Uzil":"Uzil","../../../../Act/index_Act":"index_Act","../../../../Rule/index_Rule":"index_Rule","./DrawMethod":"DrawMethod"}],DrawMethod:[function(t,e,n){"use strict";cc._RF.push(e,"93a5dmgIPlEGrKIggzTK+0b","DrawMethod");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._drawCtrl=null,e}return o(e,t),e.prototype.init=function(t){this._drawCtrl=t},e.prototype.play=function(t){},e.prototype.stop=function(){},e=i([s],e)}(cc.Component));n.DrawMethod=a,cc._RF.pop()},{}],EventBus:[function(t,e,n){"use strict";cc._RF.push(e,"bd4d0I795xEOYNujEC+BkBT","EventBus"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_Event"),i=function(){function t(){this.tag2Event={},this.anyEvent=new o.Event}return t.get=function(e){void 0===e&&(e="_default");var n=this._instances[e];return n||(n=new t,this._instances[e]=n),n},t.prototype.post=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this._getEvent(t);i&&i.call.apply(i,n),(e=this.anyEvent).call.apply(e,[t].concat(n))},t.prototype.register=function(t,e){this._getEvent(t).addListener(e)},t.prototype.registerAny=function(t){this.anyEvent.addListener(t)},t.prototype.unregisterTag=function(t){this.tag2Event[t]&&delete this.tag2Event[t]},t.prototype.unregisterID=function(t){for(var e in this.tag2Event)this.tag2Event[e].remove(t);this.anyEvent.remove(t)},t.prototype._getEvent=function(t){var e=this.tag2Event[t];return e||(e=new o.Event,this.tag2Event[t]=e),e},t._instances={},t}();n.EventBus=i,cc._RF.pop()},{"../index_Event":"index_Event"}],EventData:[function(t,e,n){"use strict";cc._RF.push(e,"c8d25aGNodAGovsuA1lE9n1","EventData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){this.name="_anonymous",this.data={},this.args=[],this.event=null,this.stop=function(){},this.wait=function(){},this.next=function(){},this.removeListener=function(){}}}();n.EventData=o,cc._RF.pop()},{}],EventListener:[function(t,e,n){"use strict";cc._RF.push(e,"3ca3ddYbuxDxIKeojQ/ULYn","EventListener"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){void 0===t&&(t=function(){}),this.id=void 0,this.func=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];cc.log("do something")},this.priority=0,this.callTime=-1,this.other={},this.func=t}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t.prototype.pry=function(t){return this.priority=t,this},t.prototype.sort=function(t){return this.priority=-1*t,this},t.prototype.name=function(t){return this.id=t,this},t.prototype.times=function(t){return this.callTime=t,this},t.prototype.once=function(){return this.times(1)},t}();n.EventListener=o,cc._RF.pop()},{}],Event:[function(t,e,n){"use strict";cc._RF.push(e,"f0775amPE1DoKk8RMlLIw3P","Event"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_Event"),i=t("../../Uzil"),r=t("../../Async/index_Async"),s=function(){function t(){this.listeners=[],this.args=[],this.data={}}return t.prototype.add=function(t){var e;return t instanceof o.EventListener?(this.addListener(t),e=t):t instanceof Function&&((e=new o.EventListener).func=t,this.addListener(e)),e},t.prototype.addListener=function(t){if(-1==this.listeners.indexOf(t))return this.listeners.push(t),this.sort(),t},t.prototype.addOnce=function(t){return this.addListener(new o.EventListener(t).once())},t.prototype.remove=function(t){if(t instanceof o.EventListener)this.removeListener(t);else if("string"==typeof t)for(var e=0,n=this.listeners.slice();e<n.length;e++){var i=n[e];i.id==t&&this.removeListener(i)}},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1!=e&&this.listeners.splice(e,1)},t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.callData.apply(this,[null].concat(t))},t.prototype.callData=function(t){for(var e=this,n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var a=new o.EventData;a.event=this;var c=i.Objf.assign({},this.data);c=i.Objf.assign(c,t),a.data=c;var l=n;null!=l&&0!=l.length||(l=this.args),a.args=l.slice();var u=!1,p=!0;a.wait=function(){u=!0},a.stop=function(){p=!1};var h=this.listeners.slice();r.Async.eachSeries(h,function(t,n){-1!=e.listeners.indexOf(t)?(a.next=function(){0!=u&&n()},a.removeListener=function(){a.event.removeListener(t)},t.callTime>0&&(t.callTime--,0==t.callTime&&e.removeListener(t)),t.call.apply(t,[a].concat(l)),0==u&&n(),p||n("not continue")):n()},function(){})},t.prototype.sort=function(){this.listeners.sort(function(t,e){return e.priority-t.priority})},t}();n.Event=s,cc._RF.pop()},{"../../Async/index_Async":"index_Async","../../Uzil":"Uzil","../index_Event":"index_Event"}],Example_Async:[function(t,e,n){"use strict";cc._RF.push(e,"3c50dvyswhGF6p4eMFlTEhL","Example_Async"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=cc._decorator,r=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=this,e="";o.Async.each(["hello","world","!"],function(n,o){e+=n,t.scheduleOnce(function(){cc.log(e),o()},2)},function(){cc.log("====="),cc.log(e)})},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_AudioMng:[function(t,e,n){"use strict";cc._RF.push(e,"7b1aej0oI5CJbTXPMSv9YPa","Example_AudioMng"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../AudioMng/index_AudioMng"),i=cc._decorator,r=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){o.AudioMng.play("bgm"),o.AudioMng.layer("maingame").add("bgm").vol(1).prio(2),cc.log(1);var t=o.AudioMng.layer("freegame");t.add("bgm").vol(0).prio(1),cc.log(2),this.scheduleOnce(function(){o.AudioMng.layer("bonusgame").add("bgm").vol(0).prio(3),cc.log(3)},3),this.scheduleOnce(function(){t.add("bgm").vol(1).prio(4),cc.log(4)},6),this.scheduleOnce(function(){o.AudioMng.audio("bgm").setVolume(.5),cc.log(5)},9),this.scheduleOnce(function(){o.AudioMng.rmlayer("freegame"),cc.log(6)},12)},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../../AudioMng/index_AudioMng":"index_AudioMng"}],Example_CountingNumber:[function(t,e,n){"use strict";cc._RF.push(e,"8e82a6w7opIxpqmk2fZFvDg","Example_CountingNumber"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../Uzil"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countingNum=null,e.testGoto=0,e}return __extends(e,t),e.prototype.start=function(){this.countingNum.resetNum(0),this.countingNum.goto(this.testGoto)},e.prototype.update=function(t){},__decorate([s(o.CountingNumber)],e.prototype,"countingNum",void 0),__decorate([s()],e.prototype,"testGoto",void 0),e=__decorate([r],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../../../Uzil":"Uzil"}],Example_Curve:[function(t,e,n){"use strict";cc._RF.push(e,"85d47+7tLFCFrRdu251EOZH","Example_Curve"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Curve/index_Curve"),i=t("../../System/script/Mathf"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.time=0,e.timeMax=5,e}return __extends(e,t),e.prototype.start=function(){this.curve=o.CurveData.create({points:[{pos:[0,-200],easeOut:[25,0],easeType:["weighted"]},{pos:[50,200],easeIn:[-25,0]}],length:2})},e.prototype.update=function(t){if(this.time<=this.timeMax){var e=this.curve.getVal(this.time);this.target.y=e,cc.log("time["+this.time+"] : "+this.target.y),this.time==this.timeMax&&(this.time=this.timeMax+99),this.time=i.Mathf.moveToward(this.time,this.timeMax,t)}},__decorate([a(cc.Node)],e.prototype,"target",void 0),e=__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../Curve/index_Curve":"index_Curve","../../System/script/Mathf":"Mathf"}],Example_EventBus:[function(t,e,n){"use strict";cc._RF.push(e,"c4930qxLjdMj63QagtKmSVF","Example_EventBus"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=cc._decorator,r=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=o.EventBus.get();t.register("onDone",new o.EventListener(function(t){cc.log("onDone called 3: "+t)}).pry(1).name("A")),t.register("onDone",new o.EventListener(function(t){cc.log("onDone called 1: "+t)}).pry(3).name("A")),t.register("onDone",new o.EventListener(function(t){cc.log("onDone called 2: "+t)}).pry(2).name("B")),t.registerAny(new o.EventListener(function(t,e){cc.log("onAny called: "+e)}).pry(2).name("B")),t.post("onDone","msg is here"),t.unregisterID("A"),t.post("onDone","after unregister A"),t.unregisterTag("onDone"),t.post("onDone","after unregister onDone"),t.unregisterID("B"),t.post("onDone","after unregister B")},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));n.Example_EventBus=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Event:[function(t,e,n){"use strict";cc._RF.push(e,"8d1c9f4bklCK6x3BfsLxsX5","Example_Event"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=cc._decorator,r=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=new o.Event;t.add(new o.EventListener(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];cc.log(t.data.msg),cc.log(t.args[0]+" | "+e[0]),t.data.msg="\u8986\u84cb\u5f8c\u7684\u8cc7\u6599A",t.args[0]="\u8986\u84cb\u5f8c\u7684\u53c3\u65781"}).sort(1)),t.add(new o.EventListener(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];cc.log(t.data.msg),cc.log(t.args[0]+" | "+e[0])}).sort(5)),t.add(new o.EventListener(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];cc.log("=================================")}).sort(10)),t.data.msg="\u9810\u8a2d\u8cc7\u6599A",t.args.push("\u9810\u8a2d\u53c3\u65781"),t.call(),o.Invoker.once(function(){t.callData({msg:"\u547c\u53eb\u8cc7\u6599A"},"\u547c\u53eb\u53c3\u65781")},5),t.add(new o.EventListener(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];cc.log("\u7b49\u50195\u79d2"),t.wait(),o.Invoker.once(function(){t.next()},5)}).sort(3))},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));n.Example_Event=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Invoker:[function(t,e,n){"use strict";cc._RF.push(e,"ab8fcJ6Oj1EoY8MGR7RqoFN","Example_Invoker"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=cc._decorator,r=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){var t=o.Invoker.update(function(){cc.log("updating")});o.Invoker.once(function(){cc.log("after 5 sec"),o.Invoker.stop(t)},5),(new o.InvokerQueue).add(function(){cc.log(2)},30).add(function(){cc.log(3)},10).add(function(){cc.log(1)},50).run()},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],Example_Reel:[function(t,e,n){"use strict";cc._RF.push(e,"76f66Bdj1hC2ZWnBLPIePTf","Example_Reel");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../uzil/Uzil"),s=t("./index_Reel"),a=t("../Slot/index_Slot"),c=t("./script/ReelConst"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSpinning=!1,e.reelContainer=null,e.pass3d=null,e.spinBtnText=null,e.turboBtn=null,e.isTurboMode=!1,e.autoBtn=null,e.isAuto=!1,e.isAutoSpinning=!1,e.display3DBtn=null,e.is3DMode=!1,e.viewPass3DList=[],e.langs=["cn","en"],e._lang="cn",e.sameResultBtn=null,e._isSameResult=!1,e.resultTarget=[[-1,0,1],[-1,0,1],[-1,0,1],[-1,0,1],[-1,0,1]],e.nextSpinIdx=0,e.nextStopIdx=0,e.stopCols=[],e._lastStopCols=[],e.isForceAllStopping=!1,e.worldPosTestLocator=[],e}return o(e,t),Object.defineProperty(e.prototype,"strip",{get:function(){return a.SlotStrip.mainGame},enumerable:!0,configurable:!0}),e.prototype.start=function(){var t=this,e=this,n=this.reelContainer;n.setStrip(this.strip),this._reset(),n.setPos(this.stopCols),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){if(e.keyCode==cc.macro.KEY.a)for(var n=0,o=t.reelContainer.reels;n<o.length;n++){var i=o[n].getReelRow().view;if(3==i.showPasses.length){i.showPasses.push(t.pass3d);break}}e.keyCode==cc.macro.KEY.space&&t.onEachSpinBtnClick()},this),n.onAllStopDone.add(function(){for(var o=[],i=[],s=n.getResultSymbols(e.resultTarget,e.stopCols),c=0;c<s.length;c++){for(var l=[],u=s[c],p=0;p<s.length;p++){var h=a.SymbolCode[u[p]];l.push(h),1==p&&i.push(h)}o.push(l)}if(cc.log("result:"),cc.log(i),e.isSpinning=!1,e.isAuto){var f=t.isTurboMode?.25:1;r.Invoker.once(function(){e._reset(),e._startSpin()},f).tag("spinAgain")}});for(var o=0,i=!0,s=n.getColWorldPos(n.getResultCols(this.resultTarget)),c=0;c<s.length&&i;c++)for(var l=s[c],u=0;u<l.length;u++){var p=l[u];if(o>=this.worldPosTestLocator.length){i=!1;break}var h=this.worldPosTestLocator[o],f=h.parent.convertToNodeSpaceAR(p);h.setPosition(f),o++}},e.prototype.update=function(t){},e.prototype.onSpinBtnClick=function(){var t=this,e=this.reelContainer,n=e.reels[0],o=e.reels[e.reels.length-1];this.isAuto&&this.isAutoSpinning?this._setAuto(!1):n.state==c.ReelState.IDLE&&o.state==c.ReelState.IDLE?(this._reset(),this._startSpin()):this.isForceAllStopping||(this.isForceAllStopping=!0,e.onAllStopDone.addOnce(function(){t.isForceAllStopping=!1}),this._startStop())},e.prototype.onEachSpinBtnClick=function(){var t=this.reelContainer;this.isSpinning||this._reset(),this.nextSpinIdx<t.reels.length?this._spinNext():this.nextStopIdx<t.reels.length&&this._stopNext()},e.prototype.onTurboBtnClick=function(){this.isTurboMode=!this.isTurboMode,this.isTurboMode?this.turboBtn.target.color=cc.Color.GRAY:this.turboBtn.target.color=cc.Color.WHITE},e.prototype.onAutoBtnClick=function(){this._setAuto(!this.isAuto)},e.prototype.on3DBtnClick=function(){this.is3DMode=!this.is3DMode,this.is3DMode?this.display3DBtn.target.color=cc.Color.GRAY:this.display3DBtn.target.color=cc.Color.WHITE;for(var t=0,e=this.viewPass3DList;t<e.length;t++){e[t].isEnabled=this.is3DMode,this.reelContainer.render()}},e.prototype.oni18nBtnClick=function(){var t=r.Mathf.loop(this.langs.indexOf(this._lang)+1,0,this.langs.length-1);this._lang=this.langs[t],r.i18n.setLanguage(this._lang)},e.prototype.onSameResultBtnClick=function(){this._isSameResult=!this._isSameResult,this._isSameResult?this.sameResultBtn.target.color=cc.Color.GRAY:this.sameResultBtn.target.color=cc.Color.WHITE},e.prototype._setAuto=function(t){this.isAuto=t,this.isAuto||(r.Invoker.cancel("spinAgain"),this.isAutoSpinning=!1,this.spinBtnText.string="Spin"),this.isAuto?this.autoBtn.target.color=cc.Color.GRAY:this.autoBtn.target.color=cc.Color.WHITE},e.prototype._spinNext=function(){var t=this.reelContainer;this.nextSpinIdx>t.reels.length-1||(t.reels[this.nextSpinIdx].spin(),this.isSpinning=!0,this.nextSpinIdx++)},e.prototype._stopNext=function(){var t=this.reelContainer;if(!(this.nextStopIdx>t.reels.length-1)){var e=t.reels[this.nextStopIdx],n=this.stopCols[this.nextStopIdx];e.stop(n),this.nextStopIdx++}},e.prototype._startSpin=function(){var t=this,e=this.reelContainer.reels[0];this._spinAll(.1),this.isSpinning=!0,this.isAuto&&(this.isAutoSpinning=!0,this.spinBtnText.string="Stop"),0==this.isTurboMode?r.Invoker.once(function(){e.state==c.ReelState.ROLLING&&t._stopAll(.5)},1.2).tag("autoStop"):r.Invoker.once(function(){e.state==c.ReelState.ROLLING&&t._stopAll(0)},0).tag("autoStop")},e.prototype._startStop=function(){var t=this.reelContainer;r.Invoker.cancel("autoStop"),r.Invoker.cancel("eachStop"),0==this.isTurboMode?this._stopAll(0):(t.setPos(this.stopCols),t.stop(this.stopCols,0,!0))},e.prototype._spinAll=function(t){for(var e=this.reelContainer,n=function(n){var o=e.reels[n];r.Invoker.once(function(){o.spin()},n*t).tag("eachSpin")},o=0;o<e.reels.length;o++)n(o)},e.prototype._stopAll=function(t){var e=this.reelContainer,n=!1,o=0;r.Invoker.cancel("eachSpin");for(var i=function(i){var a=e.reels[i];if(n)a.state==c.ReelState.IDLE&&a.spin(),o++;else{if(a.state==c.ReelState.IDLE)return"continue";n=!0,o++}var l=s.stopCols[i];r.Invoker.once(function(){a.stop(l)},(o-1)*t).tag("eachStop")},s=this,a=0;a<e.reels.length;a++)i(a)},e.prototype._reset=function(){this.nextSpinIdx=0,this.nextStopIdx=0,this._isSameResult||(this.stopCols=this._getRandomStopCols())},e.prototype._getRandomStopCols=function(){for(var t=[],e=0;e<this.strip.length;e++){var n=this.strip[e],o=new r.RandomRange(0,n.length-1).getInt();t.push(o)}return t},i([p(s.ReelContainer)],e.prototype,"reelContainer",void 0),i([p(s.ReelRowViewPass)],e.prototype,"pass3d",void 0),i([p(cc.Label)],e.prototype,"spinBtnText",void 0),i([p(cc.Button)],e.prototype,"turboBtn",void 0),i([p(cc.Button)],e.prototype,"autoBtn",void 0),i([p(cc.Button)],e.prototype,"display3DBtn",void 0),i([p(s.ReelRowViewPass)],e.prototype,"viewPass3DList",void 0),i([p(cc.Button)],e.prototype,"sameResultBtn",void 0),i([p(cc.Node)],e.prototype,"worldPosTestLocator",void 0),e=i([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../uzil/Uzil":"Uzil","../Slot/index_Slot":"index_Slot","./index_Reel":"index_Reel","./script/ReelConst":"ReelConst"}],Example_Shuriken:[function(t,e,n){"use strict";cc._RF.push(e,"fd22b49MSNMM5zz2dFATWM3","Example_Shuriken"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.root=null,e.shuriken=new o.ShurikenSystem,e}return __extends(e,t),e.prototype.start=function(){this.shuriken.container=this.root,this.shuriken.shurikenSource=this.prefab,this.shuriken.emitter=new o.ShurikenEmitter_Base,this.shuriken.start()},e.prototype.update=function(t){},__decorate([s(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([s(cc.Node)],e.prototype,"root",void 0),e=__decorate([r],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../../Uzil":"Uzil"}],FeatureGameFadePanel:[function(t,e,n){"use strict";cc._RF.push(e,"e60498tevVF27F+ujHDLSmV","FeatureGameFadePanel");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.animator=null,e._eventName="FeatureGameFadePanel",e.onShow=new r.Event,e.onHide=new r.Event,e.onClick=new r.Event,e}return o(e,t),e.prototype.onLoad=function(){this.targetNode.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.onClick_call=function(){this.onClick.call()},e.prototype.show=function(t){void 0===t&&(t=null);var e=this;this.targetNode.active=!0,this.animator.play("show"),this.animator.onComplete.remove(this._eventName),this.animator.onComplete.addOnce(function(){e.onHide.call()}).name(this._eventName),null!=t&&this.onShow.addOnce(function(){t()})},e.prototype.hide=function(t){var e=this;void 0===t&&(t=null);var n=this;this.animator.play("hide"),this.animator.onComplete.remove(this._eventName),this.animator.onComplete.addOnce(function(){n.onHide.call(),e.targetNode.active=!1}).name(this._eventName),null!=t&&this.onHide.addOnce(function(){t()})},i([c(cc.Node)],e.prototype,"targetNode",void 0),i([c(r.Animator)],e.prototype,"animator",void 0),e=i([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],FeatureGameResultPanel:[function(t,e,n){"use strict";cc._RF.push(e,"f096e49F11CWY3QtITL3KM+","FeatureGameResultPanel");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.animator=null,e.countingNum=null,e._eventName="FeatureGameResultPanel",e.onShow=new r.Event,e.onHide=new r.Event,e.onClick=new r.Event,e}return o(e,t),e.prototype.onLoad=function(){this.targetNode.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.onClick_call=function(){this.onClick.call()},e.prototype.show=function(t,e){void 0===e&&(e=null);var n=this;this.targetNode.active=!0,this.animator.play("show");var o=t.wins;void 0==o?this.countingNum.node.active=!1:(this.countingNum.node.active=!0,this.countingNum.resetNum(0),this.countingNum.goto(o)),this.animator.onComplete.remove(this._eventName),this.animator.onComplete.addOnce(function(){n.onHide.call()}).name(this._eventName),null!=e&&this.onShow.addOnce(function(){e()})},e.prototype.hide=function(t){var e=this;void 0===t&&(t=null);var n=this;this.animator.play("hide"),this.animator.onComplete.remove(this._eventName),this.animator.onComplete.addOnce(function(){n.onHide.call(),e.targetNode.active=!1}).name(this._eventName),null!=t&&this.onHide.addOnce(function(){t()})},i([c(cc.Node)],e.prototype,"targetNode",void 0),i([c(r.Animator)],e.prototype,"animator",void 0),i([c(r.CountingNumber)],e.prototype,"countingNum",void 0),e=i([a],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],Fluxay:[function(t,e,n){"use strict";cc._RF.push(e,"d5625LnOuRIVaiRHQhuGX0m","Fluxay"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Fluxay",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"alpha",type:i.PARAM_FLOAT,defaultValue:1},{name:"size",type:i.PARAM_FLOAT,defaultValue:1}],defines:[],start:function(t){t.component},update:function(t){var e=t.component;if(e){var n=e.time;e.setParam("time",n%5)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform float time;\n\t\tuniform float alpha;\n\t\tvarying vec2 uv0;\n\t\t\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 _color = color;\n\t\t\t_color.a = alpha;\n\n\t\t\t_color *= texture2D(texture, uv0);\n\t\t\n\t\t\tfloat width = 0.08;          //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n\t\t\tfloat start = tan(time/3.);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n\t\t\tfloat strength = 0.008;      //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n\t\t\tfloat offset = 0.5;          //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n\n\t\t\tif(uv0.x < (start - offset * uv0.y) &&  uv0.x > (start - offset * uv0.y - width)) {\n\t\t\t\tvec3 improve = strength * vec3(255, 255, 255);\n\t\t\t\tvec3 result = improve * vec3( _color.r, _color.g, _color.b);\n\t\t\t\tgl_FragColor = vec4(result, _color.a);\n\t\t\n\t\t\t}else{\n\t\t\t\tgl_FragColor = _color;\n\t\t\t}\n\n\t\t}\n\t"};o.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],G03Bg01S:[function(t,e,n){"use strict";cc._RF.push(e,"1be62MbzflL5JWNZu+m29KK","G03Bg01S"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.treeAnimName="tree",e.treeSpeed=1,e}return __extends(e,t),e.prototype.start=function(){this.skeleton.addAnimation(1,this.treeAnimName,!0,0),this.skeleton.getCurrent(1).timeScale=this.treeSpeed},__decorate([r(sp.Skeleton)],e.prototype,"skeleton",void 0),__decorate([r()],e.prototype,"treeAnimName",void 0),__decorate([r()],e.prototype,"treeSpeed",void 0),e=__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],GameClient:[function(t,e,n){"use strict";cc._RF.push(e,"24a5ah4U/NGdbUKusaZ4kjU","GameClient");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=(r.ccclass,r.property,function(){function t(){}return t.prototype.connect=function(){return o(this,void 0,Promise,function(){return i(this,function(t){return[2]})})},t.prototype.disconnect=function(){},t.prototype.onDisconnect=function(t){},t.prototype.onError=function(t){},t.prototype.getStripTables=function(){return o(this,void 0,Promise,function(){return i(this,function(t){return[2,null]})})},t.prototype.onStripTableUpdate=function(t){},t.prototype.spin=function(t){return o(this,void 0,Promise,function(){return i(this,function(t){return[2]})})},t}());n.GameClient=s,cc._RF.pop()},{}],GameCtrlState_FreeGame:[function(t,e,n){"use strict";cc._RF.push(e,"e5651moTX5Kgr7yZYy7Wl5P","GameCtrlState_FreeGame");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../uzil/Uzil"),c=t("../../../../Rule/index_Rule"),l=t("../SpinPostProc"),u=t("../SpinPreProc"),p=t("../../../../FeatureGame/Fade/FeatureGameFadePanel"),h=t("../../../../FeatureGame/Result/FeatureGameResultPanel"),f=t("../../Util/SlotUtil"),d=cc._decorator,_=d.ccclass,y=d.property,v="GameCtrlState",g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._gameCtrl=null,e._eventName="regFrom_state_normal",e.omenFX=null,e.scatterBGs=[],e.preProcList=[],e.postProcList=[],e.baseResultReelIdxs=[0,1,2,3,4],e.extraResultReelIdxs=[5],e.freeGameResults=[],e.currentResult=null,e.autoReSpinDelay_sec=1.5,e.fadePanel_enter=null,e.fadePanel_exit=null,e}return o(e,t),e.prototype._init=function(t){this._gameCtrl=t;for(var e=0,n=this.scatterBGs;e<n.length;e++){var o=n[e];null!=o&&(o.active=!1)}this.omenFX.active=!1},e.prototype._onEnter=function(){for(var t=this,e=this,n=this._gameCtrl,o=n.spinCtrl,i=o.spinUI,l=n.reelCtrl,u=n.drawCtrl,p=0;p<l.reelContainer.reels.length;p++){l.reelContainer.getReel(p).setResultRange(c.ReelRule.resultRange[p])}n.stripTable=n.netMod.getStripTable("free"),l.setStrip(n.stripTable,!0),l.reelContainer.shift(f.SlotUtil.getRandomStopPos(n.stripTable)),i.lockInput({all:!0},"freegame",1e3);var h=!1;"auto"==o.stateCtrl.currentState.stateName&&(o.stateCtrl.go("normal"),h=!0),this.freeGameResults=n.spinResult.getFreeResults();for(var d=0,_=0,y=this.freeGameResults;_<y.length;_++){var g=y[_];d+=g.totalWinBonus}var m=!1,b=function(){0!=m&&(m=!1,l.resume())};o.onSpin.add(function(i){if(e.currentResult=e.freeGameResults.shift(),0!=e._gameCtrl.spinEachResult(e.currentResult)){o.spinUI.setSpinning(!0,v,0),n.wallet.setWin(0);for(var r=0,s=t.scatterBGs;r<s.length;r++){var a=s[r];null!=a&&(a.active=!1)}e._gameCtrl.readyStop()}else i.stop()}).name(e._eventName).sort(0),e._gameCtrl.reelCtrl.onStopBegin.add(function(){for(var t=e._gameCtrl.spinResult,o=e.currentResult,r={gameCtrl:n,spinResult:t,result:o,lockInput:function(){i.lockInput({all:!0},v,0)}},s=0,a=e.preProcList;s<a.length;s++){var c=a[s].process(r);null!=c&&(r=c)}for(var u=0,p=l.reelContainer.reels;u<p.length;u++)for(var h=0,f=p[u].reelRows;h<f.length;h++){f[h].view.render()}t=r.spinResult,n.spinResult=t,l.setStopPos(o.stopPosList)}).name(e._eventName),o.onStop.add(function(){0!=e._gameCtrl.isReadyStop()&&e._gameCtrl.stop()}).name(e._eventName),l.onEachStopStart.add(function(t,e){}).name(e._eventName),l.onAllStopDone.add(function(){return r(t,void 0,void 0,function(){var t,p,h,f,d,_,y,g,m,S,R,x,P,O,w,C=this;return s(this,function(A){switch(A.label){case 0:for(0,b(),e.omenFX.active=!1,a.Invoker.cancel("GameCtrlState_Free_omeing"),o.spinUI.setSpinning(null,v,0),t=e._gameCtrl.spinResult,p=e.currentResult,h=[],f=this.baseResultReelIdxs.concat(this.extraResultReelIdxs),d=0;d<f.length;d++)if(_=f[d],y=l.reelContainer.getReel(_),g=y.getResultRange(),g=[a.Mathf.addAbs(g[0],-1e-4),a.Mathf.addAbs(g[1],-1e-4)],0!=(m=y.getResultInRange(g[0],g[1])).length){for(S=[],R=m[0],x=0,P=R;x<P.length;x++)O=P[x],S.push(O.getCopy());h.push(S)}return h=h.map(function(t){return t.filter(function(t){return-1!=t.tags.indexOf("resultable")})}),w={gameCtrl:n,spinResult:t,result:p,reelResult:h,lockInput:function(){i.lockInput({all:!0},v,0)}},[4,new Promise(function(t,n){a.Async.eachSeries(e.postProcList,function(t,e){return r(C,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return[4,t.process(w)];case 1:return null!=(n=o.sent())&&(w=n),e(),[2]}})})},function(){t()})})];case 1:return A.sent(),h=w.reelResult,i.lockInput({all:null},v,0),u.play({totalBet:t.totalBet,result:p,reelResult:h,oddsTable:c.OddsTable.free},function(){n.wallet.setBalance(n.spinResult.currentCredit),n.readyNextSpin()}),[2]}})})}).name(e._eventName).sort(100),n.onReadyNextSpin.add(function(){e.freeGameResults.length<=0?(e.fadePanel_exit.show({wins:d}),e.fadePanel_exit.onClick.addOnce(function(){e.fadePanel_exit.hide(function(){e._gameCtrl.stateCtrl.go("normal"),i.lockInput({all:null},"freegame"),h&&o.stateCtrl.go("auto")})})):a.Invoker.once(function(){0!=n.isSpinable()?(o.lockInput({with:["stop"],without:["spin"]},v,0),o.spin()):cc.log("gameCtrl.isSpinable() == false")},e.autoReSpinDelay_sec).tag(e._eventName)}).name(e._eventName),this.fadePanel_enter.show(),this.fadePanel_enter.onClick.addOnce(function(){e.fadePanel_enter.hide(function(){o.spin()})})},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){for(var t=0,e=this.scatterBGs;t<e.length;t++){var n=e[t];null!=n&&(n.active=!1)}var o=this._gameCtrl,i=o.spinCtrl,r=o.reelCtrl;i.onSpin.remove(this._eventName),i.onStop.remove(this._eventName),r.onStopBegin.remove(this._eventName),r.onEachStopStart.remove(this._eventName),r.onAllStopDone.remove(this._eventName),o.onReadyNextSpin.remove(this._eventName)},i([y(cc.Node)],e.prototype,"omenFX",void 0),i([y(cc.Node)],e.prototype,"scatterBGs",void 0),i([y(u.SpinPreProc)],e.prototype,"preProcList",void 0),i([y(l.SpinPostProc)],e.prototype,"postProcList",void 0),i([y({type:cc.Integer})],e.prototype,"baseResultReelIdxs",void 0),i([y({type:cc.Integer})],e.prototype,"extraResultReelIdxs",void 0),i([y()],e.prototype,"autoReSpinDelay_sec",void 0),i([y(p.default)],e.prototype,"fadePanel_enter",void 0),i([y(h.default)],e.prototype,"fadePanel_exit",void 0),e=i([_],e)}(a.State);n.GameCtrlState_FreeGame=g,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil","../../../../FeatureGame/Fade/FeatureGameFadePanel":"FeatureGameFadePanel","../../../../FeatureGame/Result/FeatureGameResultPanel":"FeatureGameResultPanel","../../../../Rule/index_Rule":"index_Rule","../../Util/SlotUtil":"SlotUtil","../SpinPostProc":"SpinPostProc","../SpinPreProc":"SpinPreProc"}],GameCtrlState_Normal:[function(t,e,n){"use strict";cc._RF.push(e,"3f89c5JWpFMloaMXjla9EmA","GameCtrlState_Normal");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../uzil/Uzil"),c=t("../../../../Rule/index_Rule"),l=t("../SpinPostProc"),u=t("../SpinPreProc"),p=t("../../Util/SlotUtil"),h=cc._decorator,f=h.ccclass,d=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._gameCtrl=null,e._eventName="regFrom_state_normal",e.omenFX=null,e.scatterBGs=[],e.preProcList=[],e.postProcList=[],e.baseResultReelIdxs=[0,1,2,3,4],e.extraResultReelIdxs=[5],e}return o(e,t),e.prototype._init=function(t){this._gameCtrl=t;for(var e=0,n=this.scatterBGs;e<n.length;e++){var o=n[e];null!=o&&(o.active=!1)}this.omenFX.active=!1},e.prototype._onEnter=function(){var t=this,e=this,n=this._gameCtrl,o=n.spinCtrl,i=o.spinUI,l=n.reelCtrl,u=n.drawCtrl;n.stripTable=n.netMod.getStripTable("normal"),l.setStrip(n.stripTable,!0),l.reelContainer.shift(p.SlotUtil.getRandomStopPos(n.stripTable));for(var h=0;h<l.reelContainer.reels.length;h++){l.reelContainer.getReel(h).setResultRange(c.ReelRule.resultRange[h])}var f=0,d=!1,_=function(){0!=d&&(d=!1,l.resume())};o.onSpin.add(function(i){return r(t,void 0,void 0,function(){var t,r,a;return s(this,function(s){switch(s.label){case 0:return[4,e._gameCtrl.requestSpin()];case 1:if(0==s.sent())return i.stop(),[2];for(o.spinUI.setSpinning(!0,"GameCtrlState",0),n.wallet.setWin(0),t=0,r=this.scatterBGs;t<r.length;t++)null!=(a=r[t])&&(a.active=!1);return e._gameCtrl.readyStop(),[2]}})})}).name(e._eventName).sort(0),e._gameCtrl.reelCtrl.onStopBegin.add(function(){for(var t=e._gameCtrl.spinResult,o=e._gameCtrl.spinResult.getMainResult(),r={gameCtrl:n,spinResult:t,result:o,lockInput:function(){i.lockInput({all:!0},"GameCtrlState",0)}},s=0,a=e.preProcList;s<a.length;s++){var c=a[s].process(r);null!=c&&(r=c)}for(var u=0,p=l.reelContainer.reels;u<p.length;u++)for(var h=0,f=p[u].reelRows;h<f.length;h++){f[h].view.render()}t=r.spinResult,n.spinResult=t;var d=n.spinResult.getMainResult();l.setStopPos(d.stopPosList)}).name(e._eventName),o.onStop.add(function(){0!=e._gameCtrl.isReadyStop()&&e._gameCtrl.stop()}).name(e._eventName),i.onTurboClick.add(function(){n.isSpinning||(n.isTurbo=!n.isTurbo,1==n.isTurbo?i.turboBtn.target.color=cc.Color.GRAY:i.turboBtn.target.color=cc.Color.WHITE,l.setTurbo(n.isTurbo))}).name(e._eventName);var y=!1;l.onEachStopStart.add(function(t,o){if(!y){for(var i=o.reelIdx,r=e._gameCtrl.spinResult,s=c.ReelRule.getResultInRange(e._gameCtrl.reelCtrl.getStrip(),r.getMainResult().stopPosList),u=i>=1&&i<=2,p=0,h=0,v=s[i];h<v.length;h++){v[h].symbol==c.SymbolCode.SC&&p++}if(p>0&&l.onEachStopDone.add(function(t,n){if(n.reelIdx==i){e.scatterBGs[i];t.removeListener()}}),u&&p>0&&2==(f+=p)){y=!0,l.pause(),l.onEachStopDone.add(function(t,n){n.reelIdx==i&&(e.omenFX.active=!0,e.omenFX.setPosition(e.omenFX.parent.convertToNodeSpaceAR(l.reelContainer.getReel(i+1).getWorldPos())),l.onEachStopDone.add(function(t,n){n.reelIdx==i+1&&(e.omenFX.active=!1,t.removeListener())}),t.removeListener())});var g=2;n.isTurbo&&(g=.5),d=!0,a.Invoker.once(function(){_()},g).tag("GameCtrlState_Normal_omeing")}}}).name(e._eventName),l.onAllStopDone.add(function(){return r(t,void 0,void 0,function(){var t,p,h,d,y,v,g,m,b,S,R,x,P,O,w,C=this;return s(this,function(A){switch(A.label){case 0:for(f=0,_(),e.omenFX.active=!1,a.Invoker.cancel("GameCtrlState_Normal_omeing"),o.spinUI.setSpinning(null,"GameCtrlState",0),t=e._gameCtrl.spinResult,p=e._gameCtrl.spinResult.getMainResult(),h=[],d=this.baseResultReelIdxs.concat(this.extraResultReelIdxs),y=0;y<d.length;y++)if(v=d[y],g=l.reelContainer.getReel(v),m=g.getResultRange(),m=[a.Mathf.addAbs(m[0],-1e-4),a.Mathf.addAbs(m[1],-1e-4)],0!=(b=g.getResultInRange(m[0],m[1])).length){for(S=[],R=b[0],x=0,P=R;x<P.length;x++)O=P[x],S.push(O.getCopy());h.push(S)}return h=h.map(function(t){return t.filter(function(t){return-1!=t.tags.indexOf("resultable")})}),w={gameCtrl:n,spinResult:t,result:p,reelResult:h,lockInput:function(){i.lockInput({all:!0},"GameCtrlState",0)}},[4,new Promise(function(t,n){a.Async.eachSeries(e.postProcList,function(t,e){return r(C,void 0,void 0,function(){var n;return s(this,function(o){switch(o.label){case 0:return[4,t.process(w)];case 1:return null!=(n=o.sent())&&(w=n),e(),[2]}})})},function(){t()})})];case 1:return A.sent(),h=w.reelResult,i.lockInput({all:null},"GameCtrlState",0),u.play({totalBet:t.totalBet,result:p,reelResult:h,oddsTable:c.OddsTable.normal},function(){n.wallet.setBalance(n.spinResult.currentCredit),n.readyNextSpin();var e=t.getFreeResults();e&&e.length>0&&n.stateCtrl.go("free")}),[2]}})})}).name(e._eventName).sort(100)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){for(var t=0,e=this.scatterBGs;t<e.length;t++){var n=e[t];null!=n&&(n.active=!1)}var o=this._gameCtrl,i=o.spinCtrl,r=i.spinUI,s=o.reelCtrl;this._gameCtrl.spinCtrl.onSpin.remove(this._eventName),this._gameCtrl.reelCtrl.onStopBegin.remove(this._eventName),i.onStop.remove(this._eventName),r.onTurboClick.remove(this._eventName),s.onEachStopStart.remove(this._eventName),s.onAllStopDone.remove(this._eventName)},i([d(cc.Node)],e.prototype,"omenFX",void 0),i([d(cc.Node)],e.prototype,"scatterBGs",void 0),i([d(u.SpinPreProc)],e.prototype,"preProcList",void 0),i([d(l.SpinPostProc)],e.prototype,"postProcList",void 0),i([d({type:cc.Integer})],e.prototype,"baseResultReelIdxs",void 0),i([d({type:cc.Integer})],e.prototype,"extraResultReelIdxs",void 0),e=i([f],e)}(a.State);n.GameCtrlState_Normal=_,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil","../../../../Rule/index_Rule":"index_Rule","../../Util/SlotUtil":"SlotUtil","../SpinPostProc":"SpinPostProc","../SpinPreProc":"SpinPreProc"}],GameCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"922776ev1FEi6pAcX/5dovk","GameCtrl");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../uzil/Uzil"),c=t("../../index_Slot"),l=t("../../../Net/index_Net"),u=t("../../../../WalletUI/script/WalletUI"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.netMod=null,e.stateCtrl=null,e.spinCtrl=null,e.reelCtrl=null,e.drawCtrl=null,e.wallet=null,e._isSpinning=!1,e._isTurbo=!1,e._isReadyStop=!1,e.bet=30,e.stripTable=null,e._spinWaitAndStopTag="GameCtrl_spin_waitAndStop",e.onReadyStop=new a.Event,e.onReadyNextSpin=new a.Event,e}return o(e,t),Object.defineProperty(e.prototype,"isSpinning",{get:function(){return this._isSpinning},set:function(t){this._isSpinning=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTurbo",{get:function(){return this._isTurbo},set:function(t){this._isTurbo=t},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this._onLoad()},e.prototype._onLoad=function(){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this,this.spinCtrl.gameCtrl=this,this.drawCtrl.gameCtrl=this,this.reelCtrl.gameCtrl=this,this.netMod=new l.NetMod,[4,this.netMod.connect()];case 1:return t.sent(),this.wallet.setBalance(this.netMod.player.credit),this.wallet.setBet(this.bet),this.stateCtrl.init(this),[2]}})})},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.isSpinable=function(){return!(this.netMod.player.credit<this.bet)},e.prototype.isReadyStop=function(){return this._isReadyStop&&null!=this.reelCtrl.stopPosList},e.prototype.requestSpin=function(){return r(this,void 0,Promise,function(){var t,e,n,o,i;return s(this,function(r){switch(r.label){case 0:if(this.isSpinning)return[2,!1];if((t=this).spinResult=null,e=this.bet,(n=t.netMod.player.credit-e)<0)return[2,!1];if(this._isReadyStop=!1,t.reelCtrl.requestSpin(),0==t.reelCtrl.isSpinning)return[2,!1];t.wallet.setBet(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.netMod.spin(e)];case 2:return o=r.sent(),[3,4];case 3:return i=r.sent(),cc.log(i),[2,!1];case 4:return this.spinResult=o,this.wallet.setBalance(n),this.spinEachResult(o.getMainResult())?[2,!0]:[2,!1]}})})},e.prototype.spinEachResult=function(t){return!this.isSpinning&&((0!=this.reelCtrl.isSpinning||(this.reelCtrl.requestSpin(),0!=this.reelCtrl.isSpinning))&&(this.isSpinning=this.reelCtrl.isSpinning,this._isReadyStop=!1,this.reelCtrl.setStopPos(t.stopPosList),!0))},e.prototype.stop=function(){if(0!=this.isSpinning){null!=this.spinResult&&this.reelCtrl.requestStop()}},e.prototype.readyNextSpin=function(){this.isSpinning=this.reelCtrl.isSpinning,this.onReadyNextSpin.call()},e.prototype.readyStop=function(){this._isReadyStop=!0,this.onReadyStop.call()},i([f(a.StateCtrl)],e.prototype,"stateCtrl",void 0),i([f(c.SpinCtrl)],e.prototype,"spinCtrl",void 0),i([f(c.ReelCtrl)],e.prototype,"reelCtrl",void 0),i([f(c.DrawCtrl)],e.prototype,"drawCtrl",void 0),i([f(u.WalletUI)],e.prototype,"wallet",void 0),e=i([h],e)}(cc.Component);n.GameCtrl=d,cc._RF.pop()},{"../../../../WalletUI/script/WalletUI":"WalletUI","../../../../uzil/Uzil":"Uzil","../../../Net/index_Net":"index_Net","../../index_Slot":"index_Slot"}],InvokerQueueTask:[function(t,e,n){"use strict";cc._RF.push(e,"8dcd32QwMtEJpwE+EZkRGXn","InvokerQueueTask"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.func=function(){cc.log("do something")},this.priority=0,this.tags=[]}return t.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.func.apply(this,t)},t}();n.InvokerQueueTask=o,cc._RF.pop()},{}],InvokerQueue:[function(t,e,n){"use strict";cc._RF.push(e,"fd256Tg6YVN+6Ca1PxaB1mD","InvokerQueue"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_Invoker"),i=function(){function t(){this.taskList=[]}return t.prototype.run=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,o=this.taskList.slice();n<o.length;n++){var i=o[n];-1!=this.taskList.indexOf(i)&&i.call.apply(i,t)}},t.prototype.add=function(t,e){var n=new o.InvokerQueueTask;return n.func=t,n.priority=e,this.taskList.push(n),this.sort(),this},t.prototype.remove=function(t){var e=this.taskList.indexOf(t);-1!=e&&this.taskList.splice(e,1)},t.prototype.removeTag=function(t){for(var e=[],n=0,o=this.taskList;n<o.length;n++){-1!=(s=o[n]).tags.indexOf(t)&&e.push(s)}for(var i=0,r=e;i<r.length;i++){var s=r[i];this.remove(s)}},t.prototype.sort=function(){this.taskList.sort(function(t,e){return e.priority-t.priority})},t}();n.InvokerQueue=i,cc._RF.pop()},{"../index_Invoker":"index_Invoker"}],InvokerTask:[function(t,e,n){"use strict";cc._RF.push(e,"de182UzwXVBMIsYlMvBVGOm","InvokerTask"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.func=function(){cc.log("do something")},this.time=0,this.tags=[]}return t.prototype.call=function(){this.func()},t.prototype.tag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var n=0,o=e;n<o.length;n++){var i=o[n];-1==this.tags.indexOf(i)&&this.tags.push(i)}return this},t.prototype.untag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var n=0,o=e;n<o.length;n++){var i=o[n],r=this.tags.indexOf(i);-1!=r&&this.tags.splice(r,1)}return this},t}();n.InvokerTask=o,cc._RF.pop()},{}],InvokerUpdateTask:[function(t,e,n){"use strict";cc._RF.push(e,"fefe7NO+KtM4aqCFVL67NNh","InvokerUpdateTask"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.func=function(t){cc.log("do something")},this.tags=[]}return t.prototype.call=function(t){this.func(t)},t.prototype.tag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var n=0,o=e;n<o.length;n++){var i=o[n];-1==this.tags.indexOf(i)&&this.tags.push(i)}return this},t.prototype.untag=function(t){var e=t;"string"==typeof t&&(e=[t]);for(var n=0,o=e;n<o.length;n++){var i=o[n],r=this.tags.indexOf(i);-1!=r&&this.tags.splice(r,1)}return this},t}();n.InvokerUpdateTask=o,cc._RF.pop()},{}],Invoker:[function(t,e,n){"use strict";cc._RF.push(e,"9c06bja4aZPk4k5I1pxjru+","Invoker");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../Uzil"),s=t("../index_Invoker"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.taskList=[],e.updateTaskList=[],e}var n;return o(e,t),n=e,e.getInstance=function(){return r.Uzil.getComp("Invoker")},e.once=function(t,e){return n.getInstance().invoke(t,e)},e.cancel=function(t){"string"==typeof t?n.getInstance().cancelInvokeTag(t):t instanceof s.InvokerTask&&n.getInstance().cancelInvoke(t)},e.update=function(t){return n.getInstance().invokeUpdate(t)},e.stop=function(t){"string"==typeof t?n.getInstance().cancelUpdateTag(t):t instanceof s.InvokerUpdateTask&&n.getInstance().cancelUpdate(t)},e.prototype.start=function(){},e.prototype.update=function(t){for(var e=this._getTime(),n=0,o=this.taskList.slice();n<o.length;n++){var i=o[n];-1!=this.taskList.indexOf(i)&&(e<i.time||(i.call(),this.cancelInvoke(i)))}for(var r=0,s=this.updateTaskList.slice();r<s.length;r++){i=s[r];-1!=this.updateTaskList.indexOf(i)&&i.call(t)}},e.prototype.invoke=function(t,e){var n=new s.InvokerTask;return n.func=t,n.time=this._getTime()+e,this.taskList.push(n),n},e.prototype.cancelInvoke=function(t){var e=this.taskList.indexOf(t);-1!=e&&this.taskList.splice(e,1)},e.prototype.cancelInvokeTag=function(t){for(var e=[],n=0,o=this.taskList;n<o.length;n++){-1!=(s=o[n]).tags.indexOf(t)&&e.push(s)}for(var i=0,r=e;i<r.length;i++){var s=r[i];this.cancelInvoke(s)}},e.prototype.invokeUpdate=function(t){var e=new s.InvokerUpdateTask;return e.func=t,this.updateTaskList.push(e),e},e.prototype.cancelUpdate=function(t){var e=this.updateTaskList.indexOf(t);-1!=e&&this.updateTaskList.splice(e,1)},e.prototype.cancelUpdateTag=function(t){for(var e=[],n=0,o=this.updateTaskList;n<o.length;n++){-1!=(s=o[n]).tags.indexOf(t)&&e.push(s)}for(var i=0,r=e;i<r.length;i++){var s=r[i];this.cancelUpdate(s)}},e.prototype._getTime=function(){return r.Time.time},e=n=i([c],e)}(cc.Component));n.Invoker=l,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Invoker":"index_Invoker"}],LineTable:[function(t,e,n){"use strict";cc._RF.push(e,"bbe3fxeB3FIWpSrKKnjtcUs","LineTable"),Object.defineProperty(n,"__esModule",{value:!0});n.LineTable=[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[0,0,1,0,0],[2,2,1,2,2],[1,2,2,2,1],[1,0,0,0,1],[0,1,1,1,0],[2,1,1,1,0],[1,1,0,1,1],[1,1,2,1,1],[0,2,2,2,0],[2,0,0,0,2],[1,0,1,0,1],[1,2,1,2,1],[0,2,0,2,0],[2,0,2,0,2],[0,1,0,1,0],[2,1,2,1,2],[0,2,1,2,0],[2,0,1,0,2],[1,0,2,0,1],[1,2,0,2,1],[0,0,2,0,0],[2,2,0,2,2],[0,0,0,0,1],[2,2,2,2,1],[1,1,1,1,0]],cc._RF.pop()},{}],Macro:[function(t,e,n){"use strict";cc._RF.push(e,"90ae9ISucpA/aTjsspl/LsU","Macro"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(t("./script/PauseResumeTool")),cc._RF.pop()},{"./script/PauseResumeTool":"PauseResumeTool"}],MaterialComponent:[function(t,e,n){"use strict";cc._RF.push(e,"844e3qbqOJL/orN6cXItzFi","MaterialComponent");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./ShaderManager"),s=t("./CustomMaterial"),a=cc._decorator,c=a.ccclass,l=a.property,u=a.requireComponent,p=(a.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.shaderName="",e.shader=null,e.isUpdate=!1,e.time=0,e.startTime=-1,e.randomTimeRange=new cc.Vec2(0,0),e._color=cc.color(),e}return o(e,t),Object.defineProperty(e.prototype,"material",{get:function(){return this._material},enumerable:!0,configurable:!0}),e.prototype.start=function(){null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite)),this.sprite.setState(0),this.applyShader();var t=this.randomTimeRange.x,e=this.randomTimeRange.y;if(t>e){var n=t;t=e,e=n}t!=e?this.startTime>=t&&this.startTime<=e?this.time=this.startTime:this.time=cc.misc.lerp(t,e,Math.random()):this.startTime>0&&(this.time=this.startTime);var o={};o=this.getStartData(o),this.shader&&this.shader.start&&this.shader.start(o)},e.prototype.onEnable=function(){this.sprite.setState(0),this.applyShader()},e.prototype.lateUpdate=function(){this.isUpdate&&this.updateMainTexture()},e.prototype.update=function(t){if(this._material&&this.isUpdate&&(null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite)),null!=this.sprite&&null!=this.sprite.spriteFrame)){this._setShaderColor(!1),this.updateTime(t),this.updateOpacity();var e={deltaTime:t};e=this.getUpdateData(e),this.shader&&this.shader.update&&this.shader.update(e)}},e.prototype.applyShader=function(){var t,e=this.shaderName,n=this.shader=r.default.getShader(e),o=r.ShaderType[e],i=this.sprite;if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){if(i&&i.spriteFrame){if(o>r.ShaderType.Gray){if(!n)return void cc.warn("Shader not defined",name);cc.dynamicAtlasManager.enabled=!1,t=this._material&&this.shaderName==this._material.shaderName?this._material:new s.default(n);var a=i.spriteFrame.getTexture();t.setMainTexture(a),t.updateHash();var c=i;c._material=t,c._renderData._material=t,c._state=o}else i.setState(o);if(this._material=t,t){var l=this._color;l.setR(255),l.setG(255),l.setB(255),l.setA(255),this._setShaderColor(!0),i._updateMaterial(t),i.markForUpdateRenderData(!0),i.markForRender(!0)}}}else cc.warn("Shader not surpport for canvas")},e.prototype.setParam=function(t,e){null!=this.material&&this.material.setParam(t,e)},e.prototype.getParam=function(t){if(null!=this.material)return this.material.getParam(t)},e.prototype.setTexture=function(t,e){null!=this.material&&this.material.setTexture(t,e)},e.prototype._setShaderColor=function(t){void 0===t&&(t=!1);var e=this.node,n=e.color,o=this._color,i=n.getR(),r=n.getG(),s=n.getB(),a=e.opacity,c=!1;o.getR()!=i&&(o.setR(i),c=!0),o.getG()!=r&&(o.setG(r),c=!0),o.getB()!=s&&(o.setB(s),c=!0),o.getA()!=a&&(o.setA(a),c=!0),(t||c)&&this._material.setColor(o)},e.prototype.updateTime=function(t){var e=this.time;e>65535&&(e=0),e+=t,this.setParam("time",e),this.time=e},e.prototype.updateOpacity=function(){var t=this.sprite.node.opacity;this.setParam("alpha",t/255)},e.prototype.updateMainTexture=function(){if(null!=this.sprite&&null!=this.sprite.spriteFrame){var t=this.sprite.spriteFrame.getTexture();this._material.setMainTexture(t),this._material.updateHash();var e=this.sprite;e._material=this._material,e._renderData._material=this._material}},e.prototype.getStartData=function(t){return t.material=this.material,t.component=this,t},e.prototype.getUpdateData=function(t){return t.material=this.material,t.component=this,t},i([l(cc.Sprite)],e.prototype,"sprite",void 0),i([l(cc.String)],e.prototype,"shaderName",void 0),i([l(cc.Boolean)],e.prototype,"isUpdate",void 0),i([l],e.prototype,"startTime",void 0),i([l(cc.Vec2)],e.prototype,"randomTimeRange",void 0),e=i([c,u(cc.Sprite)],e)}(cc.Component));n.default=p,cc._RF.pop()},{"./CustomMaterial":"CustomMaterial","./ShaderManager":"ShaderManager"}],Material_Blurs:[function(t,e,n){"use strict";cc._RF.push(e,"3691ahEn0JDObuw/ML3H3yq","Material_Blurs");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../core/MaterialComponent"),s=cc._decorator,a=s.ccclass,c=s.property,l=s.requireComponent,u=(s.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Blurs",e.isUpdate=!0,e.force=new cc.Vec2(.5,.5),e.forceScale=new cc.Vec2(1,1),e}return o(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).force=this.force.scale(this.forceScale),e},i([c({override:!0})],e.prototype,"shaderName",void 0),i([c({override:!0})],e.prototype,"isUpdate",void 0),i([c(cc.Vec2)],e.prototype,"force",void 0),i([c(cc.Vec2)],e.prototype,"forceScale",void 0),e=i([a,l(cc.Sprite)],e)}(r.default));n.default=u,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Fluxay:[function(t,e,n){"use strict";cc._RF.push(e,"0c9c0HMWudLz5JnFBiUF/UP","Material_Fluxay"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,s=i.property,a=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Fluxay",e.isUpdate=!0,e.force=new cc.Vec2(.5,.5),e.mask=null,e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).maskTex=this.mask,e.offset=this.force,e},__decorate([s({override:!0})],e.prototype,"shaderName",void 0),__decorate([s({override:!0})],e.prototype,"isUpdate",void 0),__decorate([s(cc.Vec2)],e.prototype,"force",void 0),__decorate([s({type:cc.Texture2D})],e.prototype,"mask",void 0),e=__decorate([r,a(cc.Sprite)],e)}(o.default));n.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Offset:[function(t,e,n){"use strict";cc._RF.push(e,"0905dePuJpG6rYtRSTr1nTk","Material_Offset"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,s=i.property,a=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Offset",e.isUpdate=!0,e.offset=new cc.Vec2(0,0),e.offset_speed_sec=new cc.Vec2(0,0),e.tilling=new cc.Vec2(1,1),e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){this.offset.x+=this.offset_speed_sec.x*e,this.offset.y+=this.offset_speed_sec.y*e,this.offset.x=this.loop(this.offset.x),this.offset.y=this.loop(this.offset.y),t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).offset=this.offset,e.tilling=this.tilling,e},e.prototype.loop=function(t){for(var e=t;e>1e6;)e-=1e6;for(;e<-1e6;)e+=1e6;return e},__decorate([s({override:!0})],e.prototype,"shaderName",void 0),__decorate([s({override:!0})],e.prototype,"isUpdate",void 0),__decorate([s(cc.Vec2)],e.prototype,"offset",void 0),__decorate([s(cc.Vec2)],e.prototype,"offset_speed_sec",void 0),__decorate([s(cc.Vec2)],e.prototype,"tilling",void 0),e=__decorate([r,a(cc.Sprite)],e)}(o.default));n.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Template:[function(t,e,n){"use strict";cc._RF.push(e,"815117mcSxKxq6W7/iDBGW9","Material_Template"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,s=i.property,a=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="ShaderName",e.isUpdate=!0,e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return e=t.prototype.getUpdateData.call(this,e)},__decorate([s({override:!0})],e.prototype,"shaderName",void 0),__decorate([s({override:!0})],e.prototype,"isUpdate",void 0),e=__decorate([r,a(cc.Sprite)],e)}(o.default));n.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Material_Wave:[function(t,e,n){"use strict";cc._RF.push(e,"2d70e4uNEFEDoBP0c9qQdNW","Material_Wave"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/MaterialComponent"),i=cc._decorator,r=i.ccclass,s=i.property,a=i.requireComponent,c=(i.executeInEditMode,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shaderName="Wave",e.isUpdate=!0,e.force=new cc.Vec2(.5,.5),e.weightTexture=null,e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.update=function(e){t.prototype.update.call(this,e)},e.prototype.getUpdateData=function(e){return(e=t.prototype.getUpdateData.call(this,e)).weightTex=this.weightTexture,e.offset=this.force,e},__decorate([s({override:!0})],e.prototype,"shaderName",void 0),__decorate([s({override:!0})],e.prototype,"isUpdate",void 0),__decorate([s(cc.Vec2)],e.prototype,"force",void 0),__decorate([s({type:cc.Texture2D})],e.prototype,"weightTexture",void 0),e=__decorate([r,a(cc.Sprite)],e)}(o.default));n.default=c,cc._RF.pop()},{"../core/MaterialComponent":"MaterialComponent"}],Mathf:[function(t,e,n){"use strict";cc._RF.push(e,"c097fK6CldAxpoREmsiW2+t","Mathf"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.toVec2=function(t){return t instanceof cc.Vec3?new cc.Vec2(t.x,t.y):"number"==typeof t?new cc.Vec2(t,t):void 0},t.toVec3=function(t){return t instanceof cc.Vec2?new cc.Vec3(t.x,t.y,0):"number"==typeof t?new cc.Vec3(t,t,t):void 0},t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.lerp=function(t,e,n){return t+(e-t)*n},t.lerpV2=function(t,e,n){return t.add(e.sub(t).mul(n))},t.moveToward=function(t,e,n){var o=e-t,i=Math.abs(o);if(0==o)return t;var r=t+(o>0?1:-1)*Math.min(n,i);return isNaN(r)?0:r},t.moveTowardV2=function(t,e,n){if(0==n)return t;var o=e.sub(t),i=o.mag();i&&1!=i&&(o=o.normalize());var r=o.mul(Math.min(n,i));return t.add(r)},t.rotateToward=function(e,n,o){var i=t.validAngle(e),r=t.validAngle(n);if(i==r)return n;var s=r-i,a=r+(r>i?-360:360)-i,c=Math.abs(s),l=Math.abs(a),u=0,p=!1;return c<l?(u=c,p=s>0):(u=l,p=a>0),e+(p?1:-1)*Math.min(u,o)},t.validAngle=function(t){for(;t<0;)t+=360;for(;t>360;)t-=360;return t},t.angleToVec2=function(t){var e=cc.misc.degreesToRadians(t);return new cc.Vec2(Math.sin(e),Math.cos(e))},t.angleDelta=function(t,e,n){if(void 0===n&&(n=!0),e==t)return 0;if(360==Math.abs(e-t))return 360;var o=0,i=0;return n?(o=t%360,i=e%360):(i=t%360,o=e%360),o==i?0:(i<o&&(i+=360),i-o)},t.loop=function(t,e,n){if(t==n)return e;if(t>=e&&t<=n)return t;var o,i;t=t<0?.001*Math.ceil(1e3*t):.001*Math.floor(1e3*t),e<n?(o=e,i=n):(o=n,i=e);var r=i-o,s=t;return t<e?s=i-Math.abs((t-i)%r):t>n&&(s=o+Math.abs((t-o)%r)),s==n&&(s=0),s},t.addAbs=function(t,e){return t+(t<0?-e:e)},t.minAbs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],o=Math.abs(t[0]),i=0,r=t;i<r.length;i++){var s=r[i],a=Math.abs(s);a<o&&(o=a,n=s)}return n},t.min=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var o=0,i=e;o<i.length;o++){var r=i[o];null!=r&&void 0!=r&&((r<t||void 0==t)&&(t=r))}return t},t.max=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var o=0,i=e;o<i.length;o++){var r=i[o];null!=r&&void 0!=r&&((r>t||void 0==t)&&(t=r))}return t},t.isInRange=function(t,e,n){return t>=e&&t<=n},t.isInRangeLoop=function(e,n,o){var i=n[0],r=n[1],s=o[0],a=o[1];e=t.loop(e,s,a),i=t.loop(i,s,a),r=t.loop(r,s,a);var c=e>=i&&e<=r;return i>r&&(c=e>i&&e>r||e<i&&e<r),c},t.isRangeIntersect=function(e,n,o,i){return e==o||e==i||n==o||n==i||!!(t.isInRange(e,o,i)||t.isInRange(n,o,i)||t.isInRange(o,e,n)||t.isInRange(i,e,n))},t.isRangeIntersectLoop=function(e,n,o){var i=o[0],r=o[1],s=t.loop(e[0],i,r),a=t.loop(e[1],i,r),c=t.loop(n[0],i,r),l=t.loop(n[1],i,r);return s==c||s==l||a==c||a==l||!!(t.isInRangeLoop(s,[c,l],[i,r])||t.isInRangeLoop(a,[c,l],[i,r])||t.isInRangeLoop(c,[s,a],[i,r])||t.isInRangeLoop(l,[s,a],[i,r]))},t.getOffsetsLoop=function(e,n,o,i){var r=i-o;if((e=t.loop(e,o,i))==(n=t.loop(n,o,i)))return[0,0];var s,a=n-e;return s=a>0?n-r-e:n+r-e,[t.min(a,s),t.max(a,s)]},t.clampRangeLoop=function(e,n,o){var i=e.slice(),r=n.slice(),s=o[0],a=o[1],c=function(e){return t.loop(e,s,a)};i=i.map(c),r=r.map(c);for(var l=0,u=i[0]>i[1],p=r[0]>r[1],h=function(){var e=[];u&&e.push(i[0]),p&&e.push(r[0]);var n=0;e.length>0&&(n=t.min.apply(t,e)),l+=n,i=i.map(function(t){return c(t-n)}),r=r.map(function(t){return c(t-n)}),u=i[0]>i[1],p=r[0]>r[1]};u||p;)h();var f=[t.max(i[0],r[0]),t.min(i[1],r[1])];return f[0]=t.min(f[0],r[1]),f[1]=t.max(f[1],r[0]),f=f.map(function(t){return c(t+l)})},t.sliceRange=function(e,n,o,i){var r=[],s=t.isInRange(o,e,n),a=t.isInRange(i,e,n);return s||a?(s?r.push([e,o]):r.push([e,i]),s&&a&&r.push([o,i]),a?r.push([i,n]):r.push([o,n]),r):r},t}();n.Mathf=o;var i=function(){function t(t,e){void 0===e&&(e=void 0),this.min=0,this.max=void 0,e?this.set([t,e]):this.set(t)}return t.prototype.set=function(t){return"number"==typeof t?(this.min=0,this.max=t):t instanceof Array&&t.length>=2&&(this.min=t[0],this.max=t[1]),this},t.prototype.get=function(){return this.random()},t.prototype.getInt=function(){return Math.floor(this.random())},t.prototype.getFloat=function(){return Math.random()*(this.max-this.min)+this.min},t.prototype.random=function(){return this.min==this.max?this.min:Math.random()*(this.max-this.min+1)+this.min},t}();n.RandomRange=i,cc._RF.pop()},{}],NetMod:[function(t,e,n){"use strict";cc._RF.push(e,"49913AG6IZOEL08hIatPWxN","NetMod");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../uzil/Uzil"),s=t("../index_Net"),a=cc._decorator,c=(a.ccclass,a.property,function(){function t(){this.client=new s.OfflineClient,this.player=null,this.stripTables=null,this.onStripTableUpdate=new r.Event}return t.prototype.connect=function(){return o(this,void 0,void 0,function(){var t,e,n;return i(this,function(o){switch(o.label){case 0:return e=t=this,[4,t.client.connect()];case 1:return e.player=o.sent(),n=t,[4,t.client.getStripTables()];case 2:return n.stripTables=o.sent(),t.onStripTableUpdate.call(t.stripTables),t.client.onStripTableUpdate(function(e,n){e||t.onStripTableUpdate.call(n)}),t.client.onDisconnect(function(t){}),t.client.onError(function(t){}),cc.log("[NetMod]: connect success"),[2]}})})},t.prototype.spin=function(t){return o(this,void 0,Promise,function(){var e,n;return i(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.client.spin(t)];case 1:return e=o.sent(),[3,3];case 2:throw n=o.sent(),cc.log(n),n;case 3:return this.player.credit=e.currentCredit,[2,e]}})})},t.prototype.getStripTable=function(t){var e=this.stripTables.get(t);return null==e?null:e.map(function(t){return t.getCopy()})},t.isDev=!1,t.params={default:{language:"zh-cn"},dev:{language:"zh-cn"}},t}());n.NetMod=c,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_Net":"index_Net"}],ObjPool_Prefab:[function(t,e,n){"use strict";cc._RF.push(e,"39c31B4e5hHXLzESNKpomX0","ObjPool_Prefab");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.instance2Prefab=new Map,e}return o(e,t),e.prototype.recovery=function(e){if(this.instance2Prefab.has(e)&&this.instance2Prefab.get(e)!=this.prefab)return this.disableObj(e),void this.destroy(e);t.prototype.recovery.call(this,e)},e.prototype.create=function(){var t=cc.instantiate(this.prefab);return this.instance2Prefab.set(t,this.prefab),t},e.prototype.destroy=function(t){t.destroy(),this.instance2Prefab.delete(t)},e.prototype.enableObj=function(t,e){return t.active=!0,t},e.prototype.disableObj=function(t){t.active=!1},e}(t("./ObjPool").ObjPool);n.ObjPool_Prefab=i,cc._RF.pop()},{"./ObjPool":"ObjPool"}],ObjPool:[function(t,e,n){"use strict";cc._RF.push(e,"b29baIYcz5EBKycYlX7hglv","ObjPool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.poolStack=[],this.instanceList=[],this.maxCount=-1}return t.prototype.init=function(t){for(var e=0;e<t;e++)this.poolStack.push(this.create())},t.prototype.request=function(t){var e;return void 0===t&&(t=null),e=this.poolStack.length>0?this.poolStack.pop():this.create(),this.instanceList.push(e),this.enableObj(e,t),e},t.prototype.recovery=function(t){var e=this.instanceList.indexOf(t);-1!=e&&this.instanceList.splice(e,1),-1!=this.maxCount&&this.poolStack.length>=this.maxCount?(this.disableObj(t),this.destroy(t)):(this.poolStack.push(t),this.disableObj(t))},t.prototype.clear=function(){for(var t=0,e=this.poolStack;t<e.length;t++){var n=e[t];this.disableObj(n),this.destroy(n)}this.poolStack.splice(0,this.poolStack.length)},t}();n.ObjPool=o,cc._RF.pop()},{}],Objf:[function(t,e,n){"use strict";cc._RF.push(e,"8c6a8/oQbFDL4XDOZjtM11P","Objf"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.clone=function(t){return this.assign({},t)},t.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o=0;o<e.length;o++){var i=e[o];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},t}();n.Objf=o,cc._RF.pop()},{}],OddsTable:[function(t,e,n){"use strict";cc._RF.push(e,"c2261MRm/9FPYXeHxTnNmb9","OddsTable"),Object.defineProperty(n,"__esModule",{value:!0});n.OddsTable={normal:{NONE:[0,0,0,0,0,0],N1:[0,0,0,5,10,25],N2:[0,0,0,5,10,25],N3:[0,0,0,5,10,25],N4:[0,0,0,5,10,25],N5:[0,0,0,5,10,25],N6:[0,0,0,5,10,25],N7:[0,0,0,5,10,25],N8:[0,0,0,5,10,25],N9:[0,0,0,5,10,25],H1:[0,0,0,8,18,88],H2:[0,0,0,8,18,68],H3:[0,0,0,8,18,68],H4:[0,0,0,8,18,38],H5:[0,0,0,8,18,38],H6:[0,0,0,8,18,38],H7:[0,0,0,8,18,38],H8:[0,0,0,8,18,38],H9:[0,0,0,8,18,38],WD:[0,0,0,0,0,88],SC:[0,0,0,50,125,1250]},free:{NONE:[0,0,0,0,0,0],N1:[0,0,0,5,10,25],N2:[0,0,0,5,10,25],N3:[0,0,0,5,10,25],N4:[0,0,0,5,10,25],N5:[0,0,0,5,10,25],N6:[0,0,0,5,10,25],N7:[0,0,0,5,10,25],N8:[0,0,0,5,10,25],N9:[0,0,0,5,10,25],H1:[0,0,0,8,18,88],H2:[0,0,0,8,18,68],H3:[0,0,0,8,18,68],H4:[0,0,0,8,18,38],H5:[0,0,0,8,18,38],H6:[0,0,0,8,18,38],H7:[0,0,0,8,18,38],H8:[0,0,0,8,18,38],H9:[0,0,0,8,18,38],WD:[0,0,0,0,0,88],SC:[0,0,0,50,125,1250]}},cc._RF.pop()},{}],OfflineClient:[function(t,e,n){"use strict";cc._RF.push(e,"b3116RJoGNB/rzcVX+/z8ue","OfflineClient");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../../../uzil/Uzil"),a=t("../../../Reel/index_Reel"),c=t("../../../Rule/index_Rule"),l=t("../../index_Net"),u=t("../../../Slot/index_Slot"),p=t("../../../Rule/script/ReelRule"),h=t("../../../Rule/script/WinsRule"),f=cc._decorator,d=(f.ccclass,f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMegaways=!1,e.isTumblingReels=!1,e.isSymbolTurn=!1,e.isSimulateDelay=!1,e.dropColMaxSize=3,e._stripTables=null,e._playerCredit=1e3,e.baseResultReelIdxs=[0,1,2,3,4],e.extraResultReelIdxs=[5],e.isTestSpinResLoop=!1,e.testSpinIdx=0,e._onStripTableUpdate=new s.Event,e}return o(e,t),Object.defineProperty(e.prototype,"_testSpinRes",{get:function(){var t=[];if(0==t.length||this.testSpinIdx>t.length-1)return[];var e=[t[this.testSpinIdx]];return this.testSpinIdx++,this.isTestSpinResLoop&&this.testSpinIdx>=t.length&&(this.testSpinIdx=0),e},enumerable:!0,configurable:!0}),e.prototype.connect=function(){return i(this,void 0,Promise,function(){var t;return r(this,function(e){return(t=new l.PlayerData).credit=this._playerCredit,t.name="demo",[2,t]})})},e.prototype.disconnect=function(){},e.prototype.getStripTables=function(){return i(this,void 0,Promise,function(){var t,e,n,o,i,s,a,l,p,h,f,d,_,y;return r(this,function(r){return t=c.SymbolCode.N1,e=c.SymbolCode.N2,n=c.SymbolCode.N3,o=c.SymbolCode.N4,c.SymbolCode.N5,c.SymbolCode.N5,i=c.SymbolCode.H1,s=c.SymbolCode.H2,a=c.SymbolCode.H3,l=c.SymbolCode.H4,p=c.SymbolCode.H5,h=c.SymbolCode.SC,f=c.SymbolCode.WD,this._stripTables=new Map,d=[[n,o,l,e,t,s,e,o,a,n,e,t,l,o,i,t,i,t,p,e,o,s,t,n,p,n,e,a,t,l,n,o,p,t],[t,n,s,e,n,a,e,n,h,t,l,o,n,e,l,t,i,f,i,n,e,n,s,e,t,o,p,n,h,t,o,f,n,f],[e,n,s,n,p,o,s,e,t,o,a,h,o,e,i,f,h,o,t,e,o,n,p,t,n,o,e,l,h,n,e,f],[o,s,t,o,e,a,h,n,a,e,t,l,n,i,i,i,f,i,e,h,t,p,e,n,s,n,h,t,e,f,o,n,f],[o,l,e,n,t,s,o,n,e,p,n,e,i,i,i,f,i,o,e,a,o,n,s,t,e,o,l,e,n,f],[t,e,n,o,i,s,a,l]],_=this.isMegaways?u.StripParse.megaways(d):u.StripParse.normal(d),this._stripTables.set("normal",_),y=[[n,o,l,e,t,s,e,o,a,n,e,t,l,o,i,t,i,t,p,e,o,s,t,n,p,n,e,a,t,l,n,o,p,t],[t,n,s,e,n,a,e,n,t,t,l,o,n,e,l,t,i,f,i,n,e,n,s,e,t,o,p,n,t,t,o,f,n,f],[e,n,s,n,p,o,s,e,t,o,a,t,o,e,i,f,i,o,t,e,o,n,p,t,n,o,e,l,t,n,e,f],[o,s,t,o,e,a,t,n,a,e,t,l,n,i,i,i,f,i,e,t,t,p,e,n,s,n,t,t,e,f,o,n,f],[o,l,e,n,t,s,o,n,e,p,n,e,i,i,i,f,i,o,e,a,o,n,s,t,e,o,l,e,n,f],[t,e,n,o,i,s,a,l]],this._stripTables.set("free",u.StripParse.normal(y)),this._stripTables.set("_test",u.StripParse.normal([[i,s,a,l,p,t,e,n,o,o],[i,s,a,l,p,t,e,n,o,f],[i,s,a,l,p,t,e,n,o,f],[i,s,a,l,p,t,e,n,o,f],[i,s,a,l,p,t,e,n,o,f]])),[2,this._stripTables]})})},e.prototype.onStripTableUpdate=function(t){this._onStripTableUpdate.add(function(e,n,o){t(null,n,o)})},e.prototype.spin=function(t){return i(this,void 0,Promise,function(){var e,n,o,i,a,u;return r(this,function(r){switch(r.label){case 0:if(cc.log("OfflineClient: spin ======================"),e=(e=this._stripTables.get("normal")).map(function(t){return t.getCopy()}),this._playerCredit<t)throw"error";return n=new l.SpinResultData,this.isSimulateDelay?[4,new Promise(function(t,e){s.Invoker.once(t,2)})]:[3,2];case 1:r.sent(),r.label=2;case 2:if(o=this.generateResult(t,e,c.OddsTable.normal),n.resultTable.set("main",[o]),-1!=o.tags.indexOf("isCanFg")&&(i=[],null!=(a=(a=this._stripTables.get("free")).map(function(t){return t.getCopy()})))){for(u=0;u<2;u++)i.push(this.generateResult(t,a,c.OddsTable.free));n.resultTable.set("free",i)}return n.totalBet=t,n.resultTable.forEach(function(t,e){for(var o=0,i=t;o<i.length;o++){var r=i[o];n.totalBonus+=r.totalWinBonus}}),this._playerCredit=this._playerCredit-t+n.totalBonus,n.currentCredit=this._playerCredit,cc.log(n),[2,n]}})})},e.prototype.generateResult=function(t,e,n){var o=new l.ResultData;e=e.map(function(t){return t.getCopy()});var i,r,f=0,d=this._testSpinRes.shift();i=null!=d?d.stopPosList:u.SlotUtil.getRandomStopPos(e);var _=(r=i.slice()).slice(),y=p.ReelRule.getResultInRange(e,_);if(this.isMegaways){for(var v=[],g=[[2,3],[2,3,6],[2,3,6],[2,3,6],[2,3,6]],m=0;m<g.length;m++){var b=g[m][new s.RandomRange(0,g[m].length-1).getInt()];v.push(b)}if(null!=d){var S=d.megaways;S&&(v=S)}var R=function(t){var n,o=v[t],i=p.ReelRule.getResultRangeLength(t);o%2==0?(n=r[t])%2==1&&(n+=1):(n=r[t])%2==0&&(n+=1),r[t]=n,_[t]=n;var c=e[t],l=new a.ReelStripData,u=c.cols,h=[],f=i/o,d=f/2,y=c.min,g=[],m=c.getColsByTriggerPos(n+1e-4),b=new Map;m.forEach(function(t,e){var o=Math.abs(s.Mathf.minAbs.apply(s.Mathf,s.Mathf.getOffsetsLoop(n,t.pos,c.min,c.max)));b.set(e,o)}),m.sort(function(t,e){return b.get(t.idx)-b.get(e.idx)});for(var S=m[0],R=S.getTriggerRange(),x=s.Mathf.getOffsetsLoop(R[0],n,c.min,c.max)[1]/S.getTriggerLength(),P=o/2,O=-Math.floor(P),w=Math.ceil(P),C=O;C<w;C++){var A=s.Mathf.loop(S.idx+C,0,c.cols.length);g.push(A)}for(var T=0;T<u.length;T++){var M=u[T],I=M.getCopy();-1!=g.indexOf(M.idx)&&(I.sizeLevel=f,I.triggerRange_relative=[d,d],I.displayRange_relative=[d,d]),y+=I.triggerRange_relative[0],I.pos=y,y+=I.triggerRange_relative[1],h.push(I)}l.setCols(h),e[t]=l;var D=h[S.idx],j=D.getTriggerRange()[0]+x*D.getTriggerLength();r[t]=j};for(m=0;m<v.length;m++)R(m);o.ways=v,y=p.ReelRule.getResultInRange(e,r)}if(this.isSymbolTurn){var x=[];for(m=0;m<y.length;m++){for(var P=[],O=y[m],w=0;w<O.length;w++)if(O[w].symbol==c.SymbolCode.H1&&Math.random()>.5){var C=y[m][w];C.symbol=c.SymbolCode.WD,P.push(C.idx)}x.push(P)}o.symbolTurnCol=x}for(var A=y.slice(this.baseResultReelIdxs.length,this.baseResultReelIdxs.length+this.extraResultReelIdxs.length),T=y.slice(0,this.baseResultReelIdxs.length),M=h.WinsRule.getWinDataList_Way(t,T,n,{extraReelResult:A}),I=0,D=M;I<D.length;I++){f+=D[I].winBonus}if(cc.log("winDatas:"+f,M),this.isTumblingReels){var j=[],E=(v=o.ways,[]);for(m=0;m<y.length;m++)E.push([]);for(var k=[],N=0,F=M;N<F.length;N++){var L=F[N];k.push(L.getCopy())}var z=[];for(m=0;m<y.length;m++)z.push(0);var U=y;for(m=0;m<U.length;m++)for(var B=r[m],V=e[m],W=0,G=U[m];W<G.length;W++){var q=(ut=G[W]).pos;ut.pos=s.Mathf.minAbs.apply(s.Mathf,s.Mathf.getOffsetsLoop(B,q,V.min,V.max))}for(var H=1e3;k.length>0&&H-- >0;){var Y=[];for(m=0;m<U.length;m++){for(var X=-1!=j.indexOf(m),J=(V=e[m],U[m].slice()),Z=p.ReelRule.getResultRange(m),K=p.ReelRule.getResultRangeLength(m),Q=Z,$=J[0].idx,tt=J[J.length-1],et=tt.getTriggerRange(),nt=Q[1],ot=0,it=[],rt=0,st=k;rt<st.length;rt++){var at=st[rt];if(!(m+1>at.path.length))for(var ct=0,lt=at.path[m];ct<lt.length;ct++){var ut=lt[ct];-1==it.indexOf(ut)&&it.push(ut)}}X&&(cc.log(J.map(function(t){return t.idx})),cc.log("winCols:",it));for(var pt=function(t){var e=J.findIndex(function(e){return e.idx==t});if(-1==e)return"continue";J.splice(e,1)},ht=0,ft=it;ht<ft.length;ht++){pt(ut=ft[ht])}X&&cc.log("lengths:",J.map(function(t){return{range:t.getTriggerRange(),length:t.getTriggerLength()}}));b=void 0;void 0!=v&&(b=v[m]),nt=Q[1],J.length>0&&(et=(tt=J[J.length-1]).getTriggerRange(),nt=s.Mathf.max(Q[1],et[1]),X&&cc.log("downestPos:",nt," in stop("+Q[1]+") col("+tt.idx+") "+et[1]));for(var dt=nt,_t=0,yt=J;_t<yt.length;_t++){ut=yt[_t];X&&cc.log("("+ut.idx+")"+c.SymbolCode[ut.symbol]+" : "+ut.getTriggerLength());dt+=void 0!=b?K/b*-1:-1*ut.getTriggerLength()}ot=-1*(Q[0]-dt);var vt=E[m],gt=z[m];for(X&&cc.log("needToDropLength:",ot);ot>0;){$-=1;var mt=s.Mathf.loop($,0,V.cols.length),bt=V.getColByIdx(mt).getCopy();if(void 0!=b){bt.sizeLevel=K/b;var St=bt.sizeLevel/2;bt.displayRange_relative=[St,St],bt.triggerRange_relative=[St,St]}else if(gt>0){var Rt=-bt.sizeLevel;if(Rt>0){bt.sizeLevel+=Rt;St=bt.sizeLevel/2;bt.displayRange_relative=[St,St],bt.triggerRange_relative=[St,St],gt-=Rt}}var xt=bt.getTriggerLength(),Pt=xt-ot;if(Pt>0){bt.sizeLevel-=Pt;St=bt.sizeLevel/2;bt.displayRange_relative=[St,St],bt.triggerRange_relative=[St,St],z[m]+=Pt}vt.unshift(bt),J.unshift(bt),ot-=xt}for(var Ot=J.length-1;Ot>=0;Ot--){(ut=J[Ot]).pos=nt-ut.triggerRange_relative[1],nt-=ut.getTriggerLength()}Y.push(J)}for(var wt=Y.slice(this.baseResultReelIdxs.length,this.baseResultReelIdxs.length+this.extraResultReelIdxs.length),Ct=Y.slice(0,this.baseResultReelIdxs.length),At=0,Tt=0,Mt=k=h.WinsRule.getWinDataList_Way(t,Ct,n,{extraReelResult:wt});Tt<Mt.length;Tt++){At+=Mt[Tt].winBonus}f+=At,U=Y}y=U,o.dropColDatas=E,cc.log("dropColData:",E)}var It=[1,2,3],Dt=0;for(m=0;m<It.length;m++)for(var jt=0,Et=y[It[m]];jt<Et.length;jt++){(w=Et[jt]).symbol==c.SymbolCode.SC&&Dt++}return Dt>=3&&o.tags.push("isCanFg"),o.totalWinBonus=f,o.stopPosList=_,cc.log("stopPos:",r,"srcStopPos:",i,"ways:",o.ways),o},e}(l.GameClient));n.OfflineClient=d,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../../Reel/index_Reel":"index_Reel","../../../Rule/index_Rule":"index_Rule","../../../Rule/script/ReelRule":"ReelRule","../../../Rule/script/WinsRule":"WinsRule","../../../Slot/index_Slot":"index_Slot","../../index_Net":"index_Net"}],Offset:[function(t,e,n){"use strict";cc._RF.push(e,"eeb0aJqyvJPL5fj7RCrhG7t","Offset"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Offset",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"offset",type:i.PARAM_FLOAT2,defaultValue:0},{name:"tilling",type:i.PARAM_FLOAT2,defaultValue:1}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var n=t.offset;e.setParam("offset",n);var o=t.tilling;e.setParam("tilling",o)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform vec2 offset;\n\t\tuniform vec2 tilling;\n\t\tvarying vec2 uv0;\n\t\tvoid main () {\n\t\t\tvec2 uv = mod( mod((uv0 * tilling), 1.) + offset, 1.);\n\t\t\tgl_FragColor = texture2D(texture, uv);\n\t\t}\n\t"};o.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],PageCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"4927fmBK+lBkoGoxTpe6b6j","PageCtrl"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=(o.property,function(){function t(){this.scope="",this.pages=[],this.cards=[]}var e;return e=t,t.get=function(t){return void 0===t&&(t=""),this.getInstance(t)},t.getInstance=function(t){void 0===t&&(t="");var n=this._instance[t];return n||((n=new e).scope=t,this._instance[t]=n),n},t.prototype.registerPage=function(t){-1==this.pages.indexOf(t)&&this.pages.push(t)},t.prototype.registerCard=function(t){-1==this.cards.indexOf(t)&&(this.cards.push(t),t.deactive())},t.prototype.getPages=function(t){for(var e=[],n=0,o=this.pages;n<o.length;n++){var i=o[n];i.id==t&&e.push(i)}return 0==e.length?null:e},t.prototype.getCards=function(t){for(var e=[],n=0,o=this.cards;n<o.length;n++){var i=o[n];i.id==t&&e.push(i)}return 0==e.length?null:e},t.prototype.GoPage=function(t){var e=this._getCardIDsInPage(t);cc.log("toShow:"),cc.log(e),cc.log(this.cards);for(var n=0,o=this.cards;n<o.length;n++){var i=o[n];-1!=e.indexOf(i.id)?i.active():i.deactive()}},t.prototype.ShowPage=function(t){for(var e=this._getCardIDsInPage(t),n=0,o=this.cards;n<o.length;n++){var i=o[n];-1!=e.indexOf(i.id)&&i.active()}},t.prototype.HidePage=function(t){for(var e=this._getCardIDsInPage(t),n=0,o=this.cards;n<o.length;n++){var i=o[n];-1!=e.indexOf(i.id)&&i.deactive()}},t.prototype.activeCard=function(t,e){void 0===e&&(e=!1);for(var n=0,o=this.getCards(t);n<o.length;n++){o[n].active(e)}},t.prototype.deactiveCard=function(t,e){void 0===e&&(e=!1);for(var n=0,o=this.getCards(t);n<o.length;n++){o[n].deactive(e)}},t.prototype._getCardIDsInPage=function(t){for(var e=[],n=0,o=this.pages;n<o.length;n++){var i=o[n];if(i.id==t)for(var r=0,s=i.cards;r<s.length;r++){var a=s[r];-1==e.indexOf(a)&&e.push(a)}}return e},t._instance={},t=e=__decorate([i],t)}());n.PageCtrl=r,cc._RF.pop()},{}],Page:[function(t,e,n){"use strict";cc._RF.push(e,"1a61aQHCB5Ia43/gy7Kytbc","Page"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_PageCard"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="_anonymous",e.scopes=[],e.cards=[],e}return __extends(e,t),e.prototype.onLoad=function(){if(0==this.scopes.length)o.PageCtrl.getInstance().registerPage(this);else for(var t=0,e=this.scopes;t<e.length;t++){var n=e[t];o.PageCtrl.getInstance(n).registerPage(this)}},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.init=function(){},e.prototype._onActive=function(){},e.prototype._onDeactive=function(){},__decorate([s()],e.prototype,"id",void 0),__decorate([s({type:cc.String})],e.prototype,"scopes",void 0),__decorate([s({type:cc.String})],e.prototype,"cards",void 0),e=__decorate([r],e)}(cc.Component);n.Page=a,cc._RF.pop()},{"../index_PageCard":"index_PageCard"}],PauseResumeTool:[function(t,e,n){"use strict";cc._RF.push(e,"897c1DaIT5Fvpp7NUg7yvRP","PauseResumeTool");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resumeBtnNode=null,e}var n;return o(e,t),n=e,e.prototype.onLoad=function(){var t=this;this.resumeBtnNode.active=!1,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){e.keyCode==cc.macro.KEY.t&&t.step(),e.keyCode==cc.macro.KEY.r&&(cc.director.isPaused()?t.resume():t.pause()),n.onKeyDown.call(e.keyCode)})},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.pause=function(){cc.director.pause(),this.resumeBtnNode&&(this.resumeBtnNode.active=!0),n.onPause.call()},e.prototype.resume=function(){cc.director.resume(),this.resumeBtnNode&&(this.resumeBtnNode.active=!1),n.onResume.call()},e.prototype.step=function(){cc.director.resume(),this.resumeBtnNode&&(this.resumeBtnNode.active=!0),r.Invoker.once(function(){cc.director.pause()},0),n.onStep.call()},e.onStep=new r.Event,e.onResume=new r.Event,e.onPause=new r.Event,e.onKeyDown=new r.Event,i([c(cc.Node)],e.prototype,"resumeBtnNode",void 0),e=n=i([a],e)}(cc.Component);n.PauseResumeTool=l,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],PlayerData:[function(t,e,n){"use strict";cc._RF.push(e,"a7f0a+txCBO1ZrrRHVhj7SF","PlayerData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(){this.credit=0,this.name=""}}();n.PlayerData=o,cc._RF.pop()},{}],PointData:[function(t,e,n){"use strict";var o;cc._RF.push(e,"3dbbfLKnGxAVraIDvJZCiVC","PointData"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.free=0]="free",t[t.linear=1]="linear",t[t.constant=2]="constant",t[t.weighted=3]="weighted"}(o=n.EaseType||(n.EaseType={}));var i=function(){function t(){this.pos=cc.Vec2.ZERO,this.easeIn=cc.Vec2.ZERO,this.easeOut=cc.Vec2.ZERO,this.easeType=[o.weighted]}return t.create=function(e){var n=new t;if(e.hasOwnProperty("pos")){var i=e.pos;n.pos=t.arrayToV2(i)}if(e.hasOwnProperty("easeIn")){var r=e.easeIn;n.easeIn=t.arrayToV2(r)}if(e.hasOwnProperty("easeOut")){var s=e.easeOut;n.easeOut=t.arrayToV2(s)}if(e.hasOwnProperty("easeType")){for(var a=[],c=0,l=e.easeType;c<l.length;c++){var u=l[c];a.push(o[u])}n.easeType=a}return n},t.json=function(e){var n=JSON.parse(e);return n?t.create(n):null},t.arrayToV2=function(t){return new cc.Vec2(t[0],t[1])},t.prototype.getEaseInType=function(){return this.easeType[0]},t.prototype.getEaseOutType=function(){return 1==this.easeType.length?this.easeType[0]:2==this.easeType.length?this.easeType[1]:void 0},t}();n.PointData=i,cc._RF.pop()},{}],PostProc_SymbolTurn:[function(t,e,n){"use strict";cc._RF.push(e,"aba14+xI8tF24T+5/XFWRBe","PostProc_SymbolTurn");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../../../uzil/Uzil"),c=t("../../../../Rule/index_Rule"),l=t("../../Util/Prefab2NodeMgr"),u=t("../SpinPostProc"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fromSymbol=c.SymbolCode.H1,e.toSymbol=c.SymbolCode.WD,e.transAnimPrefabID="uzlot.symbolAnim.h1ToWild",e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.process=function(t){return r(this,void 0,void 0,function(){var e,n,o,i,r,c,u,p,h,f,d,_,y,v,g,m,b,S,R,x,P;return s(this,function(s){switch(s.label){case 0:if(e=this,cc.log("PostProc_SymbolTurn: start "),n=t.gameCtrl,o=t.result,i=t.reelResult,r=t.lockInput,c=o.symbolTurnCol,cc.log("PostProc_SymbolTurn: symbolTurnCol ",c),null==c)return[2];for(u=n.reelCtrl,u.reelContainer.getStopPosList(),p=[],h=0;h<i.length;h++)for(f=u.reelContainer.getReel(h),d=i[h],_=c[h],y=0;y<d.length;y++)if((v=d[y]).symbol==e.fromSymbol)for((g=-1!=_.indexOf(v.idx))&&(v.symbol=e.toSymbol),m=f.getColObjsByCol(v.idx),b=function(t){var e="miss";if(g&&(e="win",t.setSymbol(S.toSymbol)),t.setSpriteActive(!1),0==n.isTurbo){var o=l.Prefab2NodeMgr.request(S.transAnimPrefabID);o.setParent(t.node),o.setPosition(cc.Vec2.ZERO);var i=o.getComponent("Animator");p.push(function(n){i.play(e),i.onComplete.addOnce(function(){o.setParent(cc.director.getScene()),l.Prefab2NodeMgr.recovery(o),t.setSpriteActive(!0),n()})})}},S=this,R=0,x=m;R<x.length;R++)P=x[R],b(P);return[4,new Promise(function(t,e){p.length>0&&r(),a.Async.parallel(p,function(){t(),cc.log("PostProc_SymbolTurn Done")})})];case 1:return s.sent(),[2]}})})},i([f({type:c.SymbolCode})],e.prototype,"fromSymbol",void 0),i([f({type:c.SymbolCode})],e.prototype,"toSymbol",void 0),i([f()],e.prototype,"transAnimPrefabID",void 0),e=i([h],e)}(u.SpinPostProc);n.PostProc_SymbolTurn=d,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil","../../../../Rule/index_Rule":"index_Rule","../../Util/Prefab2NodeMgr":"Prefab2NodeMgr","../SpinPostProc":"SpinPostProc"}],PreProc_ColSlice:[function(t,e,n){"use strict";cc._RF.push(e,"80586fUI/ZIGLOoKGt+R+MC","PreProc_ColSlice");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=t("../../../../Reel/index_Reel"),a=t("../../Util/SlotUtil"),c=t("../SpinPreProc"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._prepareToDestroyExColSet=[],e._toDestroyExColSet=[],e._lastBorderMiddle=[],e._colDataMap=new Map,e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.process=function(t){var e=this;if(0!=this.isEnabled){for(var n=t.gameCtrl,o=t.result,i=n.reelCtrl,s=0,c=this._lastBorderMiddle;s<c.length;s++){delete(_=c[s]).args.isActive,_.data.addTag("resultable")}this._lastBorderMiddle=[];for(var l=function(t){var e=t.reelRow.stripData;t.reelRow.view.destroyMiddle(t.middle),t.reelRow.view.setInView(t.col,!1);var n=e.cols.findIndex(function(e){return e.idx==t.col});-1!=n&&e.cols.splice(n,1),a.SlotUtil.recoveryExColIdx(t.row,t.col)},u=0,p=this._toDestroyExColSet;u<p.length;u++){l(p[u])}for(var h=function(t){var e=t.middle;t.reelRow;e.isAnyObjActive()?e.args.isActive=!1:r.Invoker.once(function(){e.args.isActive=!1},.1),e.data.removeTag("resultable")},f=0,d=this._prepareToDestroyExColSet;f<d.length;f++){var _;h(_=d[f])}this._toDestroyExColSet=this._prepareToDestroyExColSet.slice(),this._prepareToDestroyExColSet=[];for(var y=function(t){for(var r=i.reelContainer.getReel(t).getReelRow(),s=r.view,c=o.stopPosList[t],l=r.stripData,u=c-3,p=c+3,h=r.stripData.getColByTriggerPos(u),f=r.stripData.getColByTriggerPos(p),d=[h,f],_=a.SlotUtil.getColSliceInfo([l.min,l.max],[u,p],d),y=0;y<_.length;y++){for(var g=0,m=0,b=_[y];m<b.length;m++){var S=b[m],R=Math.abs(S[0]-S[1]);if(0!=R){g+=1;var x=a.SlotUtil.requestExColIdx(t),P=v._requestColData(t,x),O=(S[0]+S[1])/2;P.pos=O;var w=[O-S[0],S[1]-O];P.displayRange_relative=[w[0],w[1]],P.triggerRange_relative=[w[0],w[1]];var C=void 0,A=O-h.pos,T=O-f.pos;C=Math.abs(A)<Math.abs(T)?h:f,P.symbol=C.symbol,P.sizeLevel=Math.round(R),P.addTag("temp"),P.addTag("resultable");var M=s.requestMiddle(P);M.args.activeConflict=[C.idx],l.cols.push(P),s.setInView(x,!0),v._prepareToDestroyExColSet.push({middle:M,row:t,reelRow:r,col:x})}}if(g>0){var I=d[y];I.removeTag("resultable");var D=s.requestMiddle(I);D.args.isActive=!1,v._lastBorderMiddle.push(D)}}s.setStrip(l),s.render(),n.onReadyNextSpin.addOnce(function(){for(var t=0,n=e._lastBorderMiddle;t<n.length;t++){n[t].args.isActive=!0}s.setStrip(l)})},v=this,g=0;g<o.stopPosList.length;g++)y(g);return t}},e.prototype._requestColData=function(t,e){var n,o;return(o=this._colDataMap.has(t)?this._colDataMap.get(t):new Map).has(e)?n=o.get(e):((n=new s.ReelColData).idx=e,o.set(e,n)),n},e=i([u],e)}(c.SpinPreProc));n.PreProc_ColSlice=p,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil","../../../../Reel/index_Reel":"index_Reel","../../Util/SlotUtil":"SlotUtil","../SpinPreProc":"SpinPreProc"}],PreProc_Megaways:[function(t,e,n){"use strict";cc._RF.push(e,"bf6a2jqNZ5EY5enr8QnoUpL","PreProc_Megaways");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=t("../../../../Reel/index_Reel"),a=t("../SpinPreProc"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDebug=!1,e.targetReelIdxs=[0,1,2,3,4],e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.process=function(t){if(0!=this.isEnabled){var e=t.gameCtrl,n=t.result,o=e.reelCtrl,i=e.stripTable,a=n.ways;if(a){for(var c=n.stopPosList,l=[],u=function(t){var e=p.targetReelIdxs[t],u=o.reelContainer.getReel(e).getReelRow(),h=u.getResultRange(),f=u.getResultRangeLength(),d=i[e],_=new s.ReelStripData;n.stopPosList=n.stopPosList.slice();var y=d.cols,v=[],g=a[e],m=c[e],b=f/g,S=b/2,R=d.min,x=[],P=[];d.getColsByTriggerPos(m+1e-4).forEach(function(t){var e=Math.abs(r.Mathf.minAbs.apply(r.Mathf,r.Mathf.getOffsetsLoop(m,t.pos,d.min,d.max)));P.push({col:t,delta:e})}),P.sort(function(t,e){return t.delta-e.delta});for(var O=P[0].col,w=O.getTriggerRange(),C=r.Mathf.getOffsetsLoop(w[0],m,d.min,d.max)[1]/O.getTriggerLength(),A=g/2,T=-Math.floor(A),M=Math.ceil(A),I=T;I<M;I++){var D=r.Mathf.loop(O.idx+I,0,d.cols.length);x.push(D)}for(var j=0;j<y.length;j++){var E=y[j],k=E.getCopy();-1!=x.indexOf(E.idx)&&(k.sizeLevel=b,k.triggerRange_relative=[S,S],k.displayRange_relative=[S,S]),R+=k.triggerRange_relative[0],k.pos=R,R+=k.triggerRange_relative[1],v.push(k)}_.setCols(v),l.push(_);var N=u.currentPos,F=d.getColsByTriggerRange(N+r.Mathf.addAbs(h[0],-1e-4),N+r.Mathf.addAbs(h[1],-1e-4));F=F.filter(function(t){return u.view.getMiddle(t.idx).isAnyObjActive()});var L=u.view.getTempColInfos().map(function(t){return t.isDisplay?t.middle.data:null}).filter(function(t){return null!=t}),z=[];(F=F.concat(L)).forEach(function(t){var e=r.Mathf.minAbs.apply(r.Mathf,r.Mathf.getOffsetsLoop(N,t.getTriggerRange()[0],d.min,d.max));z.push({col:t,offset:e})}),z.sort(function(t,e){return t.offset-e.offset});var U=z[0].col,B=U.getTriggerRange()[0],V=r.Mathf.getOffsetsLoop(B,N+h[0],d.min,d.max),W=r.Mathf.loop(U.idx-1,0,d.cols.length),G=_.getColByIdx(W),q=r.Mathf.loop(G.getTriggerRange()[1]+h[1],_.min,_.max);q=r.Mathf.loop(q+V[1],_.min,_.max),u.shift(q,{stripData:_});var H=v[O.idx],Y=H.getTriggerRange()[0]+C*H.getTriggerLength();n.stopPosList[e]=Y},p=this,h=0;h<this.targetReelIdxs.length;h++)u(h);return t}}},i([u()],e.prototype,"isDebug",void 0),i([u({type:cc.Integer})],e.prototype,"targetReelIdxs",void 0),e=i([l],e)}(a.SpinPreProc);n.PreProc_Megaways=p,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil","../../../../Reel/index_Reel":"index_Reel","../SpinPreProc":"SpinPreProc"}],PreProc_Reset:[function(t,e,n){"use strict";cc._RF.push(e,"67281wY9o5BJLqBImnftXue","PreProc_Reset");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=t("../SpinPreProc"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetReelIdxs=[0,1,2,3,4],e._lastStripData=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.process=function(t){if(0!=this.isEnabled){for(var e=t.gameCtrl,n=e.reelCtrl,o=e.stripTable,i=n.getStrip(),s=function(t){var e=a.targetReelIdxs[t],s=n.reelContainer.getReel(e).getReelRow(),c=s.getResultRange(),l=i[e];if(l==a._lastStripData)return"continue";var u=o[e],p=u.getCopy();a._lastStripData=p;var h=s.currentPos,f=l.getColsByTriggerRange(h+r.Mathf.addAbs(c[0],-1e-4),h+r.Mathf.addAbs(c[1],-1e-4));f=f.filter(function(t){return s.view.getMiddle(t.idx).isAnyObjActive()});var d=s.view.getTempColInfos().map(function(t){return t.isDisplay?t.middle.data:null}).filter(function(t){return null!=t}),_=[];(f=f.concat(d)).forEach(function(t,e){var n=r.Mathf.minAbs.apply(r.Mathf,r.Mathf.getOffsetsLoop(h,t.getTriggerRange()[0],l.min,l.max));_.push({col:t,offset:n})}),_.sort(function(t,e){return t.offset-e.offset});var y=_[0].col,v=y.getTriggerRange()[0],g=r.Mathf.getOffsetsLoop(v,h+c[0],l.min,l.max),m=r.Mathf.loop(y.idx-1,0,l.cols.length),b=u.getColByIdx(m),S=r.Mathf.loop(b.getTriggerRange()[1]+c[1],u.min,u.max);S=r.Mathf.loop(S+g[1],u.min,u.max),s.shift(S,{stripData:p})},a=this,c=0;c<this.targetReelIdxs.length;c++)s(c);return t}},i([l({type:cc.Integer})],e.prototype,"targetReelIdxs",void 0),e=i([c],e)}(s.SpinPreProc);n.PreProc_Reset=u,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil","../SpinPreProc":"SpinPreProc"}],Prefab2NodeMgr:[function(t,e,n){"use strict";cc._RF.push(e,"b3919YeqPlH5bDd/smzpAEZ","Prefab2NodeMgr");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../../../uzil/Uzil"),r=cc._decorator,s=r.ccclass,a=(r.property,function(){function t(){}var e;return e=t,t.request=function(t){var n=e._getPool(t);if(null==n)return null;var o=n.request();return null!=o&&e._instance2Pool.set(o,n),o},t.recovery=function(t){if(0!=e._instance2Pool.has(t))return e._instance2Pool.get(t).recovery(t)},t._getPool=function(t){var n=null;if(e._id2PrefabPool.has(t))n=e._id2PrefabPool.get(t);else{var o=i.i18n.prefab(t);if(null==o)return null;(n=new i.ObjPool_Prefab).prefab=o,i.i18n.onChange.add(function(){n.clear(),n.prefab=i.i18n.prefab(t)}),e._id2PrefabPool.set(t,n)}return n},t._id2PrefabPool=new Map,t._instance2Pool=new Map,t=e=o([s],t)}());n.Prefab2NodeMgr=a,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil"}],ReelColData:[function(t,e,n){"use strict";cc._RF.push(e,"790c0nrp3hFsK9EmyrHNL5s","ReelColData"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../Rule/index_Rule"),i=function(){function t(){this.idx=null,this.symbol=o.SymbolCode.NONE,this.pos=0,this.sizeLevel=1,this.displayLayer=0,this.tags=[],this.displayRange_relative=[0,0],this.triggerRange_relative=[0,0]}return t.prototype.getDisplayRange=function(t){return void 0===t&&(t=null),null==t&&(t=this.pos),[t-this.displayRange_relative[0],t+this.displayRange_relative[1]]},t.prototype.getTriggerRange=function(t){return void 0===t&&(t=null),null==t&&(t=this.pos),[t-this.triggerRange_relative[0],t+this.triggerRange_relative[1]]},t.prototype.getTriggerLength=function(){return this.triggerRange_relative[0]+this.triggerRange_relative[1]},t.prototype.getCopy=function(){var e=new t;return e.idx=this.idx,e.symbol=this.symbol,e.pos=this.pos,e.sizeLevel=this.sizeLevel,e.displayLayer=this.displayLayer,e.displayRange_relative=this.displayRange_relative,e.triggerRange_relative=this.triggerRange_relative,e.tags=this.tags.slice(),e},t.prototype.addTag=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,o=t;n<o.length;n++){var i=o[n];if(-1!=this.tags.indexOf(i))return;this.tags.push(i)}},t.prototype.removeTag=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,o=t;n<o.length;n++){var i=o[n],r=this.tags.indexOf(i);if(-1==r)return;this.tags.splice(r,1)}},t}();n.ReelColData=i,cc._RF.pop()},{"../../../Rule/index_Rule":"index_Rule"}],ReelColObj:[function(t,e,n){"use strict";cc._RF.push(e,"72337iMloRMP6WniuT3FejS","ReelColObj");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../uzil/Uzil"),s=t("../../Slot/script/Util/Prefab2NodeMgr"),a=t("../../Slot/index_Slot"),c=t("../../Rule/index_Rule"),l=t("../../../uzil/Shader/material/Material_Blurs"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.symbol=c.SymbolCode.NONE,e.symbolFix="",e._isActive=new r.Values(!0),e._isSpriteActive=new r.Values(!0),e.sprite=null,e.spriteExt=null,e.animator=null,e.fxRoot=e.node,e.fxs=[],e.targetBlurs=new cc.Vec2,e._lastPosition=new cc.Vec3,e.blurFadeSpeed=10,e.blurMax=new cc.Vec2(15,15),e.lengthPerUnit=new cc.Vec2(10,10),e.blursMaterial=null,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){var e=0;null!=this.animator&&(e=this.animator.node.getSiblingIndex());for(var n=0,o=this.fxs;n<o.length;n++){o[n].setSiblingIndex(e)}var i=this.node.position.sub(this._lastPosition);this._lastPosition=this.node.position;var s=new cc.Vec2(i.x*(1/this.lengthPerUnit.x),i.y*(1/this.lengthPerUnit.y));this.targetBlurs=r.Mathf.moveTowardV2(this.targetBlurs,s,this.blurFadeSpeed*t),this.targetBlurs.x=r.Mathf.clamp(this.targetBlurs.x,-this.blurMax.x,this.blurMax.x),this.targetBlurs.y=r.Mathf.clamp(this.targetBlurs.y,-this.blurMax.y,this.blurMax.y),this.blursMaterial.force=r.Mathf.moveTowardV2(this.blursMaterial.force,this.targetBlurs,this.blurFadeSpeed*t)},e.prototype.setPosition=function(t){this.node.setPosition(t);for(var e=0,n=this.fxs;e<n.length;e++){n[e].setPosition(t)}},e.prototype.getPosition=function(){return new cc.Vec2(this.node.position.x,this.node.position.y)},e.prototype.getWorldPosition=function(){var t=this.node.parent.convertToWorldSpaceAR(this.node.position);return new cc.Vec2(t.x,t.y)},e.prototype.setScale=function(t){this.node.setScale(t)},e.prototype.setSkew=function(t){this.node.skewX=t.x,this.node.skewY=t.y},e.prototype.setSize=function(t){this.symbolFix="."+t,this._updateSymbol()},e.prototype.setBlur=function(t,e){void 0===e&&(e=!1),this.targetBlurs=t,e&&(this.blursMaterial.force=t,this._lastPosition=this.node.position)},e.prototype.setActive=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),null!=e?null==t?this._isActive.remove(e):this._isActive.set(e,n,t):this._isActive.defaultValue=t,this.node.active=this._isActive.getCurrent(),0==this.node.active&&this.goAnim(null);for(var o=0,i=this.fxs;o<i.length;o++){i[o].active=this.node.active}},e.prototype.setSpriteActive=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),null!=e?null==t?this._isSpriteActive.remove(e):this._isSpriteActive.set(e,n,t):this._isSpriteActive.defaultValue=t,this.sprite.node.active=this._isSpriteActive.getCurrent()},e.prototype.setSymbol=function(t){null==t&&(t=c.SymbolCode.NONE),this.symbol=t,this._updateSymbol()},e.prototype.goAnim=function(t){if(null!=this.animator){null==t?(this.animator.stop(),this.sprite.node.active=!0,this.animator.node.active=!1,this.animator.node.setParent(this.node),this.animator.node.setPosition(cc.Vec2.ZERO),this.setSpriteActive(null,"goAnim")):(this.sprite.node.active=!1,this.animator.node.active=!0,this.fxRoot!=this.node&&(this.animator.node.setParent(this.fxRoot),this.animator.node.setPosition(this.node.position)),this.animator.play(t),this.setSpriteActive(!1,"goAnim",100))}},e.prototype.addFX=function(t){t.setParent(this.fxRoot),t.setPosition(this.node.getPosition()),this.fxs.push(t)},e.prototype.removeFx=function(t){var e=this.fxs.indexOf(t);this.fxs.splice(e,1)},e.prototype._requestAnimNode=function(t,e){return null==t?null:s.Prefab2NodeMgr.request("uzlot.symbolAnim."+c.SymbolCode[t].toLowerCase()+e)},e.prototype._updateSymbol=function(){var t=a.SymbolRes.Get(this.symbol)+this.symbolFix;this.spriteExt.set(t);var e=!1;if(null!=this.animator){var n=this.animator;this.animator=null,e=n.node.active,n.node.setParent(cc.director.getScene()),this._recoveryAnimNode(n)}var o=this._requestAnimNode(this.symbol,this.symbolFix);null!=o&&(o.setParent(this.node),o.setPosition(cc.Vec2.ZERO),o.active=e,this.animator=o.getComponent("Animator")),e||(this.sprite.node.active=!0)},e.prototype._recoveryAnimNode=function(t){t.stop(),t.node.active=!1,s.Prefab2NodeMgr.recovery(t.node)},i([h(cc.Sprite)],e.prototype,"sprite",void 0),i([h(r.i18nSpriteExt)],e.prototype,"spriteExt",void 0),i([h(r.Animator)],e.prototype,"animator",void 0),i([h()],e.prototype,"blurFadeSpeed",void 0),i([h(cc.Vec2)],e.prototype,"blurMax",void 0),i([h(cc.Vec2)],e.prototype,"lengthPerUnit",void 0),i([h(l.default)],e.prototype,"blursMaterial",void 0),e=i([p],e)}(cc.Component);n.ReelColObj=f,cc._RF.pop()},{"../../../uzil/Shader/material/Material_Blurs":"Material_Blurs","../../../uzil/Uzil":"Uzil","../../Rule/index_Rule":"index_Rule","../../Slot/index_Slot":"index_Slot","../../Slot/script/Util/Prefab2NodeMgr":"Prefab2NodeMgr"}],ReelConst:[function(t,e,n){"use strict";cc._RF.push(e,"331ee+aGo9ALYEUi8muwrrh","ReelConst"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.IDLE=0]="IDLE",t[t.ROLLING=1]="ROLLING",t[t.STOPPING=2]="STOPPING"}(n.ReelState||(n.ReelState={})),function(t){t[t.IDLE=0]="IDLE",t[t.EASEIN=1]="EASEIN",t[t.ROLLING=2]="ROLLING",t[t.EASESTOP=3]="EASESTOP"}(n.ReelRollState||(n.ReelRollState={})),function(t){t[t.NONE=0]="NONE",t[t.SHIFT=1]="SHIFT",t[t.WAIT=2]="WAIT",t[t.ANIM=3]="ANIM"}(n.ReelStopState||(n.ReelStopState={})),cc._RF.pop()},{}],ReelContainer:[function(t,e,n){"use strict";cc._RF.push(e,"29547D8oG1IcbjjoxX46H/K","ReelContainer");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../uzil/Uzil"),s=t("../index_Reel"),a=t("./ReelConst"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reels=[],e.onSpin=new r.Event,e.onAllSpin=new r.Event,e.onStop=new r.Event,e.onStopDone=new r.Event,e.onAllStopDone=new r.Event,e}return o(e,t),e.prototype.onLoad=function(){for(var t=this,e=this,n=function(n){var i=o.reels[n],r=n,s=i;i.onSpin.add(function(){e.onSpin.call(r,s);for(var n=0,o=t.reels;n<o.length;n++){if(o[n].state==a.ReelState.IDLE)return}e.onAllSpin.call()})},o=this,i=0;i<this.reels.length;i++)n(i);var r=function(n){var o=s.reels[n],i=n,r=o;o.onStop.add(function(){e.onStop.call(i,r)}),o.onStopDone.add(function(){e.onStopDone.call(i,r);for(var n=0,o=t.reels;n<o.length;n++){if(o[n].state!=a.ReelState.IDLE)return}e.onAllStopDone.call()})},s=this;for(i=0;i<this.reels.length;i++)r(i)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.getReel=function(t){return t<0||t>this.reels.length-1?null:this.reels[t]},e.prototype.setResultRange=function(t){for(var e=r.Mathf.min(t.length,this.reels.length),n=0;n<e;n++)this.reels[n].setResultRange(t[n])},e.prototype.setStrip=function(t,e){void 0===e&&(e=!1);for(var n=r.Mathf.min(t.length,this.reels.length),o=0;o<n;o++){var i=this.reels[o],s=t[o];i&&s&&i.setStrip(s,e)}},e.prototype.getStrip=function(){for(var t=[],e=0;e<this.reels.length;e++){var n=this.reels[e].getReelRow().stripData;t.push(n)}return t},e.prototype.setPos=function(t){for(var e=r.Mathf.min(this.reels.length,t.length),n=0;n<e;n++)this.reels[n].setPos(t[n])},e.prototype.shift=function(t){for(var e=r.Mathf.min(this.reels.length,t.length),n=0;n<e;n++)for(var o=this.reels[n].reelRows,i=t[n],s=0,a=o;s<a.length;s++){a[s].shift(i)}},e.prototype.spin=function(t){var e=this.getReel(t);e&&e.spin()},e.prototype.stop=function(t,e,n,o){if(void 0===n&&(n=!1),void 0===o&&(o=null),!(t<0||t>this.reels.length-1)){var i=this.reels[t];i.stop(e),o&&i.onStopDone.addOnce(function(){o()})}},e.prototype.pause=function(){for(var t=0,e=this.reels;t<e.length;t++){e[t].pause()}},e.prototype.resume=function(){for(var t=0,e=this.reels;t<e.length;t++){e[t].resume()}},e.prototype.getColWorldPos=function(t){for(var e=[],n=r.Mathf.min(t.length,this.reels.length),o=0;o<n;o++){for(var i=[],s=t[o],a=this.reels[o],c=0,l=s;c<l.length;c++){var u=l[c],p=a.getColWorldPos(u);i.push(p)}e.push(i)}return e},e.prototype.getResult=function(t,e){void 0===e&&(e=null);for(var n=[],o=r.Mathf.min(this.reels.length,t.length),i=0;i<o;i++){var s=void 0,a=t[i],c=null;null!=e&&(c=e[i]);var l=this.reels[i];l&&(s=l.getResult(a,c)),n.push(s)}return n},e.prototype.getResultInRange=function(t,e){void 0===e&&(e=null);for(var n=[],o=r.Mathf.min(this.reels.length,t.length),i=0;i<o;i++){var s=void 0,a=t[i],c=a[0],l=a[1],u=null;null!=e&&(u=e[i]);var p=this.reels[i];p&&(s=p.getResultInRange(c,l,u)),n.push(s)}return n},e.prototype.getStopPosList=function(){for(var t=[],e=0,n=this.reels;e<n.length;e++){var o=n[e];t.push(o.getStopPos())}return t},e.prototype.render=function(){for(var t=0,e=this.reels;t<e.length;t++){e[t].render()}},i([u(s.ReelObj)],e.prototype,"reels",void 0),e=i([l],e)}(cc.Component);n.ReelContainer=p,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_Reel":"index_Reel","./ReelConst":"ReelConst"}],ReelCtrlState_Normal:[function(t,e,n){"use strict";cc._RF.push(e,"643b1eDuTxFrrADzv1HpA5R","ReelCtrlState_Normal");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._reelCtrl=null,e.eventName="regFrom_state_normal",e.spinReelDelay_sec=.1,e.spinDuring_sec=2,e._spinTime_sec=0,e.autoStopReelDelay_sec=.5,e.manualStopReelDelay_sec=0,e.spinBtn=null,e.stopBtn=null,e._invokerTag_afterSpinUntilGotStopCols="ReelCtrlState_Normal_afterSpin_untilHasStopCols",e}return o(e,t),e.prototype._init=function(t){this._reelCtrl=t},e.prototype._onEnter=function(){var t=this,e=this._reelCtrl,n=e.gameCtrl;e.onRequestSpin.add(function(){0!=e.canSpin()&&(e.turnSpinning(),e.spinAll(t.spinReelDelay_sec),e.setStopPos(null),t.spinDuring_sec<0||r.Invoker.once(function(){n.isReadyStop()?t._stopAll(t.autoStopReelDelay_sec):r.Invoker.update(function(){n.isReadyStop()&&(t._stopAll(t.autoStopReelDelay_sec),r.Invoker.stop(t._invokerTag_afterSpinUntilGotStopCols))}).tag(t._invokerTag_afterSpinUntilGotStopCols)},t.spinDuring_sec).tag("_autoStop"))}).name(this.eventName),e.onRequestStop.add(function(){0!=t._reelCtrl.isSpinning&&(r.Invoker.stop(t._invokerTag_afterSpinUntilGotStopCols),t._stopAll(t.manualStopReelDelay_sec),e.turnManualStop(!0),r.Invoker.cancel("_autoStop"))}).name(this.eventName)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._reelCtrl.onRequestSpin.remove(this.eventName),this._reelCtrl.onRequestStop.remove(this.eventName),r.Invoker.stop(this._invokerTag_afterSpinUntilGotStopCols)},e.prototype._stopAll=function(t){var e=this._reelCtrl.reelContainer;this._reelCtrl.stopBegin();for(var n=0;n<e.reels.length;n++)this._reelCtrl.isReelInSpinTask(n)&&0==this._reelCtrl.isReelSpinning(n)&&this._reelCtrl.spin(n,0);for(n=0;n<e.reels.length;n++)this._reelCtrl.stop(n,n*t)},i([c()],e.prototype,"spinReelDelay_sec",void 0),i([c()],e.prototype,"spinDuring_sec",void 0),i([c()],e.prototype,"autoStopReelDelay_sec",void 0),i([c()],e.prototype,"manualStopReelDelay_sec",void 0),i([c(cc.Button)],e.prototype,"spinBtn",void 0),i([c(cc.Button)],e.prototype,"stopBtn",void 0),e=i([a],e)}(r.State);n.ReelCtrlState_Normal=l,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],ReelCtrlState_Turbo:[function(t,e,n){"use strict";cc._RF.push(e,"c84b7tpnclIT5d41Xe4/Nni","ReelCtrlState_Turbo");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._reelCtrl=null,e.eventName="regFrom_state_turbo",e.spinReelDelay_sec=0,e.spinDuring_sec=.2,e.autoStopReelDelay_sec=.5,e.turboBtn=null,e._invokerTag_afterSpinUntilGotStopCols="ReelCtrlState_Turbo_afterSpin_untilHasStopCols",e}return o(e,t),e.prototype._init=function(t){this._reelCtrl=t},e.prototype._onEnter=function(){var t=this,e=this._reelCtrl,n=e.gameCtrl;e.onRequestSpin.add(function(){0!=e.canSpin()&&(e.turnSpinning(),e.spinAll(t.spinReelDelay_sec),e.setStopPos(null),t.spinDuring_sec<0||(e.reelContainer.render(),r.Invoker.once(function(){n.isReadyStop()?t._stopAll(t.autoStopReelDelay_sec):r.Invoker.update(function(){n.isReadyStop()&&(t._stopAll(t.autoStopReelDelay_sec),r.Invoker.stop(t._invokerTag_afterSpinUntilGotStopCols))}).tag(t._invokerTag_afterSpinUntilGotStopCols)},t.spinDuring_sec).tag("_autoStop")))}).name(this.eventName),e.onRequestStop.add(function(){0!=e.isSpinning&&(r.Invoker.stop(t._invokerTag_afterSpinUntilGotStopCols),r.Invoker.cancel("_autoStop"),e.turnManualStop(!0),r.Invoker.once(function(){e.stopBegin(),e.stopAllNow()},0))}).name(this.eventName)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){this._reelCtrl.onRequestSpin.remove(this.eventName),this._reelCtrl.onRequestStop.remove(this.eventName),r.Invoker.stop(this._invokerTag_afterSpinUntilGotStopCols)},e.prototype._stopAll=function(t){var e=this._reelCtrl.reelContainer;this._reelCtrl.stopBegin();for(var n=0;n<e.reels.length;n++)this._reelCtrl.isReelInSpinTask(n)&&0==this._reelCtrl.isReelSpinning(n)&&this._reelCtrl.spin(n,0);for(n=0;n<e.reels.length;n++)this._reelCtrl.stop(n,n*t)},i([c()],e.prototype,"spinReelDelay_sec",void 0),i([c()],e.prototype,"spinDuring_sec",void 0),i([c()],e.prototype,"autoStopReelDelay_sec",void 0),i([c(cc.Button)],e.prototype,"turboBtn",void 0),e=i([a],e)}(r.State);n.ReelCtrlState_Turbo=l,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],ReelCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"337e2gvb61Nr46KZQfF/eUd","ReelCtrl");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../uzil/Uzil"),s=t("../../../Reel/index_Reel"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(){return function(){this.reelIdx=-1,this.delay_sec=0,this.delayLeft_sec=0}}();n.ReelTask=u;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reelContainer=null,e.stateCtrl=null,e.gameCtrl=null,e.isSpinable=!0,e.isSpinning=!1,e.isPause=!1,e.isManualStop=!1,e.isSpinBeginCall=!1,e.isStopBeginCall=!1,e.stopPosList=null,e._nextSpinReelIdx=0,e._waitToSpinTasks=[],e._nextStopReelIdx=0,e._waitToStopTasks=[],e.onRequestSpin=new r.Event,e.onRequestStop=new r.Event,e.onStopBegin=new r.Event,e.onEachSpinStart=new r.Event,e.onEachStopStart=new r.Event,e.onEachStopDone=new r.Event,e.onAllStopDone=new r.Event,e}return o(e,t),e.prototype.start=function(){var t=this,e=this.reelContainer;this.stateCtrl.init(this),e.onAllStopDone.add(function(){t.turnSpinning(!1),t.isManualStop=!1,t._waitToStopTasks.splice(0,t._waitToStopTasks.length),t.onAllStopDone.call()}),e.onSpin.add(function(e,n){t.onEachSpinStart.call(n)})},e.prototype.update=function(t){var e=t*r.Time.timeScale;if(!this.isPause){for(var n=this,o=[],i=0,s=this._waitToSpinTasks.slice();i<s.length;i++){(f=s[i]).delayLeft_sec<=0&&o.push(f),f.delayLeft_sec-=e}for(var a=0,c=o;a<c.length;a++){if(!((f=c[a]).delayLeft_sec>0)){if(this.isPause)return;this.reelContainer.reels[f.reelIdx].spin();var l=this._waitToSpinTasks.indexOf(f);this._waitToSpinTasks.splice(l,1)}}for(var u=[],p=0,h=this._waitToStopTasks.slice();p<h.length;p++){var f;(f=h[p]).delayLeft_sec<=0&&u.push(f),f.delayLeft_sec-=e}for(var d=function(t){if(t.delayLeft_sec>0)return"continue";if(_.isPause)return{value:void 0};for(var e=!1,o=0,i=_._waitToSpinTasks;o<i.length;o++){if(i[o].reelIdx==t.reelIdx){e=!0;break}}if(e)return"continue";var r=_.reelContainer.reels[t.reelIdx],s=_.stopPosList[t.reelIdx];n.onEachStopStart.call(t),r.onStopDone.addOnce(function(){n.onEachStopDone.call(t)}),r.stop(s);var a=_._waitToStopTasks.indexOf(t);_._waitToStopTasks.splice(a,1)},_=this,y=0,v=u;y<v.length;y++){var g=d(v[y]);if("object"==typeof g)return g.value}}},e.prototype.canSpin=function(){return!this.isSpinning&&0!=this.isSpinable},e.prototype.setStrip=function(t,e){void 0===e&&(e=!1),this.reelContainer.setStrip(t,e)},e.prototype.getStrip=function(){return this.reelContainer.getStrip()},e.prototype.requestSpin=function(){this.onRequestSpin.call()},e.prototype.spinAll=function(t){void 0===t&&(t=0);for(var e=[],n=0;n<this.reelContainer.reels.length;n++){var o=this.spin(n,n*t);e.push(o)}return this.spinBegin(),e},e.prototype.spin=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=0);var n=t;if(-1==t&&(n=this._nextSpinReelIdx),n<0||n>this.reelContainer.reels.length-1)return null;if(this.reelContainer.reels[n].state!=s.ReelState.IDLE)return null;this._nextSpinReelIdx=n+1;var o={reelIdx:n,delay_sec:e,delayLeft_sec:e};return this.setSpinTask(n,o),this.isSpinning=!0,this.spinBegin(),o},e.prototype.setStopPos=function(t){this.stopPosList=t},e.prototype.requestStop=function(){this.onRequestStop.call()},e.prototype.spinBegin=function(){var t=this;t.isSpinBeginCall||(t.isSpinBeginCall=!0,t.reelContainer.onStopDone.addOnce(function(){t.isSpinBeginCall=!1}),t.isStopBeginCall=!1)},e.prototype.stopBegin=function(){this.isStopBeginCall||(this.isStopBeginCall=!0,this.onStopBegin.call())},e.prototype.stop=function(t,e){var n=t;if(-1==t&&(n=this._nextStopReelIdx),n<0||n>this.reelContainer.reels.length-1)return null;for(var o=this.reelContainer.reels[n],i=!1,r=0,a=this._waitToSpinTasks;r<a.length;r++){if(a[r].reelIdx==n){i=!0;break}}if(o.state!=s.ReelState.ROLLING&&!i)return null;this._nextStopReelIdx=n+1;var c={reelIdx:n,delay_sec:e,delayLeft_sec:e};this.setStopTask(n,c)},e.prototype.stopAllNow=function(){this._waitToSpinTasks.splice(0,this._waitToSpinTasks.length),this._waitToStopTasks.splice(0,this._waitToStopTasks.length),this.reelContainer.setPos(this.stopPosList);for(var t=this.reelContainer.reels,e=r.Mathf.min(t.length,this.stopPosList.length),n=0,o=t;n<o.length;n++){(a=o[n]).state==s.ReelState.IDLE&&a.spin()}for(var i=0;i<e;i++){var a=t[i],c=this.stopPosList[i];a.stopNow(c)}},e.prototype.stopNow=function(t){var e=this.getSpinTask(t);e&&this._waitToSpinTasks.splice(this._waitToSpinTasks.indexOf(e),1);var n=this.getStopTask(t);n&&this._waitToStopTasks.splice(this._waitToStopTasks.indexOf(n),1);var o=this.reelContainer.getReel(t),i=this.stopPosList[t];o.isRolling&&(this.onEachStopStart.call(n),o.stopNow(i))},e.prototype.pause=function(){this.isPause=!0},e.prototype.resume=function(){this.isPause=!1},e.prototype.setSpinTask=function(t,e){for(var n=0;n<this._waitToSpinTasks.length;n++){if(this._waitToSpinTasks[n].reelIdx==t)return void this._waitToSpinTasks.splice(n,1,e)}this._waitToSpinTasks.push(e)},e.prototype.setStopTask=function(t,e){for(var n=0;n<this._waitToStopTasks.length;n++){if(this._waitToStopTasks[n].reelIdx==t)return void this._waitToStopTasks.splice(n,1,e)}this._waitToStopTasks.push(e)},e.prototype.getSpinTasks=function(){return this._waitToSpinTasks},e.prototype.getSpinTask=function(t){for(var e=0,n=this._waitToSpinTasks;e<n.length;e++){var o=n[e];if(o.reelIdx==t)return o}return null},e.prototype.getStopTasks=function(){return this._waitToStopTasks},e.prototype.getStopTask=function(t){for(var e=0,n=this._waitToStopTasks;e<n.length;e++){var o=n[e];if(o.reelIdx==t)return o}return null},e.prototype.isReelInSpinTask=function(t){if(!this.reelContainer.getReel(t))return!1;for(var e=0,n=this._waitToSpinTasks;e<n.length;e++){if(n[e].reelIdx==t)return!0}return!1},e.prototype.isReelInStopTask=function(t){if(!this.reelContainer.getReel(t))return!1;for(var e=0,n=this._waitToStopTasks;e<n.length;e++){if(n[e].reelIdx==t)return!0}return!1},e.prototype.setTurbo=function(t){t?this.stateCtrl.go("turbo"):this.stateCtrl.go("normal")},e.prototype.isReelSpinning=function(t){var e=this.reelContainer.getReel(t);return!!e&&e.isRolling()},e.prototype.turnManualStop=function(t){void 0===t&&(t=!0),this.isManualStop=t},e.prototype.turnSpinning=function(t){void 0===t&&(t=!0),this.isSpinning=t,t?this.stateCtrl.lockState():this.stateCtrl.unlockState()},i([l(s.ReelContainer)],e.prototype,"reelContainer",void 0),i([l(r.StateCtrl)],e.prototype,"stateCtrl",void 0),e=i([c],e)}(cc.Component);n.ReelCtrl=p,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../../Reel/index_Reel":"index_Reel"}],ReelObj:[function(t,e,n){"use strict";cc._RF.push(e,"65d44Fq34hMbqFUWJe9jrH3","ReelObj");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../index_Reel"),s=t("../../Reel/index_Reel"),a=t("../../../uzil/Uzil"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=s.ReelState.IDLE,e.mainReelIdx=0,e.reelRows=[],e.resultRange=[0,0],e.onSpin=new a.Event,e.onStopDone=new a.Event,e.onStop=new a.Event,e}return o(e,t),e.prototype.onLoad=function(){var t=this,e=this.getReelRow();e.onSpin.add(function(){t.onSpin.call()}),e.onStop.add(function(){t.onStop.call()}),e.onStopDone.add(function(){t.state=s.ReelState.IDLE,t.onStopDone.call()})},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.getReelRow=function(t){void 0===t&&(t=null);var e=t;if(null==e&&(e=this.mainReelIdx),!(e<0&&e>this.reelRows.length))return this.reelRows[e]},e.prototype.isRolling=function(){return this.getReelRow().isRolling()},e.prototype.getStopPos=function(){return this.getReelRow().getStopPos()},e.prototype.setResultRange=function(t){this.resultRange=t.slice();for(var e=0,n=this.reelRows;e<n.length;e++){n[e].setResultRange(t)}},e.prototype.getResultRange=function(){return this.resultRange},e.prototype.setStrip=function(t,e){void 0===e&&(e=!1);var n=this.getReelRow();e&&n.isPosExist?n.shift(n.currentPos,{stripData:t}):(n.setStrip(t),n.render())},e.prototype.getStrip=function(){return this.getReelRow().stripData},e.prototype.setPos=function(t){this.getReelRow().setPos(t)},e.prototype.setCol=function(t,e){this.getReelRow().setCol(t,e)},e.prototype.getCol=function(t){return this.getReelRow().getCol(t)},e.prototype.getColObjsByCol=function(t,e){return void 0===e&&(e=null),this.getReelRow(e).view.getColObjs(t)},e.prototype.getColObjsByPos=function(t,e){void 0===e&&(e=null);var n=this.getReelRow(e),o=n.stripData.getColByTriggerPos(t);return null==o?null:n.view.getColObjs(o.idx)},e.prototype.getColDataByPos=function(t,e){void 0===e&&(e=null);var n=this.getReelRow(e).stripData.getColByTriggerPos(t);return null==n?null:n},e.prototype.getColWorldPos=function(t){return this.getReelRow().view.getColWorldPos(t)},e.prototype.getWorldPos=function(){return this.getReelRow().view.getWorldPos()},e.prototype.spin=function(){this.state==s.ReelState.IDLE&&(this.state=s.ReelState.ROLLING,this.getReelRow().spin())},e.prototype.stop=function(t,e){void 0===e&&(e=!1),this.state=s.ReelState.STOPPING;var n=this.getReelRow();e?n.stopNow(t):n.stop(t)},e.prototype.stopNow=function(t){this.stop(t,!0)},e.prototype.pause=function(){this.getReelRow().pause()},e.prototype.resume=function(){this.getReelRow().resume()},e.prototype.render=function(){for(var t=0,e=this.reelRows;t<e.length;t++){e[t].render()}},e.prototype.getResult=function(t,e){void 0===e&&(e=null);for(var n=[],o=0,i=this.reelRows;o<i.length;o++){var r=i[o];null!=r.getResult(t,e)&&n.push(r)}return n},e.prototype.getResultInRange=function(t,e,n){void 0===n&&(n=null);for(var o=[],i=0,r=this.reelRows;i<r.length;i++){var s=r[i].getResultInRange(t,e,n);null!=s&&o.push(s)}return o},i([u()],e.prototype,"state",void 0),i([u()],e.prototype,"mainReelIdx",void 0),i([u(r.ReelRowObj)],e.prototype,"reelRows",void 0),e=i([l],e)}(cc.Component);n.ReelObj=p,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../../Reel/index_Reel":"index_Reel","../index_Reel":"index_Reel"}],ReelRowObj:[function(t,e,n){"use strict";cc._RF.push(e,"d1712WwVZdG+oh0c9wzvd1U","ReelRowObj");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../uzil/Uzil"),c=t("../index_Reel"),l=t("./Data/ColMiddle"),u=t("./ReelRowView"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDebug=!1,e.view=null,e.rollDirection=-1,e.speed=1,e.speed_acc=1,e.isShiftOnStop=!0,e.stopTotalTime=.5,e.stopDelayCol=3,e._state=c.ReelRollState.IDLE,e._stopState=c.ReelStopState.NONE,e._isPausing=!0,e.stripData=null,e._isRolling=!1,e._isCallStop=!1,e._speed=0,e._currentPos=0,e._isPosExist=!1,e._stopPos=0,e._stopEndPos=0,e._leftDeltaToStop=0,e._leftToShiftPos=0,e._stopCurve_currentTime=0,e._stopStartPos=0,e._resultRangeLength=0,e.stopCurveJson=null,e.mixCurveJson=null,e.onSpin=new a.Event,e.onStop=new a.Event,e.onStopDone=new a.Event,e}return o(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPos",{get:function(){return this._currentPos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPosExist",{get:function(){return this._isPosExist},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){var t=this;this.init(),a.PauseResumeTool.onKeyDown.add(function(e,n){n==cc.macro.KEY.y&&cc.log(t.view)})},e.prototype.start=function(){},e.prototype.update=function(t){if(!this._isPausing&&this._isRolling){var e=this._speed*t*a.Time.timeScale,n=e*this.rollDirection,o=this.rollDirection>0,i=this._currentPos+n;i=a.Mathf.loop(i,this.stripData.min,this.stripData.max);var r=null,s=this.view;if(this._stopState==c.ReelStopState.NONE&&this._isCallStop){this._isCallStop=!1;for(var l,u=[],p=this._currentPos+(o?s.displayRange_forward:-s.displayRange_back),h=0,f=this.getVisibles();h<f.length;h++){var d=(T=f[h]).data;u.push({col:d,offset:a.Mathf.getOffsetsLoop(d.getTriggerRange()[o?1:0],p,this.stripData.min,this.stripData.max)[o?0:1]})}u.sort(function(t,e){return t.offset-e.offset});var _=u[0].col;l=_.getTriggerRange()[o?1:0],this.isDebug&&cc.log(_,this.view.requestMiddle(_));var y=l-s.displayRange_back*this.rollDirection;this._leftToShiftPos=Math.abs(a.Mathf.getOffsetsLoop(this._currentPos,y,this.stripData.min,this.stripData.max)[o?1:0]),this._stopState=c.ReelStopState.SHIFT,this.log("=CallStop=============="),this.log("current",i,"prepareToShiftPos:",y,"leftToShiftPos",this._leftToShiftPos)}if(this._stopState==c.ReelStopState.SHIFT)if((D=this._leftToShiftPos-e)>0)this._leftToShiftPos=D;else{var v=this._leftToShiftPos,g=this.stopDelayCol,m=Math.abs(this.stopCurve.getEndVal()-this.stopCurve.getStartVal())*this.stripData.blockPerCol_forAnim;this._leftDeltaToStop=a.Mathf.max(g,m);var b=a.Mathf.loop(this._stopPos-this._leftDeltaToStop*this.rollDirection,this.stripData.min,this.stripData.max),S=this.stripData.getColsByTriggerRange(b-(s.displayRange_back-1e-4),b+(s.displayRange_forward-1e-4),b),R=b+(o?s.displayRange_forward:-s.displayRange_back),x=(S=S.filter(function(t){return t.getTriggerRange()[o?1:0]>=R}))[0],P=x.getTriggerRange()[o?1:0]+s.displayRange_back;this.isDebug&&(cc.log("=shift====="),cc.log("colsAfterShift:",S,"firstCol",x),cc.log("current:",this.currentPos,"stopPos",this._stopPos,"shiftToPos_orin:",b,"shiftToPos",P,"fix:",v,P-v*this.rollDirection)),P-=v*this.rollDirection,this._leftDeltaToStop=Math.abs(a.Mathf.getOffsetsLoop(P,this._stopPos,this.stripData.min,this.stripData.max)[0]),this.shift(P,{isForce:!0});for(var O=s.getInViewCols(),w=S.map(function(t){return t.idx}),C=0,A=O;C<A.length;C++){var T=A[C];-1==w.indexOf(T)&&s.setInView(T,!1)}i=P,this._stopState=c.ReelStopState.WAIT}if(this._stopState==c.ReelStopState.WAIT){var M=!1;this._leftDeltaToStop-=e;var I=(this.stopCurve.getEndVal()-this.stopCurve.getStartVal())*this.stripData.blockPerCol_forAnim*-1,D=this._leftDeltaToStop-e;if(this._leftDeltaToStop<=0||D<=0)r=i-(I+Math.abs(this._leftDeltaToStop))*this.rollDirection,i=r=a.Mathf.loop(r,this.stripData.min,this.stripData.max),this._currentPos=r,this._leftDeltaToStop=I;this._leftDeltaToStop<=I&&(M=!0),M&&(this._setState(c.ReelRollState.EASESTOP),this._stopState=c.ReelStopState.ANIM,this._stopStartPos=this._currentPos,this._stopEndPos=this._stopPos,this.rollDirection>0&&this._stopStartPos>this._stopEndPos&&(this._stopStartPos-=this.stripData.totalLength),this.rollDirection<0&&this._stopStartPos<this._stopEndPos&&(this._stopStartPos+=this.stripData.totalLength),this._stopCurve_currentTime=0,this.isDebug&&(this.log("=Start Stop======="),cc.log("stopFrom:",this._stopStartPos),cc.log("stopTo:",this._stopEndPos,"range",this.stripData.min,this.stripData.max),cc.log("previewCurrent[",i,"]","this._leftDeltaToStop[",this._leftDeltaToStop,"]")))}var j=this._currentPos;if(this._state==c.ReelRollState.ROLLING||this._state==c.ReelRollState.EASEIN||c.ReelRollState.EASESTOP){this._state==c.ReelRollState.EASEIN&&(this._speed=a.Mathf.moveToward(this._speed,this.speed,this.speed_acc*t),this._speed==this.speed&&this._setState(c.ReelRollState.ROLLING));var E=this._currentPos+n;null!=r&&(E=r),E=a.Mathf.loop(E,this.stripData.min,this.stripData.max),this._currentPos=E,j=this._currentPos}if(this._state==c.ReelRollState.EASESTOP){var k=this._stopCurve_currentTime,N=k/this.stopTotalTime;this._stopCurve_currentTime+=t;var F=this.stopCurve.getStartVal()*this.stripData.blockPerCol_forAnim,L=this.stopCurve.getEndVal()*this.stripData.blockPerCol_forAnim,z=(this.stopCurve.getVal(k)*this.stripData.blockPerCol_forAnim-F)/(L-F),U=a.Mathf.lerp(this._stopStartPos,this._stopEndPos,z);j=a.Mathf.lerp(this._currentPos,U,this._getMixFromCurve(N)),k>this.stopTotalTime&&(this.stopNow(),j=this._currentPos,this.log("=Stop==========="),this.log("finalPos:",j))}this.view.isMoving=this._isRolling,this.view.setPos(j),this.view.render({rollDir:this.rollDirection})}},e.prototype.isRolling=function(){return this._isRolling},e.prototype.init=function(){return r(this,void 0,void 0,function(){return s(this,function(t){return this.stopCurve=a.CurveData.create(this.stopCurveJson.json),this.stopCurve.length=this.stopTotalTime,this.mixCurve=a.CurveData.create(this.mixCurveJson.json),[2]})})},e.prototype.setResultRange=function(t){this._resultRange=t,this._resultRangeLength=Math.abs(t[1]-t[0])},e.prototype.getResultRange=function(){return this._resultRange},e.prototype.getResultRangeLength=function(){return Math.abs(this._resultRange[1]-this._resultRange[0])},e.prototype.setStrip=function(t){this.stripData=t,this.view.setStrip(t)},e.prototype.spin=function(){this._isRolling=!0,this._isPausing=!1,this._setState(c.ReelRollState.EASEIN),this._stopState=c.ReelStopState.NONE,this.onSpin.call()},e.prototype.stop=function(t){this._stopPos=t,this.state!=c.ReelRollState.IDLE&&this.state!=c.ReelRollState.EASESTOP&&(this._isCallStop=!0,this.onStop.call())},e.prototype.stopNow=function(t){void 0===t&&(t=null),null!=t&&(this._stopPos=t);for(var e=0,n=this.getVisibles();e<n.length;e++)for(var o=0,i=n[e].objs;o<i.length;o++){i[o].setBlur(cc.Vec2.ZERO,!0)}this._isRolling=!0,this.onStop.call(),this._setState(c.ReelRollState.IDLE),this._stopState=c.ReelStopState.NONE,this._isPausing=!0,this._isCallStop=!1,this._currentPos=this._stopPos,this._speed=0,this.view.clearInView(),this.view.clearTempCols(),this.setPos(this._stopPos),this._isRolling=!1,this.onStopDone.call()},e.prototype.pause=function(){this._isPausing||(this._isPausing=!0)},e.prototype.resume=function(){this._isPausing&&this._isRolling&&(this._isPausing=!1)},e.prototype.setPos=function(t){this._currentPos=a.Mathf.loop(t,this.stripData.min,this.stripData.max),this._isPosExist=!0,this.render()},e.prototype.getStopPos=function(){return this._stopPos},e.prototype.shift=function(t,e){if(void 0===e&&(e=null),null==e&&(e={}),e.isForce||this._stopState==c.ReelStopState.NONE){var n=this.stripData,o=e.stripData;if(o&&(n=o),0==this._isPosExist)return n!=this.stripData&&this.setStrip(n),void this.setPos(t);this.isDebug&&cc.log("==shift===========================");for(var i=0,r=this.view.getTempCols();i<r.length;i++){var s=r[i],p=a.Mathf.minAbs.apply(a.Mathf,a.Mathf.getOffsetsLoop(this.currentPos,s.data.pos,this.stripData.min,this.stripData.max)),h=a.Mathf.loop(t+p,n.min,n.max);h=.01*Math.round(100*h),s.data.pos=h}var f=this.view.getInViewCols();this.isDebug&&cc.log("current In View:",f);for(var d=0,_=f;d<_.length;d++){var y=_[d],v=this.stripData.getColByIdx(y);if(null!=v){var g=this.view.requestMiddle(v);if(0!=g.objs.length){p=a.Mathf.minAbs.apply(a.Mathf,a.Mathf.getOffsetsLoop(this.currentPos,v.pos,this.stripData.min,this.stripData.max)),h=a.Mathf.loop(t+p,n.min,n.max);h=.01*Math.round(100*h);var m=v.getCopy();m.pos=h;var b=new l.ColMiddle;b.objs=g.objs,b.args=a.Objf.assign({},g.args),b.runtimeArgs=g.getRuntimeArgsCopy(),b.data=m,g.objs=[],g.delRuntimeArgs(null,"temp");var S=new u.TempColInfo;S.middle=b,S.isDisplay=!0,this.view.addTempCol(m,S)}}}n!=this.stripData&&this.setStrip(n);for(var R=0,x=this.stripData.getColsByTriggerRange(t+a.Mathf.addAbs(this._resultRangeLength[0],-1e-5),t+a.Mathf.addAbs(this._resultRangeLength[1],-1e-5),t);R<x.length;R++){s=x[R];this.view.setInView(s.idx,!0)}this.setPos(t)}},e.prototype.setCol=function(t,e){this.stripData.cols[t]=e,this.render()},e.prototype.getCol=function(t){return this.stripData.getColByIdx(t)},e.prototype.getResultInRange=function(t,e,n){return void 0===n&&(n=null),n||(n=this._stopPos),this.stripData.getColsByTriggerRange(n+t,n+e,n)},e.prototype.getResult=function(t,e){void 0===e&&(e=null),e||(e=this._stopPos);for(var n=[],o=0,i=t;o<i.length;o++){var r=i[o],s=this.stripData.getColByTriggerPos(e+r);null!=s&&n.push(s)}return n},e.prototype.render=function(){this.view.setPos(this._currentPos),this.view.render({rollDir:this.rollDirection})},e.prototype.getVisibles=function(){var t=this.view,e=this.view.getMiddles(),n=t.getInViewCols();e=e.filter(function(e){var o=e.data;return-1!=n.indexOf(o.idx)&&0!=t.getMiddle(o.idx).isAnyObjActive()});var o=t.getTempColInfos(),i=(o=o.filter(function(t){return 0!=t.middle.isAnyObjActive()})).map(function(t){return t.middle});return e=e.concat(i)},e.prototype._setState=function(t){this._state=t},e.prototype._getMixFromCurve=function(t){return null==this.mixCurve?1:this.mixCurve.getVal(t)},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0!=t.length&&this.isDebug&&cc.log.apply(cc,[""].concat(t))},i([f()],e.prototype,"isDebug",void 0),i([f(c.ReelRowView)],e.prototype,"view",void 0),i([f()],e.prototype,"rollDirection",void 0),i([f()],e.prototype,"speed",void 0),i([f()],e.prototype,"speed_acc",void 0),i([f()],e.prototype,"isShiftOnStop",void 0),i([f()],e.prototype,"stopTotalTime",void 0),i([f()],e.prototype,"stopDelayCol",void 0),i([f(cc.JsonAsset)],e.prototype,"stopCurveJson",void 0),i([f(cc.JsonAsset)],e.prototype,"mixCurveJson",void 0),e=i([h],e)}(cc.Component);n.ReelRowObj=d,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_Reel":"index_Reel","./Data/ColMiddle":"ColMiddle","./ReelRowView":"ReelRowView"}],ReelRowViewPass_3D:[function(t,e,n){"use strict";cc._RF.push(e,"28650bJ6LpEMbLql3RNfwML","ReelRowViewPass_3D");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Reel"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offsetFactor=new cc.Vec2(15,-40),e.scaleFactor=new cc.Vec2(0,.5),e.skewFactor=new cc.Vec2(3.5,0),e.offset=new cc.Vec2(-10,0),e}return o(e,t),e.prototype._pass=function(t){var e=this,n=t.colObjs,o=t.colMiddle,i=t.rollDir,r=t.pos;return n.forEach(function(t){var n=r,s=o.getArgs(t),a=s.offsetBase;null!=a&&(n+=a);var c=s.offset;null!=c&&(n+=c);var l=n,u=Math.abs(l),p=e.skewFactor.mul(i).mul(l);t.setSkew(p);var h=t.getPosition().y>0?1:-1,f=new cc.Vec2(e.offset.x+e.offsetFactor.x*u*u,e.offset.y+e.offsetFactor.y*u*u*h*-i),d=t.getPosition().add(f);t.setPosition(d);var _=new cc.Vec2(1,1).sub(e.scaleFactor.mul(u*u*.5));_.x<0&&(_.x=0),_.y<0&&(_.y=0),t.setScale(_)}),t},i([c(cc.Vec2)],e.prototype,"offsetFactor",void 0),i([c(cc.Vec2)],e.prototype,"scaleFactor",void 0),i([c(cc.Vec2)],e.prototype,"skewFactor",void 0),i([c(cc.Vec2)],e.prototype,"offset",void 0),e=i([a],e)}(r.ReelRowViewPass);n.default=l,cc._RF.pop()},{"../../index_Reel":"index_Reel"}],ReelRowViewPass_Blurs:[function(t,e,n){"use strict";cc._RF.push(e,"54b7cgj0GhM/KdBhCZwu7jO","ReelRowViewPass_Blurs");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Reel"),s=t("../../../../uzil/Uzil"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blurDir=new cc.Vec2(0,1),e.blurMax=new cc.Vec2(10,10),e.lengthPerUnit=new cc.Vec2(1,1),e}return o(e,t),e.prototype._pass=function(t){var e,n=t.colObjs;e=null!=t.lastPos?t.pos-t.lastPos:0;var o=this.blurDir.normalize().scale(new cc.Vec2(1/this.lengthPerUnit.x,1/this.lengthPerUnit.x)).mul(e);return o.x=s.Mathf.clamp(o.x,-this.blurMax.x,this.blurMax.x),o.y=s.Mathf.clamp(o.y,-this.blurMax.y,this.blurMax.y),n.forEach(function(t){t.setBlur(o)}),t},i([l(cc.Vec2)],e.prototype,"blurDir",void 0),i([l(cc.Vec2)],e.prototype,"blurMax",void 0),i([l(cc.Vec2)],e.prototype,"lengthPerUnit",void 0),e=i([c],e)}(r.ReelRowViewPass);n.default=u,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../index_Reel":"index_Reel"}],ReelRowViewPass_Idle:[function(t,e,n){"use strict";cc._RF.push(e,"0a61b7vY1JJlJHKHwERggdY","ReelRowViewPass_Idle");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Reel"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=new cc.Vec2(0,0),e.scale=new cc.Vec2(1,1),e.isSkew=!1,e.skew=cc.Vec2.ZERO,e}return o(e,t),e.prototype._pass=function(t){var e=this,n=t.colObjs,o=t.colMiddle;t.colData;return n.forEach(function(t){e.isSkew&&t.setSkew(e.skew),t.setPosition(e.position);var n=o.getArgs(t).scale;null==n&&(n=e.scale),t.setScale(n)}),t},i([c(cc.Vec2)],e.prototype,"position",void 0),i([c(cc.Vec2)],e.prototype,"scale",void 0),i([c()],e.prototype,"isSkew",void 0),i([c(cc.Vec2)],e.prototype,"skew",void 0),e=i([a],e)}(r.ReelRowViewPass);n.default=l,cc._RF.pop()},{"../../index_Reel":"index_Reel"}],ReelRowViewPass_New:[function(t,e,n){"use strict";cc._RF.push(e,"813daxrzCxKVZoZ5WEQ5BQG","ReelRowViewPass_New");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Rule/index_Rule"),s=t("../../index_Reel"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._pass=function(t){for(var e=t.colObjs,n=t.colData,o=t.colMiddle,i=t.stripData,s=t.view,a=0,c=e;a<c.length;a++){var l=c[a];if(0!=t.isNew||l.symbol==r.SymbolCode.NONE){var u=o.getArgs(l),p=u.isActive;null==p&&(p=!0);var h=u.activeConflict;if(null!=h)for(var f=0,d=h;f<d.length;f++){var _=d[f],y=i.getColByIdx(_),v=s.requestMiddle(y);if(t.isDebug&&cc.log(n.idx,y.idx,v.args),v.isAnyObjActive()){p=!1;break}}var g=o.data;l.setSize(g.sizeLevel),l.setSymbol(g.symbol),l.setActive(p),t.isDebug&&cc.log("idx["+n.idx+"] col["+o.data.idx+"] Symbol["+r.SymbolCode[n.symbol]+"] colObjSymbol["+r.SymbolCode[l.symbol]+"]: "+(0==l.node.active))}}return t},e=i([c],e)}(s.ReelRowViewPass));n.default=l,cc._RF.pop()},{"../../../Rule/index_Rule":"index_Rule","../../index_Reel":"index_Reel"}],ReelRowViewPass_Position:[function(t,e,n){"use strict";cc._RF.push(e,"61cc8wrvqVNqqNlGUs8S1XG","ReelRowViewPass_Position");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../index_Reel"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollDirection=new cc.Vec2(0,1),e.colSize=200,e.colSpacing=20,e}return o(e,t),Object.defineProperty(e.prototype,"colDistance",{get:function(){return this.colSize+this.colSpacing},enumerable:!0,configurable:!0}),e.prototype._pass=function(t){var e=this,n=t.colObjs,o=t.colMiddle,i=t.rollDir,r=t.reelPos,s=t.pos;return n.forEach(function(t){var n=s,a=o.getArgs(t),c=a.offsetBase;null!=c&&(n+=c);var l=a.offset;null!=l&&(n+=l);var u=n*e.colDistance,p=e.rollDirection.mul(i).normalize().mul(u);t.setPosition(r.add(p))}),t.rollDir=this.rollDirection.y*i,t},i([c(cc.Vec2)],e.prototype,"rollDirection",void 0),i([c()],e.prototype,"colSize",void 0),i([c()],e.prototype,"colSpacing",void 0),e=i([a],e)}(r.ReelRowViewPass);n.default=l,cc._RF.pop()},{"../../index_Reel":"index_Reel"}],ReelRowViewPass:[function(t,e,n){"use strict";cc._RF.push(e,"c0ea3gWQKBEkIW3st4eFRv8","ReelRowViewPass");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.passID="",e.isEnabled=!0,e}return o(e,t),e.prototype.pass=function(t){return this.isEnabled?this._pass(t):t},e.prototype._pass=function(t){},i([a()],e.prototype,"passID",void 0),i([a()],e.prototype,"isEnabled",void 0),e=i([s],e)}(cc.Component);n.ReelRowViewPass=c,cc._RF.pop()},{}],ReelRowView:[function(t,e,n){"use strict";cc._RF.push(e,"475b2HjqQlJ16jHmVJgv7Zy","ReelRowView");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function s(t){try{c(o.next(t))}catch(t){r(t)}}function a(t){try{c(o.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../uzil/Uzil"),c=t("../index_Reel"),l=t("./Data/ColMiddle"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(){return function(){this.isDisplay=!1,this.middle=null,this.lastPos=null}}();n.TempColInfo=f;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDebug=!1,e.isMoving=!1,e.currentPos=0,e._lastRenderArgs=null,e.colRootNode=null,e.colFXRootNode=null,e.reelBasePos=cc.Vec2.ZERO,e.displayRange_back=2,e.displayRange_forward=1.5,e._stripData=null,e._colIdx2Middle=new Map,e._inViewColIdxs=[],e._colObjs=[],e._unUseObjs=[],e._tempColData2Info=new Map,e.colObjPrefab=null,e.showPasses=[],e.onColEnterView=new a.Event,e}return o(e,t),e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.init=function(){return r(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){if(null!=this.colObjPrefab)for(t=this.displayRange_forward+this.displayRange_back,e=0;e<2*t;e++)n=this._createColObj(e),this._unUseObjs.push(n);return[2]})})},e.prototype.setPos=function(t){this.currentPos=a.Mathf.loop(t,this._stripData.min,this._stripData.max)},e.prototype.setStrip=function(t){this.clearInView(),this.clearMiddles(),this._stripData=t},e.prototype.render=function(t){void 0===t&&(t=void 0),this.isDebug,void 0==t?t=this._lastRenderArgs:this._lastRenderArgs=t;var e=this._stripData.cols.slice();e=e.filter(function(t){return-1==t.tags.indexOf("ignoreByViewPass")}),e=this._render_displayRangeLimit(e);for(var n=[],o=0,i=this._stripData.cols;o<i.length;o++){var r=i[o],s=this.requestMiddle(r);0==(-1!=e.indexOf(s.data))&&n.push(s)}for(var c=0,l=n;c<l.length;c++){var u=l[c];-1!=(R=e.indexOf(u.data))&&e.splice(R,1),this.isInView(u.data.idx)&&this.setInView(u.data.idx,!1),this._disableMiddle(u)}for(var p=new Map,h=0,f=e;h<f.length;h++){r=f[h];var d=this.requestMiddle(r),_=!this.isInView(r.idx);p.set(r,{middle:d,isNew:_})}var y=Array.from(this._tempColData2Info.keys());y=this._render_displayRangeLimit(y);var v=[];this._tempColData2Info.forEach(function(t,e){-1==y.indexOf(e)&&v.push({data:e,middle:t.middle})});for(var g=0,m=v;g<m.length;g++){u=m[g];this.removeTempCol(u.data)}e=this._render_tempConflictLimit(e);for(var b=this.currentPos-this.displayRange_back,S=this.currentPos+this.displayRange_forward,R=0;R<e.length;R++){r=e[R];var x=p.get(r),P=this.getColsDisplayPos([r],b,S)[0];d=x.middle,_=x.isNew;0==this.isInView(r.idx)&&(this.setInView(r.idx,!0),this.onColEnterView.call(r.idx));var O=d.objs;if(_&&0==O.length){var w=this.requestColObj();w.__from=d.data.idx,O.push(w),d.objs=O}if(0!=O.length)for(var C={view:this,stripData:this._stripData,colData:r,colMiddle:d,colObjs:O,isNew:_,reelPos:this.reelBasePos,pos:P,isDebug:this.isDebug},A=a.Objf.assign(C,t),T=0,M=this.showPasses;T<M.length;T++){A=M[T].pass(A)}}for(var I=0,D=y;I<D.length;I++){r=D[I],s=(x=this._tempColData2Info.get(r)).middle,_=!x.isDisplay;x.isDisplay=!0;P=this.getColsDisplayPos([r],b,S)[0],C={view:this,stripData:this._stripData,colData:r,colMiddle:s,colObjs:s.objs,isNew:_,reelPos:this.reelBasePos,pos:P,lastPos:x.lastPos,isDebug:this.isDebug},A=a.Objf.assign(C,t);for(var j=0,E=this.showPasses;j<E.length;j++){A=E[j].pass(A)}}},e.prototype.getInViewCols=function(){return this._inViewColIdxs},e.prototype.isInView=function(t){return-1!=this._inViewColIdxs.indexOf(t)},e.prototype.setInView=function(t,e){var n=this._inViewColIdxs.indexOf(t),o=-1!=n;1==e&&0==o?this._inViewColIdxs.push(t):0==e&&1==o&&this._inViewColIdxs.splice(n,1)},e.prototype.clearInView=function(){var t=this;t._inViewColIdxs=[],t._colIdx2Middle.forEach(function(e,n){t._disableMiddle(e)})},e.prototype.getMiddles=function(){return Array.from(this._colIdx2Middle.values())},e.prototype.getMiddle=function(t){return this._colIdx2Middle.get(t)},e.prototype.requestMiddle=function(t){if(this._colIdx2Middle.has(t.idx))return(e=this._colIdx2Middle.get(t.idx)).data=t,e;var e=this.createMiddle(t);return this._colIdx2Middle.set(t.idx,e),e},e.prototype.createMiddle=function(t){var e=new l.ColMiddle;return e.data=t,e},e.prototype.destroyMiddle=function(t){var e;this._colIdx2Middle.forEach(function(n,o){n==t&&(e=o)}),e&&this._colIdx2Middle.delete(e)},e.prototype.destroyMiddleByIdx=function(t){this._colIdx2Middle.has(t)&&this._colIdx2Middle.delete(t)},e.prototype.destroyMiddleByData=function(t){if(0!=this._colIdx2Middle.has(t.idx)){var e=this.getMiddle(t.idx);this.destroyMiddle(e)}},e.prototype.clearMiddles=function(){var t=this,e=[];this._colIdx2Middle.forEach(function(t,n){e.push(n)}),e.forEach(function(e){t.destroyMiddleByIdx(e)})},e.prototype.addTempCol=function(t,e){this._tempColData2Info.set(t,e)},e.prototype.removeTempCol=function(t){if(0!=this._tempColData2Info.has(t)){var e=this._tempColData2Info.get(t);this._disableMiddle(e.middle),this._tempColData2Info.delete(t)}},e.prototype.clearTempCols=function(){var t=this;this._tempColData2Info.forEach(function(e,n){var o=e;t._disableMiddle(o.middle)}),this._tempColData2Info.clear()},e.prototype.getTempCols=function(){var t=[];return this._tempColData2Info.forEach(function(e,n){t.push(e.middle)}),t},e.prototype.getTempColInfos=function(){return Array.from(this._tempColData2Info.values())},e.prototype.getColWorldPos=function(t){if(0==this._colIdx2Middle.has(t))return null;var e=[],n=this._colIdx2Middle.get(t);if(null==n)return e;if(0==n.objs.length)return e;for(var o=0,i=n.objs;o<i.length;o++){var r=i[o];e.push(r.getWorldPosition())}return e},e.prototype.getWorldPos=function(){var t=this.node.parent.convertToWorldSpaceAR(this.node.position);return new cc.Vec2(t.x,t.y)},e.prototype.getColsDisplayPos=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=[],i=[];if(t.length>0&&"number"==typeof t[0])for(var r=0,s=t;r<s.length;r++){var a=s[r];i.push(this._stripData.getColByIdx(a))}else i=t;var c=this._stripData.totalLength;null==e&&(e=this.currentPos-this.displayRange_back),null==n&&(n=this.currentPos+this.displayRange_forward);for(var l=0,u=i;l<u.length;l++){var p=u[l],h=p.pos,f=p.getDisplayRange();h>n&&f[0]>n?h-=c:h<e&&f[1]<e&&(h+=c);var d=h-this.currentPos;o.push(d)}return o},e.prototype.getPass=function(t){for(var e=0,n=this.showPasses;e<n.length;e++){var o=n[e];if(o.passID==t)return o}return null},e.prototype.getColObjs=function(t){var e=this.getMiddle(t);if(null==e)return null;for(var n=[],o=0,i=e.objs;o<i.length;o++){var r=i[o];n.push(r)}return n},e.prototype.requestColObj=function(){return this._unUseObjs.length>0?this._unUseObjs.pop():this._createColObj(this._colObjs.length+1)},e.prototype._render_displayRangeLimit=function(t){for(var e=this._stripData.loopRange,n=[this.currentPos-(this.displayRange_back-1e-6),this.currentPos+(this.displayRange_forward-1e-6)],o=[],i=0,r=t;i<r.length;i++){var s=r[i],c=s.getDisplayRange(),l=c[0],u=c[1];l=a.Mathf.loop(l,e[0],e[1]),u=a.Mathf.loop(u,e[0],e[1]),(a.Mathf.isInRangeLoop(s.pos,n,e)||a.Mathf.isRangeIntersectLoop(s.getDisplayRange(),n,e))&&o.push(s)}return o.sort(function(t,e){return Math.abs(t.pos)-Math.abs(e.pos)}),o},e.prototype._render_tempConflictLimit=function(t){for(var e=this._stripData.loopRange,n=this.getTempColInfos(),o=[],i=0,r=t;i<r.length;i++)for(var s=r[i],c=s.getTriggerRange(),l=0,u=n;l<u.length;l++){var p=u[l];if(0!=p.middle.isAnyObjActive()){var h=p.middle.data,f=[a.Mathf.loop(h.pos-h.triggerRange_relative[0]+1e-6,e[0],e[1]),a.Mathf.loop(h.pos+h.triggerRange_relative[1]-1e-6,e[0],e[1])];if(a.Mathf.isInRangeLoop(s.pos,f,e)||a.Mathf.isRangeIntersectLoop(c,f,e)){o.push(s);break}}}return t=t.filter(function(t){return-1==o.indexOf(t)})},e.prototype._disableMiddle=function(t){for(var e=0,n=t.objs;e<n.length;e++){var o=n[e];o.setSymbol(null),this._recoveryColObj(o),t.runtimeArgs.has(o)&&t.runtimeArgs.delete(o)}t.objs=[]},e.prototype._recoveryColObj=function(t){-1==this._unUseObjs.indexOf(t)&&(this._unUseObjs.push(t),t.setActive(!1))},e.prototype._createColObj=function(t){var e=cc.instantiate(this.colObjPrefab);e.parent=null==this.colRootNode?this.node:this.colRootNode;var n=e.getComponent(c.ReelColObj);return n.id="obj["+t.toString()+"]",n.fxRoot=this.colFXRootNode,this._colObjs.push(n),n.setActive(!1),n},i([h()],e.prototype,"isDebug",void 0),i([h(cc.Node)],e.prototype,"colRootNode",void 0),i([h(cc.Node)],e.prototype,"colFXRootNode",void 0),i([h(cc.Vec2)],e.prototype,"reelBasePos",void 0),i([h()],e.prototype,"displayRange_back",void 0),i([h()],e.prototype,"displayRange_forward",void 0),i([h(cc.Prefab)],e.prototype,"colObjPrefab",void 0),i([h(c.ReelRowViewPass)],e.prototype,"showPasses",void 0),e=i([p],e)}(cc.Component);n.ReelRowView=d,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../index_Reel":"index_Reel","./Data/ColMiddle":"ColMiddle"}],ReelRule:[function(t,e,n){"use strict";cc._RF.push(e,"bde8e1Z3VVIirCMdRYUyQmg","ReelRule"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../uzil/Uzil"),i=function(){function t(){}return t.getResultRange=function(t){return t<0||t>=this.resultRange.length?[0,0]:this.resultRange[t]},t.getResultRangeLength=function(e){var n=t.getResultRange(e);return o.Mathf.max.apply(o.Mathf,n)-o.Mathf.min.apply(o.Mathf,n)},t.getResult=function(e,n){var i=[],r=t.resultRange;for(var s in n){for(var a=n[s],c=r[s],l=[],u=e[s],p=0,h=c;p<h.length;p++){var f=h[p],d=o.Mathf.loop(a+f,u.min,u.max),_=u.getColByTriggerPos(d);null!=_&&l.push(_)}for(var y=[],v=0,g=l;v<g.length;v++){var m=g[v];y.push(m.getCopy())}i.push(y)}return i},t.getResultInRange=function(e,n){var i=[],r=t.resultRange;for(var s in n){for(var a=n[s],c=r[s],l=[],u=0,p=e[s].getColsByTriggerRange(a+o.Mathf.addAbs(c[0],-.001),a+o.Mathf.addAbs(c[1],-.001),a);u<p.length;u++){var h=p[u];l.push(h.getCopy())}i.push(l)}return i},t.reelBlockPerCol=2,t.resultRange=[[-3,3],[-3,3],[-3,3],[-3,3],[-3,3],[-3,3]],t}();n.ReelRule=i,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil"}],ReelStripData:[function(t,e,n){"use strict";cc._RF.push(e,"32523qKWC9Ne60IFwoynUTA","ReelStripData"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../uzil/Uzil"),i=function(){function t(){this._cols=[],this._totalLength=0,this._min=null,this._max=null,this._loopRange=[0,0],this.blockPerCol_forAnim=1,this.triggerRangeCache={},this.triggerPosCache={}}return Object.defineProperty(t.prototype,"cols",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalLength",{get:function(){return this._totalLength},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loopRange",{get:function(){return this._loopRange},enumerable:!0,configurable:!0}),t.prototype.getCopy=function(){var e=new t;return e._cols=this._cols.map(function(t){return t.getCopy()}),e._totalLength=this._totalLength,e._min=this._min,e._max=this._max,e._loopRange=this._loopRange,e.blockPerCol_forAnim=this.blockPerCol_forAnim,e},t.prototype.setCols=function(t){if(this._cols=t,!(this._cols.length<=0)){this._min=null,this._max=null;for(var e=0,n=this._cols;e<n.length;e++){var o=n[e],i=o.pos,r=o.pos,s=o.getDisplayRange();s[0]<i&&(i=s[0]),s[1]>r&&(r=s[1]);var a=o.getTriggerRange();a[0]<i&&(i=a[0]),a[1]>r&&(r=a[1]),(null==this._min||i<this._min)&&(this._min=i),(null==this._max||r>this._max)&&(this._max=r)}this._totalLength=this._max-this._min,this._loopRange=[this._min,this._max]}},t.prototype.getColByIdx=function(t){for(var e=0,n=this._cols;e<n.length;e++){var o=n[e];if(o.idx==t)return o}return cc.error("getColByIdx FIALED:",t,this._cols),null},t.prototype.getColByDisplayPos=function(t,e){void 0===e&&(e=null);var n=this.getColsByDisplayPos(t,e);return 0==n.length?null:n[0]},t.prototype.getColsByDisplayPos=function(t,e){var n=this;void 0===e&&(e=null),t=o.Mathf.loop(t,this.min,this.max);var i=[],r=[],s=function(e){for(var s=0,a=e;s<a.length;s++){var c=a[s];if(-1==r.indexOf(c)&&-1==i.indexOf(c)){var l=c.getDisplayRange();o.Mathf.isInRangeLoop(t,l,[n.min,n.max])&&r.push(c),i.push(c)}}};return null!=e&&s(e),s(this._cols),r},t.prototype.getColByTriggerPos=function(t,e){void 0===e&&(e=null);var n=this.getColsByTriggerPos(t,e);return 0==n.length?null:n[0]},t.prototype.getColsByTriggerPos=function(t,e){var n=this;void 0===e&&(e=null);var i=this.triggerPosCache[t];if(null!=i)return i;t=o.Mathf.loop(t,this.min,this.max);var r=[],s=[],a=function(e){for(var i=0,a=e;i<a.length;i++){var c=a[i];if(-1==s.indexOf(c)&&-1==r.indexOf(c)){if(c.pos==t)s.push(c);else{var l=c.getTriggerRange();o.Mathf.isInRangeLoop(t,l,[n.min,n.max])&&s.push(c)}r.push(c)}}};return null!=e&&a(e),a(this._cols),this.triggerPosCache[t]=s,s},t.prototype.getColsByTriggerRange=function(t,e,n){void 0===n&&(n=null);for(var i=[],r=0,s=this._cols;r<s.length;r++){var a=s[r];if(-1==i.indexOf(a))if(a.pos==t||a.pos==e)i.push(a);else{var c=a.getTriggerRange();o.Mathf.isRangeIntersectLoop([t,e],c,this.loopRange)&&i.push(a)}}if(null!=n){for(var l=new Map,u=0,p=i;u<p.length;u++){var h=p[u],f=o.Mathf.getOffsetsLoop(n,h.pos,this.min,this.max),d=o.Mathf.minAbs.apply(o.Mathf,f);l.set(h.idx,d)}i.sort(function(t,e){return l.get(t.idx)-l.get(e.idx)})}return i},t}();n.ReelStripData=i,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil"}],ShaderManager:[function(t,e,n){"use strict";cc._RF.push(e,"dc3378aA9tJDL1eW2wQd31G","ShaderManager"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.Default=0]="Default",t[t.Gray=1]="Gray",t[t.GrayScaling=100]="GrayScaling",t[t.Offset=101]="Offset",t[t.Blurs=102]="Blurs",t[t.Wave=103]="Wave",t[t.Fluxay=104]="Fluxay"}(n.ShaderType||(n.ShaderType={}));var o=function(){function t(){}return t.addShader=function(e){t.g_shaders[e.name]||(t.g_shaders[e.name]=e)},t.getShader=function(e){return t.g_shaders[e]},t.g_shaders={},t.g_shaderEnum=null,t}();n.default=o,cc._RF.pop()},{}],ShurikenComponent:[function(t,e,n){"use strict";cc._RF.push(e,"06a42Gcx4xJ1Y0ymzxqYW6Q","ShurikenComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../index_Shuriken");(function(t){t[t.POINT=0]="POINT",t[t.CIRCLE=1]="CIRCLE",t[t.NODE_RECT=2]="NODE_RECT",t[t.SPRITE=3]="SPRITE"})(o=n.EMITTER_TYPE||(n.EMITTER_TYPE={}));var r={extends:cc.Component,properties:{_shurikenSystem:{type:Object,default:null,visible:!1},shurikenSystem:{type:Object,get:function(){return this._shurikenSystem},set:function(t){this._shurikenSystem=t},visible:!1},timeScale:{default:1},_sourceNode:{type:cc.Prefab,default:null,visible:!1},sourcePrefab:{type:cc.Prefab,get:function(){return this._sourceNode},set:function(t){this._sourceNode=t,this.shurikenSystem&&(this.shurikenSystem.sourceNode=t)}},_maxCount:{default:100,visible:!1},maxCount:{get:function(){return this._maxCount},set:function(t){this._maxCount=t,this.shurikenSystem&&(this.shurikenSystem.maxCount=t)}},isPlayOnAwake:{default:!0},_isPrepare:{default:!1,visible:!1},isPrepare:{get:function(){return this._isPrepare},set:function(t){this._isPrepare=t,this.shurikenSystem&&(this.shurikenSystem.isPrepare=t)}},_emitRoot:{type:cc.Node,default:null,visible:!1},emitRoot:{type:cc.Node,get:function(){return this._emitRoot},set:function(t){this._emitRoot=t,this.shurikenSystem&&(this.shurikenSystem.emitRoot=t)}},isShowEmit:{displayName:"\u6aa2\u8996 \u767c\u5c04",default:!1},_lifeTime:{default:5,visible:!1},lifeTime:{get:function(){return this._lifeTime},set:function(t){this._lifeTime=t,this.shurikenSystem&&(this.shurikenSystem.lifeTime=t)},visible:function(){return this.isShowEmit}},_delay:{default:.1,visible:!1},delay:{get:function(){return this._delay},set:function(t){this._delay=t,this.shurikenSystem&&(this.shurikenSystem.delay=t)},visible:function(){return this.isShowEmit}},_countPerEmit:{default:1,visible:!1},countPerEmit:{get:function(){return this._countPerEmit},set:function(t){this._countPerEmit=t,this.shurikenSystem&&(this.shurikenSystem.countPerEmit=t)},visible:function(){return this.isShowEmit}},isShowEmitShape:{displayName:"\u6aa2\u8996 \u767c\u5c04\u5340\u57df",default:!1},_emitterType:{type:cc.Enum(o),default:o.POINT},emitterType:{type:cc.Enum(o),get:function(){return this._emitterType},set:function(t){this._emitterType=t},visible:function(){return this.isShowEmitShape}},_emitters:{type:Object,default:{},visible:!1},circle_radius:{default:new cc.Vec2(0,0),visible:function(){return!!this.isShowEmitShape&&this.emitterType==o.CIRCLE}},circle_angle:{default:new cc.Vec2(0,0),visible:function(){return!!this.isShowEmitShape&&this.emitterType==o.CIRCLE}},sprite_imageData:{type:Object,default:null,visible:!1},sprite_clipSample:{default:100,visible:function(){return!!this.isShowEmitShape&&this.emitterType==o.SPRITE}},sprite_clipAlpha:{set:function(t){this._sprite_clipAlpha=t,this._sprite_clipAlpha32=255*t},get:function(){return this._sprite_clipAlpha},visible:function(){return!!this.isShowEmitShape&&this.emitterType==o.SPRITE}},_sprite_clipAlpha:{default:0,visible:!1},_sprite_clipAlpha32:{default:0,visible:!1},isShowMove:{displayName:"\u6aa2\u8996 \u4f4d\u79fb",default:!1},emitSpeed:{default:new cc.Vec2(10,20),visible:function(){return this.isShowMove}},emitAngle:{default:new cc.Vec2(360,45),visible:function(){return this.isShowMove}},gravity:{default:new cc.Vec2(0,-10),visible:function(){return this.isShowMove}},emitSpeed_z:{default:0,visible:function(){return this.isShowMove}},isShowRotate:{displayName:"\u6aa2\u8996 \u65cb\u8f49",default:!1},rotate_emit:{default:cc.Vec2.ZERO,visible:function(){return this.isShowRotate}},rotate_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isShowRotate}},isShowScale:{displayName:"\u6aa2\u8996 \u7e2e\u653e",default:!1},scale_emit:{default:cc.Vec2.ONE,visible:function(){return this.isShowScale}},scale_speed:{default:cc.Vec2.ZERO,visible:function(){return this.isShowScale}},isShowAnim:{displayName:"\u6aa2\u8996 \u52d5\u756b",default:!1},animTime_range:{default:cc.Vec2.ZERO,visible:function(){return this.isShowAnim}}},onLoad:function(){this._initShurikenSystem(),this._initEmitter(),this.isPlayOnAwake&&this.startEmit()},update:function(t){this.shurikenSystem&&this.shurikenSystem.update(t)},startEmit:function(){this.shurikenSystem&&this.shurikenSystem.start()},resumeEmit:function(){this.shurikenSystem&&this.shurikenSystem.resume()},pauseEmit:function(){this.shurikenSystem&&this.shurikenSystem.pause()},stopEmit:function(){this.shurikenSystem&&this.shurikenSystem.pause()},clear:function(){this.shurikenSystem&&this.shurikenSystem.clear()},_initShurikenSystem:function(){var t=new i.ShurikenSystem;this.shurikenSystem=t,t.timeScale=this.timeScale,t.shurikenSource=this.sourcePrefab,t.maxCount=this.maxCount,t.container=this.emitRoot,t.lifeTime_sec=this.lifeTime,t.delay_sec=this.delay,t.countPerEmit=this.countPerEmit,t.emitter=this._getEmitter(),this.isPrepare&&t.prepare(t.maxCount)},_initEmitter:function(){var t=this._getEmitter();if(t instanceof i.ShurikenEmitter_Base&&(t.emitX.set(0),t.emitY.set(0),t.emitSpeed.set([this.emitSpeed.x,this.emitSpeed.y]),t.emitSpeed_z=this.emitSpeed_z,t.emitAngle.set([this.emitAngle.x,this.emitAngle.y]),t.gravity=this.gravity,t.emitRotation.set([this.rotate_emit.x,this.rotate_emit.y]),t.emitRotateSpeed.set([this.rotate_speed.x,this.rotate_speed.y]),t.emitScale.set([this.scale_emit.x,this.scale_emit.y]),t.emitScaleSpeed.set([this.scale_speed.x,this.scale_speed.y]),t.emitAnimTime.set([this.animTime_range.x,this.animTime_range.y])),this.emitterType==o.NODE_RECT);else if(this.emitterType==o.CIRCLE){var e=t;e.raidus.set([this.circle_radius.x,this.circle_radius.y]),e.angle.set([this.circle_angle.x,this.circle_angle.y])}},_getEmitter:function(t){void 0===t&&(t=null),null==t&&(t=this.emitterType);var e=t.toString(),n=this._emitters[e];if(n)return n;if(t==o.POINT)n=new i.ShurikenEmitter_Base;else if(t==o.NODE_RECT)n=new i.ShurikenEmitter_NodeRect;else{if(t!=o.CIRCLE)return null;n=new i.ShurikenEmitter_Circle}return this._emitters[e]=n,n}};cc.Class(r),cc._RF.pop()},{"../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_Base:[function(t,e,n){"use strict";cc._RF.push(e,"3539aEmXf9Pe5eQmCe3Cc1F","ShurikenEmitter_Base");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../../Uzil"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.emitX=new i.RandomRange(0),e.emitY=new i.RandomRange(0),e.emitSpeed=new i.RandomRange(0),e.emitSpeed_z=1,e.gravity=cc.Vec3.ZERO,e.emitAngle=new i.RandomRange(0,359),e.emitRotation=new i.RandomRange(0,359),e.emitRotateSpeed=new i.RandomRange(0),e.emitScale=new i.RandomRange(1),e.emitScaleSpeed=new i.RandomRange(1),e.emitAnimTime=new i.RandomRange(0),e}return o(e,t),e.prototype.emit=function(t){var e=this._getEmitPos();t.setPosition(new cc.Vec3(e.x,e.y,0));var n=this._getEmitAngle();t.velocity=i.Mathf.toVec3(i.Mathf.angleToVec2(n).mul(this.emitSpeed.getFloat())),t.velocity.z=this.emitSpeed_z,t.gravity=i.Mathf.toVec3(this.gravity),t.node.setRotation(this._getEmitRotate()),t.rotateSpeed=this.emitRotateSpeed.getFloat(),t.setScale(i.Mathf.toVec2(this.emitScale.getFloat())),t.scaleSpeed=i.Mathf.toVec2(this.emitScaleSpeed.getFloat()),t.setAnimTime(this.emitAnimTime.getFloat())},e.prototype._getEmitPos=function(){return new cc.Vec2(this.emitX.random(),this.emitY.random())},e.prototype._getEmitAngle=function(){var t=i.Mathf.angleDelta(this.emitAngle.min,this.emitAngle.max,!0);return cc.misc.lerp(this.emitAngle.min,this.emitAngle.min+t,Math.random())},e.prototype._getEmitRotate=function(){var t=i.Mathf.angleDelta(this.emitRotation.min,this.emitRotation.max,!0);return cc.misc.lerp(this.emitRotation.min,this.emitRotation.min+t,Math.random())},e}(t("../../index_Shuriken").ShurikenEmitter);n.ShurikenEmitter_Base=r,cc._RF.pop()},{"../../../Uzil":"Uzil","../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_Circle:[function(t,e,n){"use strict";cc._RF.push(e,"d651bf2pUVByK1gkXv/yy3/","ShurikenEmitter_Circle"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../Uzil"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.raidus=new o.RandomRange(0),e.angle=new o.RandomRange(0,359),e}return __extends(e,t),e.prototype._getEmitPos=function(){var t=this.raidus.random(),e=o.Mathf.angleDelta(this.angle.min,this.angle.max,!0),n=o.Mathf.lerp(this.angle.min,this.angle.min+e,Math.random());return o.Mathf.angleToVec2(n).mul(t)},e}(t("../../index_Shuriken").ShurikenEmitter_Base);n.ShurikenEmitter_Circle=i,cc._RF.pop()},{"../../../Uzil":"Uzil","../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter_NodeRect:[function(t,e,n){"use strict";cc._RF.push(e,"c03fdzPrMlGJZTw2C9eqkQ1","ShurikenEmitter_NodeRect"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._getEmitPos=function(){var t=new cc.Vec2,e=this.system.getContainer(),n=0-e.width*e.anchorX,o=0+e.width*(1-e.anchorX),i=0+e.height*(1-e.anchorY),r=0-e.height*e.anchorY;return t.x=cc.misc.lerp(n,o,Math.random()),t.y=cc.misc.lerp(r,i,Math.random()),t},e}(t("../../index_Shuriken").ShurikenEmitter_Base);n.ShurikenEmitter_NodeRect=o,cc._RF.pop()},{"../../index_Shuriken":"index_Shuriken"}],ShurikenEmitter:[function(t,e,n){"use strict";cc._RF.push(e,"50d8f9TTflIFocmi0qXWZkj","ShurikenEmitter"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.emit=function(t){},t}();n.ShurikenEmitter=o,cc._RF.pop()},{}],ShurikenSystem:[function(t,e,n){"use strict";cc._RF.push(e,"587e8mcnPVIB6lmNBtD4ZIR","ShurikenSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=t("../index_Shuriken"),r=function(){function t(){this.isEmitting=!1,this.container=null,this.shurikenSource=null,this._emits=[],this._pool=[],this.maxCount=50,this.timeScale=1,this.lifeTime_sec=5,this.delay_sec=0,this.emitCD=0,this.countPerEmit=1,this._emitter=new i.ShurikenEmitter_Base}return Object.defineProperty(t.prototype,"emitter",{get:function(){return this._emitter},set:function(t){this._emitter=t,this._emitter.system=this},enumerable:!0,configurable:!0}),t.prototype.setEmitter=function(t){this.emitter=t,t.system=this},t.prototype.getContainer=function(){return this.container?this.container:cc.director.getScene()},t.prototype.update=function(t){for(var e=t*o.Time.timeScale*this.timeScale,n=0,i=this._emits.slice();n<i.length;n++){(c=i[n]).update(e),c.life_sec<=0&&this.recovery(c)}if(this.isEmitting)if(this.emitCD<=0)for(var r=0;r<this.countPerEmit&&!(this._emits.length>=this.maxCount);r++)this.emit(),this.emitCD=this.delay_sec;else this.emitCD-=e;this._emits.sort(function(t,e){return t.compare(e)});for(r=0;r<this._emits.length;r++)this._emits[r].setOrder(r);for(var s=0,a=this._emits;s<a.length;s++){var c;(c=a[s]).render()}},t.prototype.start=function(){this.clear(),this.resume()},t.prototype.resume=function(){this.isEmitting=!0},t.prototype.pause=function(){this.isEmitting=!1},t.prototype.stop=function(){this.pause(),this.clear()},t.prototype.prepare=function(t){for(var e=this._pool.length-1;e<t;e++)this._pushToPool(this._create())},t.prototype.emit=function(){var t=this.request();return t.life_sec=this.lifeTime_sec,this._emits.push(t),this.emitter.emit(t),t.node.active=!0,t},t.prototype.clear=function(){for(var t=0,e=this._emits.slice();t<e.length;t++){var n=e[t];this.recovery(n)}this._emits=[]},t.prototype.request=function(){return this._pool.length>0?this._pool.shift():this._create()},t.prototype.recovery=function(t){var e=this._emits.indexOf(t);-1!=e&&this._emits.splice(e,1),this._pushToPool(t)},t.prototype._create=function(){var t=cc.instantiate(this.shurikenSource);t.parent=this.getContainer();var e=new i.Shuriken;return e.node=t,e},t.prototype._pushToPool=function(t){t.setActive(!1),this._pool.push(t)},t}();n.ShurikenSystem=r,cc._RF.pop()},{"../../Uzil":"Uzil","../index_Shuriken":"index_Shuriken"}],Shuriken:[function(t,e,n){"use strict";cc._RF.push(e,"265d0hcwpZKJrQRSRs6Jztk","Shuriken"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Animator/index_Animator"),i=function(){function t(){this.node=null,this.life_sec=0,this.position=new cc.Vec3(0,0,0),this._posV2=cc.Vec2.ZERO,this._isPosChanged=!1,this.gravity=cc.Vec3.ZERO,this.rotation=0,this._isRotChanged=!1,this.scale=cc.Vec2.ONE,this._isSclChanged=!1,this.velocity=new cc.Vec3(0,0,0),this.rotateSpeed=0,this.scaleSpeed=cc.Vec2.ZERO}return t.prototype.setActive=function(t){this.node.active=t},t.prototype.setPosition=function(t){this.position=t,this._posV2.x=t.x,this._posV2.y=t.y,this._isPosChanged=!0},t.prototype.setRotation=function(t){this.rotation=t,this._isRotChanged=!0},t.prototype.setScale=function(t){this.scale=t,this._isSclChanged=!0},t.prototype.setAnimTime=function(t){var e=this.node.getComponent(o.Animator);e&&e.setNormalizedTime(t)},t.prototype.update=function(t){this.life_sec-=t,this.velocity.addSelf(this.gravity.mul(t)),this.setPosition(this.position.add(this.velocity.mul(t))),this.setRotation(this.rotation+this.rotateSpeed*t),this.setScale(this.scale.add(this.scaleSpeed.mul(t)))},t.prototype.render=function(t){void 0===t&&(t=!1),(t||this._isPosChanged)&&(this.node.setPosition(this._posV2),this._isPosChanged=!1),(t||this._isRotChanged)&&(this.node.setRotation(this.rotation),this._isRotChanged=!1),(t||this._isSclChanged)&&(this.node.setScale(this.scale),this._isSclChanged=!1)},t.prototype.compare=function(t){return this.position.z-t.position.z},t.prototype.setOrder=function(t){this.node.zIndex=t},t}();n.Shuriken=i,cc._RF.pop()},{"../../Animator/index_Animator":"index_Animator"}],SlotStrip:[function(t,e,n){"use strict";cc._RF.push(e,"7d25blfsu5M675ezNyN7o9S","SlotStrip"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../index_Rule");o.SymbolCode.N1,o.SymbolCode.N2,o.SymbolCode.N3,o.SymbolCode.N4,o.SymbolCode.N5,o.SymbolCode.N5,o.SymbolCode.H1,o.SymbolCode.H2,o.SymbolCode.H3,o.SymbolCode.H4,o.SymbolCode.H5,o.SymbolCode.SC,o.SymbolCode.WD;cc._RF.pop()},{"../../index_Rule":"index_Rule"}],SlotUtil:[function(t,e,n){"use strict";cc._RF.push(e,"523cbN7U/BIjKs8SFhhP9fJ","SlotUtil"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../../uzil/Uzil"),i=function(){function t(){}return t.getRandomStopPos=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=new o.RandomRange(0,i.cols.length-1).getInt();e.push(i.cols[r].pos)}return e},t.requestExColIdx=function(t){return-1*o.UniqID.get("exCol_reel_"+t).request()-1},t.recoveryExColIdx=function(t,e){var n=-1*(e+1);o.UniqID.get("exCol_reel_"+t).release(n)},t.getReelResultCopy=function(t){for(var e=[],n=0,o=t;n<o.length;n++){for(var i=[],r=0,s=o[n];r<s.length;r++){var a=s[r];i.push(a.getCopy())}e.push(i)}return e},t.getColSliceInfo=function(t,e,n){for(var i=t[0],r=t[1],s=r-i,a=e[0],c=e[1],l=[],u=0,p=Array.isArray(n)?n:[n];u<p.length;u++){var h=p[u].getTriggerRange(),f=h[0],d=h[1],_=a,y=c,v=[];o.Mathf.isRangeIntersectLoop(h,[_,y],[i,r])&&0==(v=o.Mathf.sliceRange(f,d,_,y)).length&&(_<f?v=o.Mathf.sliceRange(f,d,_+s,y+s):_>f&&(v=o.Mathf.sliceRange(f,d,_-s,y-s))),l.push(v)}return 0==l.length?null:1==l.length?l[0]:l},t}();n.SlotUtil=i,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil"}],SpinCtrlState_Auto:[function(t,e,n){"use strict";cc._RF.push(e,"b5e46zNd05E74t18U4+D9Wk","SpinCtrlState_Auto");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l="SpinCtrlState_aa",u="regFrom_state_auto_onAllStopDone",p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spinCtrl=null,e._eventName="regFrom_state_auto",e._isDisablingAuto=!1,e.autoReSpinDelay_sec=1,e}return o(e,t),e.prototype._init=function(t){this._spinCtrl=t},e.prototype._onEnter=function(){var t=this,e=this,n=this._spinCtrl,o=n.spinUI,i=n.gameCtrl;i.reelCtrl;o.autoBtn.target.color=cc.Color.GRAY,o.onSpinClick.add(function(){0!=n.gameCtrl.isSpinable()?(n.spin(),n.gameCtrl.onReadyNextSpin.remove(u),n.gameCtrl.onReadyNextSpin.addOnce(function(){0!=n.gameCtrl.isSpinable()?r.Invoker.once(function(){if(0==i.isSpinable())return cc.log("gameCtrl.isSpinable() == false"),!1;o.call_onSpinBtnClick()},t.autoReSpinDelay_sec).tag(u):e._stopAuto()}).name(u),o.setSpinning(!0,l,2)):e._stopAuto()}).name(e._eventName),o.onAutoClick.add(function(){o.lockInput({with:["auto"]},l,2),e._stopAuto()}).name(e._eventName),o.onStopClick.add(function(){n.stop(),e._stopAuto()}).name(e._eventName),o.isLock_SpinBtn.users.forEach(function(t){cc.log(t)}),o.call_onSpinBtnClick()},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){var t=this._spinCtrl.spinUI;this._spinCtrl.gameCtrl;t.autoBtn.target.color=cc.Color.WHITE,this._stopAutoNextSpin(),this._spinCtrl.lockInput({without:["spin","stop","auto"]},l),t.onAutoClick.remove(this._eventName),t.onSpinClick.remove(this._eventName),t.onStopClick.remove(this._eventName)},e.prototype._stopAutoNextSpin=function(){r.Invoker.cancel(u),this._spinCtrl.gameCtrl.onReadyNextSpin.remove(u)},e.prototype._stopAuto=function(){var t=this;if(!this._isDisablingAuto){this._isDisablingAuto=!0;var e=this._spinCtrl,n=e.spinUI,o=e.gameCtrl.reelCtrl;this._stopAutoNextSpin(),n.autoBtn.target.color=cc.Color.WHITE;var i=function(){n.setSpinning(null,l),e.lockInput({with:["stop"],without:["spin","auto"]},l,2),e.stateCtrl.go("normal"),t._isDisablingAuto=!1};o.isSpinning?e.gameCtrl.onReadyNextSpin.add(function(){i()}).name(u):i()}},i([c()],e.prototype,"autoReSpinDelay_sec",void 0),e=i([a],e)}(r.State);n.SpinCtrlState_Auto=p,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],SpinCtrlState_Normal:[function(t,e,n){"use strict";cc._RF.push(e,"7d2e124FK9BWIKo/O4aJW4p","SpinCtrlState_Normal");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spinCtrl=null,e._eventName="SpinCtrlState_normal",e._onReelStopEventName="SpinCtrlState_normal_onAllStopDone",e.autoReSpinDelay_sec=1,e}return o(e,t),e.prototype._init=function(t){this._spinCtrl=t},e.prototype._onEnter=function(){var t=this,e=this._spinCtrl,n=this._spinCtrl.spinUI;n.onAutoClick.add(function(){e.stateCtrl.go("auto")}).name(t._eventName),n.onSpinClick.add(function(){0!=e.gameCtrl.isSpinable()&&(e.spin(),e.gameCtrl.onReadyNextSpin.add(function(){n.setSpinning(null,"SpinCtrlState"),e.lockInput({with:["stop"],without:["spin","auto","turbo"]},"SpinCtrlState",2)}).name(t._onReelStopEventName),n.setSpinning(!0,"SpinCtrlState",2),e.lockInput({with:["spin","auto","turbo"],without:["stop"]},"SpinCtrlState",2))}).name(t._eventName),n.onStopClick.add(function(){e.stop()}).name(t._eventName)},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){var t=this._spinCtrl.spinUI;t.onAutoClick.remove(this._eventName),t.onSpinClick.remove(this._eventName),t.onStopClick.remove(this._eventName),this._spinCtrl.gameCtrl.onReadyNextSpin.remove(this._onReelStopEventName)},e.prototype._spinAll=function(t){},e.prototype._stopAll=function(t){},i([c()],e.prototype,"autoReSpinDelay_sec",void 0),e=i([a],e)}(r.State);n.SpinCtrlState_Normal=l,cc._RF.pop()},{"../../../../../uzil/Uzil":"Uzil"}],SpinCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"e7c7eTGIOVJn6HiqCZ9b6iH","SpinCtrl");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../uzil/Uzil"),s=t("../../index_Slot"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateCtrl=null,e.gameCtrl=null,e.spinUI=null,e._isTurboOn=!1,e.onSpin=new r.Event,e.onStop=new r.Event,e}return o(e,t),e.prototype.onLoad=function(){this.stateCtrl.init(this)},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.spin=function(){this.onSpin.call()},e.prototype.stop=function(){this.onStop.call()},e.prototype.lockInput=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),this.spinUI.lockInput(t,e,n)},i([l(r.StateCtrl)],e.prototype,"stateCtrl",void 0),i([l(s.SpinUI)],e.prototype,"spinUI",void 0),e=i([c],e)}(cc.Component);n.SpinCtrl=u,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil","../../index_Slot":"index_Slot"}],SpinPostProc:[function(t,e,n){"use strict";cc._RF.push(e,"a87e61DdQNKPpjr46YlUoJS","SpinPostProc");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEnabled=!0,e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.process=function(t,e,n){},i([a()],e.prototype,"isEnabled",void 0),e=i([s],e)}(cc.Component);n.SpinPostProc=c,cc._RF.pop()},{}],SpinPreProc:[function(t,e,n){"use strict";cc._RF.push(e,"64614t7tQ5GiYqQqMzwjVE0","SpinPreProc");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isEnabled=!0,e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.process=function(t){return null},i([a()],e.prototype,"isEnabled",void 0),e=i([s],e)}(cc.Component);n.SpinPreProc=c,cc._RF.pop()},{}],SpinResultData:[function(t,e,n){"use strict";cc._RF.push(e,"be39f5yK3hJhagnaGmjHTJD","SpinResultData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.totalBonus=0,this.totalBet=0,this.currentCredit=0,this.resultTable=new Map}return t.prototype.getMainResult=function(){return this.resultTable.get("main")[0]},t.prototype.getFreeResults=function(){return this.resultTable.get("free")},t}();n.SpinResultData=o;var i=function(){return function(){this.stopPosList=[],this.totalWinBonus=0,this.tags=[]}}();n.ResultData=i,cc._RF.pop()},{}],SpinUI:[function(t,e,n){"use strict";cc._RF.push(e,"d03a17xoztGf6tF/Dxq/guv","SpinUI");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spinBtn=null,e.stopBtn=null,e.autoBtn=null,e.turboBtn=null,e.isSpinning=new r.Values(!1),e.isLock_SpinBtn=new r.Values(!1),e.isLock_StopBtn=new r.Values(!1),e.isLock_AutoBtn=new r.Values(!1),e.isLock_TurboBtn=new r.Values(!1),e.onSpinClick=new r.Event,e.onStopClick=new r.Event,e.onAutoClick=new r.Event,e.onTurboClick=new r.Event,e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.call_onSpinBtnClick=function(){this.isLock_SpinBtn.getCurrent()||this.onSpinClick.call()},e.prototype.call_onStopBtnClick=function(){this.isLock_StopBtn.getCurrent()||this.onStopClick.call()},e.prototype.call_onTurboClick=function(){this.isLock_TurboBtn.getCurrent()||this.onTurboClick.call()},e.prototype.call_onAutoClick=function(){this.isLock_AutoBtn.getCurrent()||this.onAutoClick.call()},e.prototype.lockInput=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0);var o=t.all;void 0!==o&&(this.lockSpinBtn(o,e,n),this.lockStopBtn(o,e,n),this.lockAutoBtn(o,e,n),this.lockTurboBtn(o,e,n));var i=t.with;i&&(-1!=i.indexOf("spin")&&this.lockSpinBtn(!0,e,n),-1!=i.indexOf("stop")&&this.lockStopBtn(!0,e,n),-1!=i.indexOf("auto")&&this.lockAutoBtn(!0,e,n),-1!=i.indexOf("turbo")&&this.lockTurboBtn(!0,e,n));var r=t.without;r&&(-1!=r.indexOf("spin")&&this.lockSpinBtn(!1,e,n),-1!=r.indexOf("stop")&&this.lockStopBtn(!1,e,n),-1!=r.indexOf("auto")&&this.lockAutoBtn(!1,e,n),-1!=r.indexOf("turbo")&&this.lockTurboBtn(!1,e,n)),this.updateLock()},e.prototype.updateLock=function(){this.spinBtn.interactable=!this.isLock_SpinBtn.getCurrent(),this.stopBtn.interactable=!this.isLock_StopBtn.getCurrent(),this.autoBtn.interactable=!this.isLock_AutoBtn.getCurrent(),this.turboBtn.interactable=!this.isLock_TurboBtn.getCurrent()},e.prototype.setSpinning=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),null==e?this.isSpinning.defaultValue=t:null!=t?this.isSpinning.set(e,n,t):this.isSpinning.remove(e),this.updateSpinStop()},e.prototype.updateSpinStop=function(){var t=this.isSpinning.getCurrent();this.spinBtn.node.active=!t,this.stopBtn.node.active=t},e.prototype.lockSpinBtn=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),null==e?this.isLock_SpinBtn.defaultValue=t:t?this.isLock_SpinBtn.set(e,n,t):this.isLock_SpinBtn.remove(e)},e.prototype.lockStopBtn=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),null==e?this.isLock_StopBtn.defaultValue=t:t?this.isLock_StopBtn.set(e,n,t):this.isLock_StopBtn.remove(e)},e.prototype.lockAutoBtn=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),null==e?this.isLock_AutoBtn.defaultValue=t:t?this.isLock_AutoBtn.set(e,n,t):this.isLock_AutoBtn.remove(e)},e.prototype.lockTurboBtn=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=0),null==e?this.isLock_TurboBtn.defaultValue=t:t?this.isLock_TurboBtn.set(e,n,t):this.isLock_TurboBtn.remove(e)},i([c(cc.Button)],e.prototype,"spinBtn",void 0),i([c(cc.Button)],e.prototype,"stopBtn",void 0),i([c(cc.Button)],e.prototype,"autoBtn",void 0),i([c(cc.Button)],e.prototype,"turboBtn",void 0),e=i([a],e)}(cc.Component);n.SpinUI=l,cc._RF.pop()},{"../../../../uzil/Uzil":"Uzil"}],SpineAnimator:[function(t,e,n){"use strict";cc._RF.push(e,"fbb852rgHJD1JhZITFBmyR/","SpineAnimator");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../index_Animator"),s=t("../../Uzil"),a=t("../../System/script/Mathf"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e._playedTime=0,e._timeScale_BeforePause=-1,e._lastNormalizedTime=-1,e}return o(e,t),Object.defineProperty(e.prototype,"playedTime",{get:function(){return this._playedTime},enumerable:!0,configurable:!0}),e.prototype._onLoad=function(){var t=this;t.skeleton.setCompleteListener(function(e){if(0==e.trackIndex){t._playedTime++;for(var n=0,o=t.onTime.listeners;n<o.length;n++){o[n].other.isRunedInLoop=!1}t.onComplete.call()}}),t.skeleton.setEventListener(function(e,n){for(var o=[],i=0,r=t.onEvent.listeners;i<r.length;i++){(c=r[i]).other.eventTag==n.data.name&&(c.func(),1==c.callTime&&o.push(c))}for(var s=0,a=o;s<a.length;s++){var c=a[s];t.onEvent.remove(c)}})},e.prototype._update=function(){this._lastNormalizedTime=-1;for(var t=this.getNormalizedTime()%1,e=[],n=0,o=this.onTime.listeners;n<o.length;n++){s=o[n];t<s.other.time_percent||(s.other.isRunedInLoop||(s.func(),s.other.isRunedInLoop=!0,1==s.callTime&&e.push(s)))}for(var i=0,r=e;i<r.length;i++){var s=r[i];this.onTime.removeListener(s)}},e.prototype._play=function(t){this.skeleton.clearTracks(),this.skeleton.setAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha,this._playedTime=0},e.prototype._playAdditive=function(t){this.skeleton.addAnimation(t.trackIdx,t.name,t.isLoop).alpha=t.mixAlpha},e.prototype._stop=function(){this.skeleton.clearTracks(),this._playedTime=0},e.prototype._pause=function(){this._timeScale_BeforePause>0||(this._timeScale_BeforePause=this.skeleton.timeScale,this.skeleton.timeScale=0)},e.prototype._resume=function(){this.skeleton.timeScale=this._timeScale_BeforePause,this._timeScale_BeforePause=-1},e.prototype._setTime=function(t){this.skeleton.getCurrent(0).trackTime=t},e.prototype._getTime=function(){return this.skeleton.getCurrent(0).trackTime},e.prototype._setNormalizedTime=function(t){var e=this.skeleton.getCurrent(0);if(e){var n=e.animationEnd;this._setTime(a.Mathf.lerp(0,n,t))}},e.prototype._getNormalizedTime=function(){if(-1!=this._lastNormalizedTime)return this._lastNormalizedTime;var t,e=this.skeleton.getCurrent(0);if(!e)return-1;t=e.animationEnd;var n=e.trackTime/t;return this._lastNormalizedTime=n,n},e.prototype._setTimeScale=function(t){this.skeleton.timeScale=t},e.prototype._getTimeScale=function(){return this.skeleton.timeScale},e.prototype.example_script=function(){var t=this;this.parameter.isToY=!1;var e=new r.AnimClip("xMove").track(0).loop().alpha(1),n=new r.AnimClip("yMove").track(1).loop(),o=new r.AnimClip("xMove").track(0).loop().alpha(.1),i=new r.AnimState("stateX");i.addClip(e);var a=new r.AnimState("stateY");a.addClip(n),a.addClip(o);var c=(new r.AnimTransition).next(a);c.exitTime=2;var l=new r.AnimCondition("isToY",s.Comparer.EQUAL,!0);c.addCondition(l);var u=(new r.AnimTransition).next(i);u.exitTime=2,i.addTransition(c),a.addTransition(u),this.addState(i),this.addState(a),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},e.prototype.example_data=function(){var t=this;this.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove",isLoop:!0}],transitions:[{nextState:"stateY",exitTime:2,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove",isLoop:!0,track:0},{name:"yMove",isLoop:!0,track:1}],transitions:[{nextState:"stateX",exitTime:2,conditions:[]}]}]}),this.scheduleOnce(function(){t.set("isToY",!0)},1),this.scheduleOnce(function(){t.set("isToY",!1)},20)},i([u(sp.Skeleton)],e.prototype,"skeleton",void 0),e=i([l],e)}(r.Animator);n.SpineAnimator=p,cc._RF.pop()},{"../../System/script/Mathf":"Mathf","../../Uzil":"Uzil","../index_Animator":"index_Animator"}],StateCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"fe89c2o/fpFHJIXEP2Bt928","StateCtrl"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_State"),i=t("../../Event/index_Event"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowDebug=!1,e.user=null,e.isLockState=!1,e._nextState=null,e.defaultState="",e.states=[],e.currentState=null,e.onStateChange=new i.Event,e}return __extends(e,t),e.prototype.init=function(t){void 0===t&&(t=null),this.user=t,this.go(this.defaultState)},e.prototype.go=function(t){for(var e=0,n=this.states;e<n.length;e++){var o=n[e];if(o.stateName==t){this.goState(o);break}}},e.prototype.goState=function(t,e){if(void 0===e&&(e=!1),t&&this.currentState!=t&&(this._nextState=t,!this.isLockState||e)){var n=this.currentState;this.currentState&&this.currentState.onExit(),this.currentState=t,this.isShowDebug&&cc.log("[StateCtrl] goState : "+t.stateName),t.isInited||t.init(this.user),t.onEnter(),this.onStateChange.call(n,t)}},e.prototype.lockState=function(){this.isLockState=!0},e.prototype.unlockState=function(){this.isLockState=!1,this.updateState()},e.prototype.updateState=function(){this.goState(this._nextState,!0)},__decorate([a()],e.prototype,"isShowDebug",void 0),__decorate([a()],e.prototype,"isLockState",void 0),__decorate([a()],e.prototype,"defaultState",void 0),__decorate([a(o.State)],e.prototype,"states",void 0),e=__decorate([s],e)}(cc.Component);n.StateCtrl=c,cc._RF.pop()},{"../../Event/index_Event":"index_Event","../index_State":"index_State"}],State:[function(t,e,n){"use strict";cc._RF.push(e,"5af78IiwX5MaJxMaBMVOXCc","State"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.user=null,e._isActive=!1,e._isInited=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInited",{get:function(){return this._isInited},enumerable:!0,configurable:!0}),e.prototype.start=function(){},e.prototype.update=function(t){this.isActive&&this.onUpdate(t)},e.prototype.init=function(t){this.user=t,this._init(t),this._isInited=!0},e.prototype.onEnter=function(){this._isActive=!0,this._onEnter()},e.prototype.onUpdate=function(t){this._onUpdate(t)},e.prototype.onExit=function(){this._isActive=!1,this._onExit()},e.prototype._init=function(t){},e.prototype._onEnter=function(){},e.prototype._onUpdate=function(t){},e.prototype._onExit=function(){},__decorate([r()],e.prototype,"stateName",void 0),e=__decorate([i],e)}(cc.Component);n.State=s,cc._RF.pop()},{}],Stringf:[function(t,e,n){"use strict";cc._RF.push(e,"77ec9ds1IRDtLTZIxCqOKUA","Stringf"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prefix0=function(t,e){return(Array(e).join("0")+t).slice(-e)},t.decimalSeparator=function(t){return t.toLocaleString("en-us")},t}();n.Stringf=o,cc._RF.pop()},{}],StripParse:[function(t,e,n){"use strict";cc._RF.push(e,"269779hjqZA85FVc/q1CMRu","StripParse"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../Reel/index_Reel"),i=t("../../../Rule/index_Rule"),r={normal:function(t){for(var e=[],n=0,r=t;n<r.length;n++){var s=r[n],a=new o.ReelStripData;a.blockPerCol_forAnim=i.ReelRule.reelBlockPerCol;for(var c=[],l=0,u=0;u<s.length;u++){var p=s[u],h=new o.ReelColData;h.idx=u;h.sizeLevel=2;h.displayRange_relative=[1,1],h.triggerRange_relative=[1,1],h.pos=l+1,l+=2,h.symbol=p,h.addTag("resultable"),c.push(h)}a.setCols(c),e.push(a)}return e},megaways:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],s=new o.ReelStripData;s.blockPerCol_forAnim=i.ReelRule.reelBlockPerCol;for(var a=[],c=0,l=0;l<r.length;l++){var u=r[l],p=new o.ReelColData;p.idx=l;p.sizeLevel=2;p.displayRange_relative=[1,1],p.triggerRange_relative=[1,1],p.pos=c+1,c+=2,p.symbol=u,p.addTag("resultable"),a.push(p)}s.setCols(a),e.push(s)}return e},freeways:function(t){for(var e=[],n=0,r=t;n<r.length;n++){var s=r[n],a=new o.ReelStripData;a.blockPerCol_forAnim=i.ReelRule.reelBlockPerCol;for(var c=[],l=0,u=0;u<s.length;u++){var p=s[u],h=new o.ReelColData;h.idx=u;var f=2;if(p!=i.SymbolCode.H1&&p!=i.SymbolCode.SC){var d=u*u;d%3==0?f=1:d%4==0&&(f=3)}h.sizeLevel=f;var _=.5*f;h.displayRange_relative=[_,_],h.triggerRange_relative=[_,_],h.pos=l+_,l+=f,h.symbol=p,h.addTag("resultable"),c.push(h)}a.setCols(c),e.push(a)}return e}};n.StripParse=r,cc._RF.pop()},{"../../../Reel/index_Reel":"index_Reel","../../../Rule/index_Rule":"index_Rule"}],SymbolCode:[function(t,e,n){"use strict";cc._RF.push(e,"85556m8AaZBY6ndbLybUunQ","SymbolCode"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.NONE=0]="NONE",t[t.N1=1]="N1",t[t.N2=2]="N2",t[t.N3=3]="N3",t[t.N4=4]="N4",t[t.N5=5]="N5",t[t.N6=6]="N6",t[t.N7=7]="N7",t[t.N8=8]="N8",t[t.N9=9]="N9",t[t.H1=11]="H1",t[t.H2=12]="H2",t[t.H3=13]="H3",t[t.H4=14]="H4",t[t.H5=15]="H5",t[t.H6=16]="H6",t[t.H7=17]="H7",t[t.H8=18]="H8",t[t.H9=19]="H9",t[t.WD=20]="WD",t[t.W1=21]="W1",t[t.W2=22]="W2",t[t.W3=23]="W3",t[t.W4=24]="W4",t[t.W5=25]="W5",t[t.W6=26]="W6",t[t.W7=27]="W7",t[t.W8=28]="W8",t[t.W9=29]="W9",t[t.SC=30]="SC",t[t.S1=31]="S1",t[t.S2=32]="S2",t[t.S3=33]="S3",t[t.S4=34]="S4",t[t.S5=35]="S5",t[t.S6=36]="S6",t[t.S7=37]="S7",t[t.S8=38]="S8",t[t.S9=39]="S9",t[t.O1=41]="O1",t[t.O2=42]="O2",t[t.O3=43]="O3",t[t.O4=44]="O4",t[t.O5=45]="O5",t[t.O6=46]="O6",t[t.O7=47]="O7",t[t.O8=48]="O8",t[t.O9=49]="O9"}(n.SymbolCode||(n.SymbolCode={})),cc._RF.pop()},{}],SymbolRes:[function(t,e,n){"use strict";cc._RF.push(e,"55fae0/711OvITQc6JuGmDw","SymbolRes");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../Rule/index_Rule"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(){function t(){this.symbol=r.SymbolCode.NONE,this.spriteID=""}return i([c({type:cc.Enum(r.SymbolCode)})],t.prototype,"symbol",void 0),i([c()],t.prototype,"spriteID",void 0),t=i([a("SymbolResEach")],t)}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbols=[],e._symbol2spID=new Map,e}var n;return o(e,t),n=e,e.Get=function(t){return null==n.instance?null:t==r.SymbolCode.NONE?null:n.instance.get(t)},e.prototype.onLoad=function(){null==n.instance&&(n.instance=this);for(var t=n.instance,e=0,o=this.symbols;e<o.length;e++){var i=o[e];i.symbol!=r.SymbolCode.NONE&&t._symbol2spID.set(i.symbol,i.spriteID)}},e.prototype.get=function(t){var e=n.instance;return 0==e._symbol2spID.has(t)?null:e._symbol2spID.get(t)},e.instance=null,i([c(l)],e.prototype,"symbols",void 0),e=n=i([a],e)}(cc.Component);n.SymbolRes=u,cc._RF.pop()},{"../../../Rule/index_Rule":"index_Rule"}],Template:[function(t,e,n){"use strict";cc._RF.push(e,"832fekA891AkZW8k5uIuGwk","Template"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Template",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"size",type:i.PARAM_FLOAT,defaultValue:1},{name:"weightTex",type:i.PARAM_TEXTURE_2D,defaultValue:null}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var n=t.size;e.setParam("size",n);var o=e.time;e.setParam("time",o%1.5)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\t\tuniform vec4 color;\n\t\tuniform float size;\n\t\tuniform float time;\n\t\tvarying vec2 uv0;\n\t\tvoid main () {\n\t\t\t// gl_FragColor = texture2D(texture, uv0);\n\t\t\tvec4 sum = vec4(0.0);\n\t\t\tfloat delta = time;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*4.) * size) * 0.05;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*3.) * size) * 0.09;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*2.) * size) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 - vec2(0, delta*1.) * size) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 ) * 0.18;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*1.) * size) * 0.15;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*2.) * size) * 0.12;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*3.) * size) * 0.09;\n\t\t\tsum += texture2D(texture, uv0 + vec2(0, delta*4.) * size) * 0.05;\n\t\t\t\n\t\t\tvec4 vectemp = vec4(0,0,0,0);\n\t\t\tvec4 substract = vec4(0,0,0,0);\n\t\t\tvectemp = (sum - substract) * color;\n\t\t\n\t\t\tfloat alpha = texture2D(texture, uv0).a;\n\t\t\tif (alpha < 0.05) { \n\t\t\t\tgl_FragColor = vec4(0 , 0 , 0 , 0); \n\t\t\t} else {\n\t\t\t\tgl_FragColor = vectemp;\n\t\t\t}\n\t\t}\n\t"};o.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],TimeInstance:[function(t,e,n){"use strict";cc._RF.push(e,"051f0JL4N9CbKmLNrZClAih","TimeInstance"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./TimeUser"),i=function(){function t(){this.timeScale=1,this.time=0,this.users=[]}return t.prototype.update=function(t){this.time+=t*this.timeScale},t.prototype.requestTimeScale=function(t,e,n){var i=this.getUser(t);null==i&&((i=new o.TimeUser).name=t,this.users.push(i)),i.priority=e,i.toSetTimeScale=n,this.sortUser()},t.prototype.removeTimeScale=function(t){for(var e=[],n=0,o=this.users;n<o.length;n++){(s=o[n]).name==t&&e.push(s)}for(var i=0,r=e;i<r.length;i++){var s=r[i];this.users.splice(this.users.indexOf(s),1)}},t.prototype.getUser=function(t){for(var e=0,n=this.users;e<n.length;e++){var o=n[e];if(o.name==t)return o}return null},t.prototype.sortUser=function(){this.users.sort(function(t,e){return e.priority-t.priority}),this.users.length>0&&(this.timeScale=this.users[0].toSetTimeScale)},t}();n.TimeInstance=i,cc._RF.pop()},{"./TimeUser":"TimeUser"}],TimeUser:[function(t,e,n){"use strict";cc._RF.push(e,"ce32fXk2sZJspcV4/Slbj1Z","TimeUser"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=(o.ccclass,o.property,function(){return function(){this.name="",this.priority=5,this.toSetTimeScale=1}}());n.TimeUser=i,cc._RF.pop()},{}],Time:[function(t,e,n){"use strict";cc._RF.push(e,"9b3ae+50O9J+qeExQnbNE22","Time"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=t("./TimeInstance"),r=cc._decorator,s=r.ccclass,a=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id2instance=new Map,e}var n;return __extends(e,t),n=e,e._getInstance=function(){return o.Uzil.getComp("Time")},e.get=function(t){void 0===t&&(t="_default");var e=n._getInstance();return 0==e.id2instance.has(t)&&e.id2instance.set(t,new i.TimeInstance),e.id2instance.get(t)},Object.defineProperty(e,"since",{get:function(){return(Date.now()-n._getInstance()._sinceDate)/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"timeScale",{get:function(){return n.get().timeScale},set:function(t){n.get().timeScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"time",{get:function(){return n.get().time},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this._sinceDate||(this._sinceDate=Date.now())},e.prototype.update=function(t){this.id2instance.forEach(function(e,n){e.update(t)})},e=n=__decorate([s],e)}(cc.Component));n.Time=a,cc._RF.pop()},{"../../Uzil":"Uzil","./TimeInstance":"TimeInstance"}],UniqID:[function(t,e,n){"use strict";cc._RF.push(e,"7284cMYxbZFlogSV/z/HiGD","UniqID"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.idList=[]}return t.get=function(e){var n;return t.group2Ids.has(e)?n=t.group2Ids.get(e):(n=new t,t.group2Ids.set(e,n)),n},t.prototype.request=function(){for(var t=0;-1!=this.idList.indexOf(t);)t+=1;return this.idList.push(t),t},t.prototype.release=function(t){var e=this.idList.indexOf(t);-1!=e&&this.idList.splice(e,1)},t.group2Ids=new Map,t}();n.UniqID=o,cc._RF.pop()},{}],UrlArgs:[function(t,e,n){"use strict";cc._RF.push(e,"fe5dfWO37hLjrloBTNLK7io","UrlArgs"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.get=function(t){var e=new URL(location.href).searchParams;return""==e.toString()?null:e.has(t)?e.get(t):null},t}();n.UrlArgs=o,cc._RF.pop()},{}],Uzil:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"53017N1bsBAuZ55KIykWkjt","Uzil"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./System/index_System")),o(t("./Time/index_Time")),o(t("./Invoker/index_Invoker")),o(t("./Event/index_Event")),o(t("./Shuriken/index_Shuriken")),o(t("./Animator/index_Animator")),o(t("./AniTween/index_AniTween")),o(t("./PageCard/index_PageCard")),o(t("./Bezier/index_Bezier")),o(t("./Curve/index_Curve")),o(t("./State/index_State")),o(t("./AudioMng/index_AudioMng")),o(t("./Async/index_Async")),o(t("./i18n/index_i18n")),o(t("./UI/index_UI")),o(t("./Values/index_Values")),o(t("./ObjPool/index_ObjPool")),o(t("./Macro/Macro"));var i=function(){function t(){}return t.getRootNode=function(){var e=t._rootNode;return e||((e=cc.find("_Uzil"))?(t._rootNode=e,e):((e=new cc.Node).name="_Uzil",e.parent=cc.director.getScene(),cc.game.addPersistRootNode(e),t._rootNode=e,e))},t.getComp=function(e){var n=t._compList[e];if(n)return n;var o=t.getRootNode();return(n=o.getComponent(e))?(t._compList[e]=n,n):(n=o.addComponent(e),t._compList[e]=n,n)},t._rootNode=null,t._compList=[],t}();n.Uzil=i,cc._RF.pop()},{"./AniTween/index_AniTween":"index_AniTween","./Animator/index_Animator":"index_Animator","./Async/index_Async":"index_Async","./AudioMng/index_AudioMng":"index_AudioMng","./Bezier/index_Bezier":"index_Bezier","./Curve/index_Curve":"index_Curve","./Event/index_Event":"index_Event","./Invoker/index_Invoker":"index_Invoker","./Macro/Macro":"Macro","./ObjPool/index_ObjPool":"index_ObjPool","./PageCard/index_PageCard":"index_PageCard","./Shuriken/index_Shuriken":"index_Shuriken","./State/index_State":"index_State","./System/index_System":"index_System","./Time/index_Time":"index_Time","./UI/index_UI":"index_UI","./Values/index_Values":"index_Values","./i18n/index_i18n":"index_i18n"}],Values_User:[function(t,e,n){"use strict";cc._RF.push(e,"2aee5LSdG9GYL35+bQei92A","Values_User"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){return function(t,e,n){this.priority=0,this.name=t,this.priority=e,this.value=n}}();n.Values_User=o,cc._RF.pop()},{}],Values:[function(t,e,n){"use strict";cc._RF.push(e,"dfcc18OTN9F+5o2XVuUytzb","Values"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_Values"),i=function(){function t(t){this.users=[],this.defaultValue=t}return t.prototype.getCurrent=function(){return this.users.length<=0?this.defaultValue:this.users[0].value},t.prototype.get=function(t){for(var e=0,n=this.users;e<n.length;e++){var o=n[e];if(o.name==t)return o}return null},t.prototype.set=function(t,e,n){var i=this.get(t);null==i?(i=new o.Values_User(t,e,n),this.add(i)):(i.priority=e,i.value=n),this.sort()},t.prototype.setPriority=function(t,e){var n=this.get(t);null!=n&&(n.priority=e,this.sort())},t.prototype.setValue=function(t,e){var n=this.get(t);null!=n&&(n.value=e)},t.prototype.add=function(t){-1==this.users.indexOf(t)&&(this.users.push(t),this.users.sort())},t.prototype.remove=function(t){var e=this,n=[];e.users.forEach(function(e){e!=t&&e.name!=t||n.push(e)}),n.forEach(function(t){e.users.splice(e.users.indexOf(t),1)})},t.prototype.clear=function(){this.users.splice(0,this.users.length)},t.prototype.sort=function(){this.users.sort(function(t,e){return e.priority-t.priority})},t}();n.Values=i,cc._RF.pop()},{"../index_Values":"index_Values"}],WalletUI:[function(t,e,n){"use strict";cc._RF.push(e,"63108yBA6hF86IaPqZIGP1V","WalletUI");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../uzil/Uzil"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.balance_title=null,e.balance_value=null,e.win_title=null,e.win_value=null,e.bet_title=null,e.bet_value=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.setBalance=function(t){this.balance_value.string=t.toString()},e.prototype.setWin=function(t){this.win_value.string=t.toString()},e.prototype.setBet=function(t){this.bet_value.string=t.toString()},i([c(r.i18nLabelExt)],e.prototype,"balance_title",void 0),i([c(cc.Label)],e.prototype,"balance_value",void 0),i([c(r.i18nLabelExt)],e.prototype,"win_title",void 0),i([c(cc.Label)],e.prototype,"win_value",void 0),i([c(r.i18nLabelExt)],e.prototype,"bet_title",void 0),i([c(cc.Label)],e.prototype,"bet_value",void 0),e=i([a],e)}(cc.Component);n.WalletUI=l,cc._RF.pop()},{"../../uzil/Uzil":"Uzil"}],Wave:[function(t,e,n){"use strict";cc._RF.push(e,"740ccrQKVdGHIYLksKuURTt","Wave"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../core/ShaderManager"),i=cc.renderer.renderEngine.renderer,r={name:"Wave",params:[{name:"time",type:i.PARAM_FLOAT,defaultValue:0},{name:"offset",type:i.PARAM_FLOAT2,defaultValue:new cc.Vec2(0,0)},{name:"weightTex",type:i.PARAM_TEXTURE_2D,defaultValue:null}],defines:[],start:function(){},update:function(t){var e=t.component;if(e){var n=t.offset;e.setParam("offset",n);var o=t.weightTex;e.setTexture("weightTex",o)}},vert:"\n\t\tuniform mat4 viewProj;\n\t\tattribute vec4 a_position;\n\t\tattribute vec2 a_uv0;\n\t\tvarying vec2 uv0;\n\n\t\tuniform sampler2D weightTex;\n\t\tuniform float time;\n\t\tuniform vec2 offset;\n\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec4 new = viewProj * a_position;\n\t\t\tgl_Position = new;\n\t\t\tuv0 = a_uv0;\n\t\t}\n\t",frag:"\n\t\tuniform sampler2D texture;\n\n\t\tuniform sampler2D weightTex;\n\t\tuniform float time;\n\t\tuniform vec2 offset;\n\n\t\tvarying vec2 uv0;\n\t\t\n\t\tvoid main() {\n\t\t\tvec2 coord = uv0;\n\t\t\tfloat weighted = texture2D(weightTex, uv0).r;\n\t\t\tcoord.x += (sin(coord.y * 30.0 - time * 3.0) / 30.0 * offset.x * weighted);\n\t\t\tcoord.y += (sin(coord.x * 10.0 - time * 3.0) / 30.0 * offset.y * weighted);\n\t\t\tgl_FragColor = texture2D(texture, coord);\n\t\t}\n\t"};o.default.addShader(r),cc._RF.pop()},{"../core/ShaderManager":"ShaderManager"}],WinData:[function(t,e,n){"use strict";cc._RF.push(e,"2d785hpoo9DFKKBvUSnKD7X","WinData"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.code=0,this.symbol=0,this.count=0,this.winBonus=0,this.path=[]}return t.prototype.getCopy=function(){var e=new t;return e.code=this.code,e.symbol=this.symbol,e.count=this.count,e.winBonus=this.winBonus,e.path=this.path.slice(),e},t}();n.WinData=o,cc._RF.pop()},{}],WinTest:[function(t,e,n){"use strict";cc._RF.push(e,"0c1acLhhdlCgobkMRSo0Xqy","WinTest");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./WinsRule"),s=t("./const/OddsTable"),a=cc._decorator,c=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.XX="",e}return o(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){cc.log(r.WinsRule.getWinDataList_Line(10,[[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0]],s.OddsTable.main,!1))},e.prototype.update=function(t){},i([l()],e.prototype,"XX",void 0),e=i([c],e)}(cc.Component);n.WinTest=u,cc._RF.pop()},{"./WinsRule":"WinsRule","./const/OddsTable":"OddsTable"}],WinsRule:[function(t,e,n){"use strict";cc._RF.push(e,"15abb7SKjtAM6RvB/H5tg94","WinsRule"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../uzil/Uzil"),i=t("../../Slot/index_Slot"),r=t("../index_Rule"),s=function(){function t(){}return t.getWinDataList_Line=function(t,e,n){for(var o=[],i=0;i<r.LineTable.length;i++){for(var s=r.LineTable[i],a=[],c=r.SymbolCode.NONE,l=0;l<s.length;l++){var u=s[l];if((y=e[l][u])!=r.SymbolCode.WD&&y!=r.SymbolCode.SC){c=y;break}}if(c!=r.SymbolCode.NONE){var p=0;for(l=0;l<s.length;l++){u=s[l];if((y=e[l][u])!=c&&y!=r.SymbolCode.WD)break;p++}if(p>=3)(h=new r.WinData).code=i+1,h.symbol=c,h.count=p,h.winBonus=t*n[h.symbol][h.count],a.push(h);var h,f=0,d=s[0],_=e[0][d];for(l=0;l<s.length;l++){u=s[l];var y=e[l][u];_==r.SymbolCode.WD&&y==r.SymbolCode.WD&&f++}if(f>=3)(h=new r.WinData).code=i+1,h.symbol=r.SymbolCode.WD,h.count=f,h.winBonus=t*n[h.symbol][h.count],a.push(h);a.length>0&&(a.sort(function(t,e){return t.winBonus<e.winBonus?1:-1}),o.push(a[0]))}}return o},t.getWinDataList_Way=function(e,n,s,a){var c=[];n=n.map(function(t){return t.map(function(t){if(-1!=t.tags.indexOf("resultable"))return t}).filter(function(t){return void 0!=t})});var l,u=a.extraReelResult,p=a.extra2BaseReelIdx,h=a.baseResultReelIdxs,f=a.extraResultReelIdxs;if(u){var d=n;p||(p=t.extra2BaseReelIdx),h||(h=t.baseResultReelIdxs),f||(f=t.extraResultReelIdxs),l=[];for(var _=0;_<d.length;_++)l.push(new Map);for(var y=0;y<u.length;y++){var v=u[y],g=f[y],m=o.Mathf.min(p.length,v.length);for(_=0;_<m;_++){var b=p[_],S=h.indexOf(b),R=d[S],x=v[_].getCopy(),P=x.idx,O=i.SlotUtil.requestExColIdx(b);x.idx=O,R.unshift(x),(V=l[S]).set(O,{extraReelIdx:g,col:P})}}}var w=function(n,o){if(o.length>=3){var i=new r.WinData;i.code=-1,i.symbol=n,i.count=o.length;var a=s[r.SymbolCode[i.symbol]];null==a?(cc.log("[ResultTest]: symbol table not exist:"+i.symbol),i.winBonus=0):i.winBonus=e/t.betBase*a[i.count],i.path=o;for(var l=0,u=c;l<u.length;l++){var p=u[l],h=!0;if(p.path.length==i.path.length){for(var f=0;f<i.path.length;f++)if(i.path[f]!=p.path[f]){h=!1;break}if(h)return}}c.push(i)}},C=null;C=function(t,e,o,i){var s=n[t][e],a=s.symbol;if(null==o&&0==i.length&&(o=a),a==r.SymbolCode.NONE)return!1;var c=o==r.SymbolCode.WD,l=o==r.SymbolCode.SC,u=a==r.SymbolCode.WD,p=a==r.SymbolCode.SC,h=o==a;if(c&&!u){if(p)return!1;o=a}else if(!h&&!u&&!c)return!1;if(l&&u)return!1;if(p)return!1;i[t]=s.idx;var f=t+1;if(f>=n.length)return w(o,i),!0;for(var d=n[f],_=!1,y=0;y<d.length;y++){C(f,y,o,i.slice())&&(_=!0)}return!!_||(w(o,i),!0)};for(var A=0;A<n[0].length;A++)C(0,A,null,[]);for(var T={},M=0,I=c;M<I.length;M++){var D=I[M],j=void 0,E=T[F=D.symbol.toString()];if(E){(j=E).winBonus+=D.winBonus;var k=j.path.length>D.path.length?j.path:D.path;for(y=0;y<k.length;y++){void 0!=(N=D.path[y])&&(-1==j.path[y].indexOf(N)&&j.path[y].push(N))}}else{(j=new r.WinData).symbol=D.symbol,j.winBonus=D.winBonus,j.path=[];for(var y=0;y<D.path.length;y++){var N=D.path[y];j.path[y]=[N]}T[F]=j}}for(var F in c=[],T)c.push(T[F]);if(u){d=n;for(var L=0,z=c;L<z.length;L++){var U=z[L],B=U.path.length;for(y=0;y<B;y++)if(-1!=p.indexOf(y))for(var V=l[y],W=U.path[y],G=W.slice(),q=0;q<G.length;q++){A=G[q];if(0!=V.has(A)){for(var H=V.get(A),Y=(P=H.col,g=H.extraReelIdx,h.length+f.indexOf(g));U.path.length<Y+1;)U.path.push([]);var X=U.path[Y];-1==X.indexOf(P)&&X.push(P),W.splice(q,1)}}}var J=function(t){var e=p[t],n=h.indexOf(e),o=d[n];l[n].forEach(function(t,n){var r=n,s=o.findIndex(function(t){return t.idx==r});-1!=s&&o.splice(s,1),i.SlotUtil.recoveryExColIdx(e,r)})};for(_=0;_<p.length;_++)J(_)}return c},t.betBase=30,t.baseResultReelIdxs=[0,1,2,3,4],t.extraResultReelIdxs=[5],t.extra2BaseReelIdx=[3,2,1],t}();n.WinsRule=s,cc._RF.pop()},{"../../../uzil/Uzil":"Uzil","../../Slot/index_Slot":"index_Slot","../index_Rule":"index_Rule"}],bezier:[function(t,e,n){"use strict";cc._RF.push(e,"6aa47f/H45DDaJHBdz8trep","bezier"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./utils"),i=t("./poly-bezier"),r=t("./svg-to-beziers"),s=Math.abs,a=Math.min,c=Math.max,l=Math.cos,u=Math.sin,p=Math.acos,h=Math.sqrt,f=Math.PI,d={x:0,y:0,z:0},_=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=t&&t.forEach?t:[].slice.call(arguments),r=!1;if("object"==typeof i[0]){r=i.length;var a=[];i.forEach(function(t){["x","y","z"].forEach(function(e){void 0!==t[e]&&a.push(t[e])})}),i=a}var c=!1,l=i.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");c=!0}}else if(6!==l&&8!==l&&9!==l&&12!==l&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var u=!c&&(9===l||12===l)||t&&t[0]&&void 0!==t[0].z;this._3d=u;for(var p=[],h=0,f=u?3:2;h<l;h+=f){var d={x:i[h],y:i[h+1]};u&&(d.z=i[h+2]),p.push(d)}this.order=p.length-1,this.points=p;var _=["x","y"];u&&_.push("z"),this.dims=_,this.dimlen=_.length,function(t){for(var e=t.order,n=t.points,i=o.default.align(n,{p1:n[0],p2:n[e]}),r=0;r<i.length;r++)if(s(i[r].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};function y(t,e,n,i,r){void 0===r&&(r=.5);var s=o.default.projectionratio(r,t),a=1-s,c={x:s*e.x+a*i.x,y:s*e.y+a*i.y},l=o.default.abcratio(r,t);return{A:{x:n.x+(n.x-c.x)/l,y:n.y+(n.y-c.y)/l},B:n,C:c}}_.SVGtoBeziers=function(t){return r.default(_,t)},_.quadraticFromPoints=function(t,e,n,o){if(void 0===o&&(o=.5),0===o)return new _(e,e,n);if(1===o)return new _(t,e,e);var i=y(2,t,e,n,o);return new _(t,i.A,n)},_.cubicFromPoints=function(t,e,n,i,r){void 0===i&&(i=.5);var s=y(3,t,e,n,i);void 0===r&&(r=o.default.dist(e,s.C));var a=r*(1-i)/i,c=o.default.dist(t,n),l=(n.x-t.x)/c,u=(n.y-t.y)/c,p=r*l,h=r*u,f=a*l,d=a*u,v=e.x-p,g=e.y-h,m=e.x+f,b=e.y+d,S=s.A,R=S.x+(v-S.x)/(1-i),x=S.y+(g-S.y)/(1-i),P=S.x+(m-S.x)/i,O=S.y+(b-S.y)/i,w={x:t.x+(R-t.x)/i,y:t.y+(x-t.y)/i},C={x:n.x+(P-n.x)/(1-i),y:n.y+(O-n.y)/(1-i)};return new _(t,w,C,n)};var v=function(){return o.default};_.getUtils=v,_.PolyBezier=i.default,_.prototype={getUtils:v,valueOf:function(){return this.toString()},toString:function(){return o.default.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var e=this.points,n=["M",e[0].x,e[0].y,2===this.order?"Q":"C"],o=1,i=e.length;o<i;o++)n.push(e[o].x),n.push(e[o].y);return n.join(" ")},update:function(){this._lut=[],this.dpoints=o.default.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var t=this.points,e=o.default.angle(t[0],t[this.order],t[1]);this.clockwise=e>0},length:function(){return o.default.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(var e=0;e<=t;e++)this._lut.push(this.compute(e/t));return this._lut},on:function(t,e){e=e||5;for(var n,i=this.getLUT(),r=[],s=0,a=0;a<i.length;a++)n=i[a],o.default.dist(n,t)<e&&(r.push(n),s+=a/i.length);return!!r.length&&s/r.length},project:function(t){var e=this.getLUT(),n=e.length-1,i=o.default.closest(e,t),r=i.mdist,s=i.mpos;if(0===s||s===n){var a=s/n,c=this.compute(a);return c.t=a,c.d=r,c}var l,u,p,h=(s+1)/n,f=.1/n;for(r+=1,l=a=(s-1)/n;a<h+f;a+=f)u=this.compute(a),(p=o.default.dist(t,u))<r&&(r=p,l=a);return(u=this.compute(l)).t=l,u.d=r,u},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){return o.default.compute(t,this.points,this._3d)},raise:function(){for(var t,e,n=this.points,o=[n[0]],i=n.length,r=1;r<i;r++)t=n[r],e=n[r-1],o[r]={x:(i-r)/i*t.x+r/i*e.x,y:(i-r)/i*t.y+r/i*e.y};return o[i]=n[i-1],new _(o)},derivative:function(t){var e,n,o=1-t,i=0,r=this.dpoints[0];2===this.order&&(r=[r[0],r[1],d],e=o,n=t),3===this.order&&(e=o*o,n=o*t*2,i=t*t);var s={x:e*r[0].x+n*r[1].x+i*r[2].x,y:e*r[0].y+n*r[1].y+i*r[2].y};return this._3d&&(s.z=e*r[0].z+n*r[1].z+i*r[2].z),s},curvature:function(t){return o.default.curvature(t,this.points,this._3d)},inflections:function(){return o.default.inflections(this.points)},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var e=this.derivative(t),n=h(e.x*e.x+e.y*e.y);return{x:-e.y/n,y:e.x/n}},__normal3:function(t){var e=this.derivative(t),n=this.derivative(t+.01),o=h(e.x*e.x+e.y*e.y+e.z*e.z),i=h(n.x*n.x+n.y*n.y+n.z*n.z);e.x/=o,e.y/=o,e.z/=o,n.x/=i,n.y/=i,n.z/=i;var r={x:n.y*e.z-n.z*e.y,y:n.z*e.x-n.x*e.z,z:n.x*e.y-n.y*e.x},s=h(r.x*r.x+r.y*r.y+r.z*r.z);r.x/=s,r.y/=s,r.z/=s;var a=[r.x*r.x,r.x*r.y-r.z,r.x*r.z+r.y,r.x*r.y+r.z,r.y*r.y,r.y*r.z-r.x,r.x*r.z-r.y,r.y*r.z+r.x,r.z*r.z];return{x:a[0]*e.x+a[1]*e.y+a[2]*e.z,y:a[3]*e.x+a[4]*e.y+a[5]*e.z,z:a[6]*e.x+a[7]*e.y+a[8]*e.z}},hull:function(t){var e,n=this.points,i=[],r=[],s=0,a=0,c=0;for(r[s++]=n[0],r[s++]=n[1],r[s++]=n[2],3===this.order&&(r[s++]=n[3]);n.length>1;){for(i=[],a=0,c=n.length-1;a<c;a++)e=o.default.lerp(t,n[a],n[a+1]),r[s++]=e,i.push(e);n=i}return r},split:function(t,e){if(0===t&&e)return this.split(e).left;if(1===e)return this.split(t).right;var n=this.hull(t),i={left:2===this.order?new _([n[0],n[3],n[5]]):new _([n[0],n[4],n[7],n[9]]),right:2===this.order?new _([n[5],n[4],n[2]]):new _([n[9],n[8],n[6],n[3]]),span:n};return i.left._t1=o.default.map(0,0,1,this._t1,this._t2),i.left._t2=o.default.map(t,0,1,this._t1,this._t2),i.right._t1=o.default.map(t,0,1,this._t1,this._t2),i.right._t2=o.default.map(1,0,1,this._t1,this._t2),e?(e=o.default.map(e,t,1,0,1),i.right.split(e).left):i},extrema:function(){var t,e,n={},i=[];return this.dims.forEach(function(r){e=function(t){return t[r]},t=this.dpoints[0].map(e),n[r]=o.default.droots(t),3===this.order&&(t=this.dpoints[1].map(e),n[r]=n[r].concat(o.default.droots(t))),n[r]=n[r].filter(function(t){return t>=0&&t<=1}),i=i.concat(n[r].sort(o.default.numberSort))}.bind(this)),i=i.sort(o.default.numberSort).filter(function(t,e){return i.indexOf(t)===e}),n.values=i,n},bbox:function(){var t=this.extrema(),e={};return this.dims.forEach(function(n){e[n]=o.default.getminmax(this,n,t[n])}.bind(this)),e},overlaps:function(t){var e=this.bbox(),n=t.bbox();return o.default.bboxoverlap(e,n)},offset:function(t,e){if(void 0!==e){var n=this.get(t),o=this.normal(t),i={c:n,n:o,x:n.x+o.x*e,y:n.y+o.y*e};return this._3d&&(i.z=n.z+o.z*e),i}if(this._linear){var r=this.normal(0),s=this.points.map(function(e){var n={x:e.x+t*r.x,y:e.y+t*r.y};return e.z&&o.z&&(n.z=e.z+t*r.z),n});return[new _(s)]}return this.reduce().map(function(e){return e.scale(t)})},simple:function(){if(3===this.order){var t=o.default.angle(this.points[0],this.points[3],this.points[1]),e=o.default.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&e<0||t<0&&e>0)return!1}var n=this.normal(0),i=this.normal(1),r=n.x*i.x+n.y*i.y;return this._3d&&(r+=n.z*i.z),s(p(r))<f/3},reduce:function(){var t,e,n=0,i=0,r=[],a=[],c=this.extrema().values;for(-1===c.indexOf(0)&&(c=[0].concat(c)),-1===c.indexOf(1)&&c.push(1),n=c[0],t=1;t<c.length;t++)i=c[t],(e=this.split(n,i))._t1=n,e._t2=i,r.push(e),n=i;return r.forEach(function(t){for(n=0,i=0;i<=1;)for(i=n+.01;i<=1.01;i+=.01)if(!(e=t.split(n,i)).simple()){if(s(n-(i-=.01))<.01)return[];(e=t.split(n,i))._t1=o.default.map(n,0,1,t._t1,t._t2),e._t2=o.default.map(i,0,1,t._t1,t._t2),a.push(e),n=i;break}n<1&&((e=t.split(n,1))._t1=o.default.map(n,0,1,t._t1,t._t2),e._t2=t._t2,a.push(e))}),a},scale:function(t){var e=this.order,n=!1;if("function"==typeof t&&(n=t),n&&2===e)return this.raise().scale(n);var i=this.clockwise,r=n?n(0):t,s=n?n(1):t,a=[this.offset(0,10),this.offset(1,10)],c=o.default.lli4(a[0],a[0].c,a[1],a[1].c);if(!c)throw new Error("cannot scale this curve. Try reducing it first.");var l=this.points,u=[];return[0,1].forEach(function(t){var n=u[t*e]=o.default.copy(l[t*e]);n.x+=(t?s:r)*a[t].n.x,n.y+=(t?s:r)*a[t].n.y}.bind(this)),n?([0,1].forEach(function(o){if(2!==this.order||!o){var r=l[o+1],s={x:r.x-c.x,y:r.y-c.y},a=n?n((o+1)/e):t;n&&!i&&(a=-a);var p=h(s.x*s.x+s.y*s.y);s.x/=p,s.y/=p,u[o+1]={x:r.x+a*s.x,y:r.y+a*s.y}}}.bind(this)),new _(u)):([0,1].forEach(function(t){if(2!==this.order||!t){var n=u[t*e],i=this.derivative(t),r={x:n.x+i.x,y:n.y+i.y};u[t+1]=o.default.lli4(n,r,c,l[t+1])}}.bind(this)),new _(u))},outline:function(t,e,n,r){e=void 0===e?t:e;var s,a=this.reduce(),c=a.length,l=[],u=[],p=0,h=this.length(),f=void 0!==n&&void 0!==r;function d(t,e,n,i,r){return function(s){var a=i/n,c=(i+r)/n,l=e-t;return o.default.map(s,0,1,t+a*l,t+c*l)}}a.forEach(function(o){R=o.length(),f?(l.push(o.scale(d(t,n,h,p,R))),u.push(o.scale(d(-e,-r,h,p,R)))):(l.push(o.scale(t)),u.push(o.scale(-e))),p+=R}),u=u.map(function(t){return(s=t.points)[3]?t.points=[s[3],s[2],s[1],s[0]]:t.points=[s[2],s[1],s[0]],t}).reverse();var _=l[0].points[0],y=l[c-1].points[l[c-1].points.length-1],v=u[c-1].points[u[c-1].points.length-1],g=u[0].points[0],m=o.default.makeline(v,_),b=o.default.makeline(y,g),S=[m].concat(l).concat([b]).concat(u),R=S.length;return new i.default(S)},outlineshapes:function(t,e,n){e=e||t;for(var i=this.outline(t,e).curves,r=[],s=1,a=i.length;s<a/2;s++){var c=o.default.makeshape(i[s],i[a-s],n);c.startcap.virtual=s>1,c.endcap.virtual=s<a/2-1,r.push(c)}return r},intersects:function(t,e){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof _&&(t=t.reduce()),this.curveintersects(this.reduce(),t,e)):this.selfintersects(e)},lineIntersects:function(t){var e=a(t.p1.x,t.p2.x),n=a(t.p1.y,t.p2.y),i=c(t.p1.x,t.p2.x),r=c(t.p1.y,t.p2.y),s=this;return o.default.roots(this.points,t).filter(function(t){var a=s.get(t);return o.default.between(a.x,e,i)&&o.default.between(a.y,n,r)})},selfintersects:function(t){var e,n,o,i,r=this.reduce(),s=r.length-2,a=[];for(e=0;e<s;e++)o=r.slice(e,e+1),i=r.slice(e+2),n=this.curveintersects(o,i,t),a=a.concat(n);return a},curveintersects:function(t,e,n){var i=[];t.forEach(function(t){e.forEach(function(e){t.overlaps(e)&&i.push({left:t,right:e})})});var r=[];return i.forEach(function(t){var e=o.default.pairiteration(t.left,t.right,n);e.length>0&&(r=r.concat(e))}),r},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,e,n,i){var r=(i-n)/4,a=this.get(n+r),c=this.get(i-r),l=o.default.dist(t,e),u=o.default.dist(t,a),p=o.default.dist(t,c);return s(u-l)+s(p-l)},_iterate:function(t,e){var n,i=0,r=1;do{n=0,r=1;var s,a,c,p,h,f=this.get(i),d=!1,_=!1,y=r,v=1;do{if(_=d,p=c,y=(i+r)/2,0,s=this.get(y),a=this.get(r),(c=o.default.getccenter(f,s,a)).interval={start:i,end:r},d=this._error(c,f,i,r)<=t,(h=_&&!d)||(v=r),d){if(r>=1){if(c.interval.end=v=1,p=c,r>1){var g={x:c.x+c.r*l(c.e),y:c.y+c.r*u(c.e)};c.e+=o.default.angle({x:c.x,y:c.y},g,this.get(1))}break}r+=(r-i)/2}else r=y}while(!h&&n++<100);if(n>=100)break;p=p||c,e.push(p),i=v}while(r<1);return e}},n.default=_,cc._RF.pop()},{"./poly-bezier":"poly-bezier","./svg-to-beziers":"svg-to-beziers","./utils":"utils"}],example_Animator:[function(t,e,n){"use strict";cc._RF.push(e,"683f3oS26xEb6dYL8SIz0lE","example_Animator"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../script/core/Animator"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animator=null,e}return __extends(e,t),e.prototype.start=function(){this.test2()},e.prototype.update=function(t){},e.prototype.test1=function(){var t=this;this.animator.load({defaultState:"stateX",parameter:{isToY:!1},states:[{name:"stateX",clips:[{name:"xMove"}],transitions:[{nextState:"stateY",exitTime:.5,conditions:[{key:"isToY",comparer:"==",value:!0}]}]},{name:"stateY",clips:[{name:"xMove"},{name:"yMove"}],transitions:[{nextState:"stateX",exitTime:1,conditions:[]}]}]}),cc.log("loaded"),this.scheduleOnce(function(){t.animator.set("isToY",!0),cc.log("isToY true")},3),this.scheduleOnce(function(){t.animator.set("isToY",!1),cc.log("isToY false")},20)},e.prototype.test2=function(){var t=this;this.animator.load({defaultState:"stateA",parameter:{isToB:!1},states:[{name:"stateA",clips:[{name:"xMove"}],transitions:[{nextState:"stateB",exitTime:.5,conditions:[{key:"isToB",comparer:"==",value:!0}]}]},{name:"stateB",clips:[{name:"scale"},{name:"yMove"}],transitions:[{nextState:"stateA",exitTime:1,conditions:[]}]}]}),cc.log("loaded"),this.scheduleOnce(function(){t.animator.set("isToB",!0),cc.log("isToB true")},3),this.scheduleOnce(function(){t.animator.set("isToB",!1),cc.log("isToB false")},20)},__decorate([s(o.Animator)],e.prototype,"animator",void 0),e=__decorate([r],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../script/core/Animator":"Animator"}],example_PageCard:[function(t,e,n){"use strict";cc._RF.push(e,"fa2f5f5jZZNfZulM+AB6Ix9","example_PageCard"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../Uzil"),i=cc._decorator,r=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){o.PageCtrl.get().GoPage("page1"),this.scheduleOnce(function(){o.PageCtrl.get().GoPage("page2")},3),this.scheduleOnce(function(){o.PageCtrl.get().GoPage("page3")},6),this.scheduleOnce(function(){o.PageCtrl.get().HidePage("page3"),o.PageCtrl.get("another").GoPage("page3")},9)},e.prototype.update=function(t){},e=__decorate([r],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../../Uzil":"Uzil"}],i18nButtonExt:[function(t,e,n){"use strict";cc._RF.push(e,"08b4cvZHcZLZ6Ey6fmWDGJ7","i18nButtonExt"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./i18n"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button=null,e.key_normal="",e.key_pressed="",e.key_hover="",e.key_disabled="",e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;null==this.button&&(this.button=this.node.getComponent(cc.Button)),this.render(),o.i18n.onChange.add(function(){t.render()})},e.prototype.onEnable=function(){this.render()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.setNormal=function(t){this.key_normal=t,this.renderNormal()},e.prototype.setPressed=function(t){this.key_pressed=t,this.renderPressed()},e.prototype.setHover=function(t){this.key_hover=t,this.renderHover()},e.prototype.setDisabled=function(t){this.key_disabled=t,this.renderDisabled()},e.prototype.render=function(){this.renderNormal(),this.renderPressed(),this.renderHover(),this.renderDisabled()},e.prototype.renderNormal=function(){if(this.key_normal&&""!=this.key_normal){var t=this;this._renderEach(this.key_normal,function(e){t.button.normalSprite=e;var n=t.button.target.getComponent(cc.Sprite);null!=n&&(n.spriteFrame=e)})}},e.prototype.renderPressed=function(){if(this.key_pressed&&""!=this.key_pressed){var t=this;this._renderEach(this.key_pressed,function(e){t.button.pressedSprite=e})}},e.prototype.renderHover=function(){if(this.key_hover&&""!=this.key_hover){var t=this;this._renderEach(this.key_hover,function(e){t.button.hoverSprite=e})}},e.prototype.renderDisabled=function(){if(this.key_disabled&&""!=this.key_disabled){var t=this;this._renderEach(this.key_disabled,function(e){t.button.disabledSprite=e})}},e.prototype._renderEach=function(t,e){var n=o.i18n.img(t,function(t){null!=t&&e(t)});null!=n&&e(n)},__decorate([s(cc.Button)],e.prototype,"button",void 0),__decorate([s()],e.prototype,"key_normal",void 0),__decorate([s()],e.prototype,"key_pressed",void 0),__decorate([s()],e.prototype,"key_hover",void 0),__decorate([s()],e.prototype,"key_disabled",void 0),e=__decorate([r],e)}(cc.Component);n.default=a,cc._RF.pop()},{"./i18n":"i18n"}],i18nImgLoader:[function(t,e,n){"use strict";cc._RF.push(e,"a2755ogJzpM6LoCWOcNVJAB","i18nImgLoader"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./i18n"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(){function t(){this.key="",this.spriteFrame=null}return __decorate([s()],t.prototype,"key",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),t=__decorate([r("i18nImgLoaderPair")],t)}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.languageID="",e.images=[],e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=0,e=this.images;t<e.length;t++){var n=e[t];o.i18n.regImg(this.languageID,n.key,n.spriteFrame,!1)}},__decorate([s()],e.prototype,"languageID",void 0),__decorate([s(a)],e.prototype,"images",void 0),e=__decorate([r],e)}(cc.Component);n.i18nImgLoader=c,cc._RF.pop()},{"./i18n":"i18n"}],i18nImgSet:[function(t,e,n){"use strict";cc._RF.push(e,"b38a7Aef9hDeIm9ZglVbXGi","i18nImgSet"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_i18n"),i=function(){function t(){this.key2spriteFrame=new Map,this.langID=null,this.fallbackLangID=null,this.langID=o.i18nSetting.defaultLang,this.fallbackLangID=o.i18nSetting.defaultLang}return t.prototype.get=function(t,e){if(this.key2spriteFrame.has(t)){var n=this.key2spriteFrame.get(t);return e(n),n}return o.i18n.imgFallback(this.langID,this.fallbackLangID,t,function(t){e(t)}),null},t.prototype.has=function(t){return this.key2spriteFrame.has(t)},t.prototype.fallback=function(t,e,n){if(this.key2spriteFrame.has(e)){var i=this.key2spriteFrame.get(e);return n(i),i}return t==this.langID||t==this.fallbackLangID?null:o.i18n.imgFallback(this.langID,this.fallbackLangID,e,function(t){n(t)})},t.prototype.set=function(t,e){this.key2spriteFrame.set(t,e)},t}();n.i18nImgSet=i,cc._RF.pop()},{"../index_i18n":"index_i18n"}],i18nLabelExt:[function(t,e,n){"use strict";cc._RF.push(e,"7e7d8lgvmhHh6fJQvZexPT/","i18nLabelExt");var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./i18n"),s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.key="",e}return o(e,t),e.prototype.onLoad=function(){var t=this;null==this.label&&(this.label=this.node.getComponent(cc.Label)),this.render(),r.i18n.onChange.add(function(){t.render()})},e.prototype.onEnable=function(){this.render()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.set=function(t){this.key=t,this.render()},e.prototype.render=function(){var t=this,e=r.i18n.text(this.key,function(e){t._setLabelStr(e)});this._setLabelStr(e)},e.prototype._setLabelStr=function(t){null!=t&&(this.label.string=t)},i([c(cc.Label)],e.prototype,"label",void 0),i([c()],e.prototype,"key",void 0),e=i([a],e)}(cc.Component);n.i18nLabelExt=l,cc._RF.pop()},{"./i18n":"i18n"}],i18nPrefabLoader:[function(t,e,n){"use strict";cc._RF.push(e,"ebf17RC0HVCWZLCvl91TSod","i18nPrefabLoader"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./i18n"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(){function t(){this.key="",this.prefab=null}return __decorate([s()],t.prototype,"key",void 0),__decorate([s(cc.Prefab)],t.prototype,"prefab",void 0),t=__decorate([r("i18nPrefabLoaderPair")],t)}(),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.languageID="",e.prefabs=[],e}return __extends(e,t),e.prototype.onLoad=function(){for(var t=0,e=this.prefabs;t<e.length;t++){var n=e[t];o.i18n.regPrefab(this.languageID,n.key,n.prefab,!1)}},__decorate([s()],e.prototype,"languageID",void 0),__decorate([s(a)],e.prototype,"prefabs",void 0),e=__decorate([r],e)}(cc.Component);n.i18nPrefabLoader=c,cc._RF.pop()},{"./i18n":"i18n"}],i18nPrefabSet:[function(t,e,n){"use strict";cc._RF.push(e,"6f786bg6C5EU76+MK2Nw20+","i18nPrefabSet"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_i18n"),i=function(){function t(){this.key2prefab=new Map,this.langID=null,this.fallbackLangID=null,this.langID=o.i18nSetting.defaultLang,this.fallbackLangID=o.i18nSetting.defaultLang}return t.prototype.get=function(t,e){if(this.key2prefab.has(t)){var n=this.key2prefab.get(t);return e(n),n}return o.i18n.prefabFallback(this.langID,this.fallbackLangID,t,function(t){e(t)}),null},t.prototype.has=function(t){return this.key2prefab.has(t)},t.prototype.fallback=function(t,e,n){if(this.key2prefab.has(e)){var i=this.key2prefab.get(e);return n(i),i}return t==this.langID||t==this.fallbackLangID?null:o.i18n.prefabFallback(this.langID,this.fallbackLangID,e,function(t){n(t)})},t.prototype.set=function(t,e){this.key2prefab.set(t,e)},t}();n.i18nPrefabSet=i,cc._RF.pop()},{"../index_i18n":"index_i18n"}],i18nSetting:[function(t,e,n){"use strict";cc._RF.push(e,"6e02aceTfZF5qozc2iOfojV","i18nSetting"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.defaultLang="cn",t.langDefine={cn:{fallback:""},en:{fallback:"cn"}},t}();n.i18nSetting=o,cc._RF.pop()},{}],i18nSpriteExt:[function(t,e,n){"use strict";cc._RF.push(e,"912f7RurQFGdoxhs7LxoQNP","i18nSpriteExt"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./i18n"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.key="",e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;null==this.sprite&&(this.sprite=this.node.getComponent(cc.Sprite)),this.render(),o.i18n.onChange.add(function(){t.render()})},e.prototype.onEnable=function(){this.render()},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.set=function(t){this.key=t,this.render()},e.prototype.render=function(){var t=this,e=o.i18n.img(this.key,function(e){t._setSpriteFrame(e)});this._setSpriteFrame(e)},e.prototype._setSpriteFrame=function(t){null!=t&&(this.sprite.spriteFrame=t)},__decorate([s(cc.Sprite)],e.prototype,"sprite",void 0),__decorate([s()],e.prototype,"key",void 0),e=__decorate([r],e)}(cc.Component);n.i18nSpriteExt=a,cc._RF.pop()},{"./i18n":"i18n"}],i18nTextLoader:[function(t,e,n){"use strict";cc._RF.push(e,"f5ae1LW7m9CH7AS0SNkMwRs","i18nTextLoader"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./i18n"),i=cc._decorator,r=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.languageID="",e.jsonFile=null,e}return __extends(e,t),e.prototype.onLoad=function(){if(this.jsonFile&&this.jsonFile.json){var t=this.jsonFile.json;for(var e in t)o.i18n.regText(this.languageID,e,t[e],!1)}},__decorate([s()],e.prototype,"languageID",void 0),__decorate([s(cc.JsonAsset)],e.prototype,"jsonFile",void 0),e=__decorate([r],e)}(cc.Component);n.default=a,cc._RF.pop()},{"./i18n":"i18n"}],i18nTextSet:[function(t,e,n){"use strict";cc._RF.push(e,"82a0fV42KNC8IsebQOzjHg7","i18nTextSet"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../index_i18n"),i=cc._decorator.ccclass,r=function(){function t(){this.key2str=new Map,this.langID=null,this.fallbackLangID=null,this.langID=o.i18nSetting.defaultLang,this.fallbackLangID=o.i18nSetting.defaultLang}return t.prototype.get=function(t,e){if(this.key2str.has(t)){var n=this.key2str.get(t);return e(n),n}return o.i18n.textFallback(this.langID,this.fallbackLangID,t,function(t){e(t)}),null},t.prototype.has=function(t){return this.key2str.has(t)},t.prototype.fallback=function(t,e,n){if(this.key2str.has(e)){var i=this.key2str.get(e);return n(i),i}return t==this.langID||t==this.fallbackLangID?null:o.i18n.textFallback(this.langID,this.fallbackLangID,e,function(t){n(t)})},t.prototype.set=function(t,e){this.key2str.set(t,e)},t=__decorate([i("i18nTextSet")],t)}();n.i18nTextSet=r,cc._RF.pop()},{"../index_i18n":"index_i18n"}],i18n:[function(t,e,n){"use strict";cc._RF.push(e,"4acf5cb7gZLy7rGt+2s5lKV","i18n"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("../index_i18n"),r=t("../../Uzil");(function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"})(o=n.i18nState||(n.i18nState={}));var s=function(){function t(){}return t.getCurrentTextSet=function(){return t.getTextSet(t.currentLang)},t.getTextSet=function(e){return t.langID2TextSet.has(e)?t.langID2TextSet.get(e):null},t.getCurrentImgSet=function(){return t.getImgSet(t.currentLang)},t.getImgSet=function(e){return t.langID2ImgSet.has(e)?t.langID2ImgSet.get(e):null},t.getCurrentPrefabSet=function(){return t.getPrefabSet(t.currentLang)},t.getPrefabSet=function(e){return t.langID2PrefabSet.has(e)?t.langID2PrefabSet.get(e):null},t.init=function(e){if(t.state!=o.LOADED){if(e&&t.onChange.addOnce(function(){e()}),t.state==o.NONE){var n=i.i18nSetting.langDefine;for(var s in n)this.regLang(s,s.fallback);var a=i.i18nSetting.defaultLang,c=r.UrlArgs.get("lang");null!=c&&(a=c),t.setLanguage(a)}}else e&&e()},t.setLanguage=function(e){var n=this;t.state!=o.LOADING?(t.currentLang=e,t.state=o.LOADING,r.Async.parallel([function(t){cc.loader.loadResDir("i18n/"+e+"/text/",cc.JsonAsset,function(o,r,s){new i.i18nTextSet;for(var a=0,c=r;a<c.length;a++){var l=c[a].json;for(var u in l)n.regText(e,u,l[u])}t()})},function(t){var o="i18n/"+e+"/img/";cc.loader.loadResDir(o,cc.SpriteFrame,function(r,s,a){new i.i18nImgSet;for(var c=0;c<s.length;c++){var l=s[c],u=a[c].substring(o.length);n.regImg(e,u,l)}t()})}],function(e,n){t.state=o.LOADED,t.onChange.call()})):t.onChange.addOnce(function(){t.setLanguage(e)})},t.text=function(e,n){if(t.state==o.NONE)return t.init(function(){t.text(e,n)}),null;var i=t.getCurrentTextSet();return null==i?null:i.get(e,function(t){n&&n(t)})},t.textFallback=function(e,n,i,r){if(t.state==o.NONE)return t.init(function(){t.textFallback(e,n,i,r)}),null;var s=this.getTextSet(n);if(null==s)return r&&r(null),null;var a=s.fallback(e,i,function(t){r&&r(t)});return a||null},t.img=function(e,n){if(t.state==o.NONE)return t.init(function(){t.img(e,n)}),null;var i=t.getCurrentImgSet();return null==i?null:i.get(e,function(t){n&&n(t)})},t.imgFallback=function(e,n,i,r){if(t.state==o.NONE)return t.init(function(){t.imgFallback(e,n,i,r)}),null;var s=this.getImgSet(n);if(null==s)return r&&r(null),null;var a=s.fallback(e,i,function(t){r&&r(t)});return a||null},t.prefab=function(e,n){if(t.state==o.NONE)return t.init(function(){t.prefab(e,n)}),null;var i=t.getCurrentPrefabSet();return null==i?null:i.get(e,function(t){n&&n(t)})},t.prefabFallback=function(e,n,i,r){if(t.state==o.NONE)return t.init(function(){t.prefabFallback(e,n,i,r)}),null;var s=this.getPrefabSet(n);if(null==s)return r&&r(null),null;var a=s.fallback(e,i,function(t){r&&r(t)});return a||null},t.regLang=function(e,n){var o,r,s;void 0===n&&(n=null),t.langID2TextSet.has(e)?o=t.langID2TextSet.get(e):((o=new i.i18nTextSet).fallbackLangID=i.i18nSetting.defaultLang,t.langID2TextSet.set(e,o)),t.langID2ImgSet.has(e)?r=t.langID2ImgSet.get(e):((r=new i.i18nImgSet).fallbackLangID=i.i18nSetting.defaultLang,t.langID2ImgSet.set(e,r)),t.langID2PrefabSet.has(e)?s=t.langID2PrefabSet.get(e):((s=new i.i18nPrefabSet).fallbackLangID=i.i18nSetting.defaultLang,t.langID2PrefabSet.set(e,s)),n&&(o.fallbackLangID=n,r.fallbackLangID=n)},t.regText=function(e,n,o,i){void 0===i&&(i=!0),0==t.langID2TextSet.has(e)&&this.regLang(e);var r=t.langID2TextSet.get(e);!i&&r.has(n)||r.set(n,o)},t.regImg=function(e,n,o,i){void 0===i&&(i=!0),0==t.langID2ImgSet.has(e)&&this.regLang(e);var r=t.langID2ImgSet.get(e);!i&&r.has(n)||r.set(n,o)},t.regPrefab=function(e,n,o,i){void 0===i&&(i=!0),0==t.langID2PrefabSet.has(e)&&this.regLang(e);var r=t.langID2PrefabSet.get(e);!i&&r.has(n)||r.set(n,o)},t.state=o.NONE,t.currentLang=null,t.langID2TextSet=new Map,t.langID2ImgSet=new Map,t.langID2PrefabSet=new Map,t.onChange=new r.Event,t}();n.i18n=s,cc._RF.pop()},{"../../Uzil":"Uzil","../index_i18n":"index_i18n"}],index_Act:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"fd132GYgbVPU78w70dv+1Fv","index_Act"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/ActObj")),o(t("./script/ActObj/ActObj_Test")),o(t("./script/ActObj/ActObj_Group")),o(t("./script/ActObj/ActObj_Repeat")),o(t("./script/ActObj/ActObj_Anim")),o(t("./script/ActObj/ActObj_SymbolAnim")),o(t("./script/ActObj/ActObj_SymbolBlink")),o(t("./script/ActObj/ActObj_AnimOnCol")),cc._RF.pop()},{"./script/ActObj":"ActObj","./script/ActObj/ActObj_Anim":"ActObj_Anim","./script/ActObj/ActObj_AnimOnCol":"ActObj_AnimOnCol","./script/ActObj/ActObj_Group":"ActObj_Group","./script/ActObj/ActObj_Repeat":"ActObj_Repeat","./script/ActObj/ActObj_SymbolAnim":"ActObj_SymbolAnim","./script/ActObj/ActObj_SymbolBlink":"ActObj_SymbolBlink","./script/ActObj/ActObj_Test":"ActObj_Test"}],index_AniTween:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"a130fPuj89Fqa1ES2cehGsI","index_AniTween"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/AniTween")),o(t("./script/AniAct")),o(t("./script/act/AniMove")),o(t("./script/act/AniGoto")),o(t("./script/act/AniSpin")),o(t("./script/act/AniSwing")),o(t("./script/act/AniLookAt")),o(t("./script/act/AniSpiral")),o(t("./script/act/AniPath")),o(t("./script/act/AniCollect")),cc._RF.pop()},{"./script/AniAct":"AniAct","./script/AniTween":"AniTween","./script/act/AniCollect":"AniCollect","./script/act/AniGoto":"AniGoto","./script/act/AniLookAt":"AniLookAt","./script/act/AniMove":"AniMove","./script/act/AniPath":"AniPath","./script/act/AniSpin":"AniSpin","./script/act/AniSpiral":"AniSpiral","./script/act/AniSwing":"AniSwing"}],index_Animator:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"57a93tr4rNCM7sqyFQlJbmd","index_Animator"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/core/AnimClip")),o(t("./script/core/AnimCondition")),o(t("./script/core/AnimTransition")),o(t("./script/core/AnimState")),o(t("./script/core/AnimFactory")),o(t("./script/core/Animator")),o(t("./script/CocosAnimator")),o(t("./script/SpineAnimator")),cc._RF.pop()},{"./script/CocosAnimator":"CocosAnimator","./script/SpineAnimator":"SpineAnimator","./script/core/AnimClip":"AnimClip","./script/core/AnimCondition":"AnimCondition","./script/core/AnimFactory":"AnimFactory","./script/core/AnimState":"AnimState","./script/core/AnimTransition":"AnimTransition","./script/core/Animator":"Animator"}],index_Async:[function(t,e,n){"use strict";cc._RF.push(e,"2d532E/wppAnobVHU9mYIf1","index_Async"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(t("./script/Async")),cc._RF.pop()},{"./script/Async":"Async"}],index_AudioMng:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"e197ama8uhHRohChwE5t6EY","index_AudioMng"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/AudioState")),o(t("./script/AudioObj")),o(t("./script/AudioLayer")),o(t("./script/AudioMng")),cc._RF.pop()},{"./script/AudioLayer":"AudioLayer","./script/AudioMng":"AudioMng","./script/AudioObj":"AudioObj","./script/AudioState":"AudioState"}],index_Bezier:[function(t,e,n){"use strict";cc._RF.push(e,"ef1a10nJhFIWIGd5KhbSqtz","index_Bezier"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(t("./script/BezierData")),cc._RF.pop()},{"./script/BezierData":"BezierData"}],index_Curve:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"a7fe3D6zv9Ji6apzDBnSKs9","index_Curve"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/CurveData")),o(t("./script/PointData")),cc._RF.pop()},{"./script/CurveData":"CurveData","./script/PointData":"PointData"}],index_Event:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"1a259Qu0RRH/q+2XH/O6hh5","index_Event"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/Event")),o(t("./script/EventBus")),o(t("./script/EventListener")),o(t("./script/EventData")),cc._RF.pop()},{"./script/Event":"Event","./script/EventBus":"EventBus","./script/EventData":"EventData","./script/EventListener":"EventListener"}],index_FeatureGame:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"dabd7E4otZLUIVgssw7cL7p","index_FeatureGame"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./Fade/FeatureGameFadePanel")),o(t("./Result/FeatureGameResultPanel")),cc._RF.pop()},{"./Fade/FeatureGameFadePanel":"FeatureGameFadePanel","./Result/FeatureGameResultPanel":"FeatureGameResultPanel"}],index_Invoker:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"1d66d7qhw1D/LxZYNLGBCIS","index_Invoker"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/Invoker")),o(t("./script/InvokerQueue")),o(t("./script/InvokerQueueTask")),o(t("./script/InvokerTask")),o(t("./script/InvokerUpdateTask")),cc._RF.pop()},{"./script/Invoker":"Invoker","./script/InvokerQueue":"InvokerQueue","./script/InvokerQueueTask":"InvokerQueueTask","./script/InvokerTask":"InvokerTask","./script/InvokerUpdateTask":"InvokerUpdateTask"}],index_Net:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"10c1eFPBz1ErpF07FzdgKrD","index_Net"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/GameClient")),o(t("./script/Client/OfflineClient")),o(t("./script/Data/PlayerData")),o(t("./script/Data/SpinResultData")),o(t("./script/NetMod")),cc._RF.pop()},{"./script/Client/OfflineClient":"OfflineClient","./script/Data/PlayerData":"PlayerData","./script/Data/SpinResultData":"SpinResultData","./script/GameClient":"GameClient","./script/NetMod":"NetMod"}],index_ObjPool:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"63736d9e5tDYKcYDN5p2die","index_ObjPool"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./ObjPool")),o(t("./ObjPool_Prefab")),cc._RF.pop()},{"./ObjPool":"ObjPool","./ObjPool_Prefab":"ObjPool_Prefab"}],index_PageCard:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"2daf5xgQgVOt5VzeVHBQssk","index_PageCard"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/Card")),o(t("./script/Page")),o(t("./script/PageCtrl")),cc._RF.pop()},{"./script/Card":"Card","./script/Page":"Page","./script/PageCtrl":"PageCtrl"}],index_Reel:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"b5a00ZCOXhGerkQK6ADqK3s","index_Reel"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/ReelConst")),o(t("./script/Data/ColMiddle")),o(t("./script/Data/ReelColData")),o(t("./script/Data/ReelStripData")),o(t("./script/ReelColObj")),o(t("./script/ReelRowViewPass/ReelRowViewPass")),o(t("./script/ReelRowView")),o(t("./script/ReelRowObj")),o(t("./script/ReelObj")),o(t("./script/ReelContainer")),cc._RF.pop()},{"./script/Data/ColMiddle":"ColMiddle","./script/Data/ReelColData":"ReelColData","./script/Data/ReelStripData":"ReelStripData","./script/ReelColObj":"ReelColObj","./script/ReelConst":"ReelConst","./script/ReelContainer":"ReelContainer","./script/ReelObj":"ReelObj","./script/ReelRowObj":"ReelRowObj","./script/ReelRowView":"ReelRowView","./script/ReelRowViewPass/ReelRowViewPass":"ReelRowViewPass"}],index_Rule:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"9893aQ6c3lPH7spC14j2n7N","index_Rule"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/const/SymbolCode")),o(t("./script/const/SlotStrip")),o(t("./script/const/OddsTable")),o(t("./script/const/LineTable")),o(t("./script/Data/WinData")),o(t("./script/WinsRule")),o(t("./script/ReelRule")),cc._RF.pop()},{"./script/Data/WinData":"WinData","./script/ReelRule":"ReelRule","./script/WinsRule":"WinsRule","./script/const/LineTable":"LineTable","./script/const/OddsTable":"OddsTable","./script/const/SlotStrip":"SlotStrip","./script/const/SymbolCode":"SymbolCode"}],index_Shuriken:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"9656aKHGVlNXIly9Q2mgSYO","index_Shuriken"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/ShurikenSystem")),o(t("./script/Shuriken")),o(t("./script/ShurikenEmitter")),o(t("./script/ShurikenComponent")),o(t("./script/Emitter/ShurikenEmitter_Base")),o(t("./script/Emitter/ShurikenEmitter_NodeRect")),o(t("./script/Emitter/ShurikenEmitter_Circle")),cc._RF.pop()},{"./script/Emitter/ShurikenEmitter_Base":"ShurikenEmitter_Base","./script/Emitter/ShurikenEmitter_Circle":"ShurikenEmitter_Circle","./script/Emitter/ShurikenEmitter_NodeRect":"ShurikenEmitter_NodeRect","./script/Shuriken":"Shuriken","./script/ShurikenComponent":"ShurikenComponent","./script/ShurikenEmitter":"ShurikenEmitter","./script/ShurikenSystem":"ShurikenSystem"}],index_Slot:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"b1ca9JuoshIpY6AXdQDhhkm","index_Slot"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/res/SymbolRes")),o(t("./script/Util/Prefab2NodeMgr")),o(t("./script/Util/SlotUtil")),o(t("./script/Util/StripParse")),o(t("./script/Reel/ReelCtrl")),o(t("./script/Spin/SpinUI")),o(t("./script/Spin/SpinCtrl")),o(t("./script/Draw/DrawCtrl")),o(t("./script/Game/GameCtrl")),cc._RF.pop()},{"./script/Draw/DrawCtrl":"DrawCtrl","./script/Game/GameCtrl":"GameCtrl","./script/Reel/ReelCtrl":"ReelCtrl","./script/Spin/SpinCtrl":"SpinCtrl","./script/Spin/SpinUI":"SpinUI","./script/Util/Prefab2NodeMgr":"Prefab2NodeMgr","./script/Util/SlotUtil":"SlotUtil","./script/Util/StripParse":"StripParse","./script/res/SymbolRes":"SymbolRes"}],index_State:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"36fc32rSJZEAo0PCtMTMQAp","index_State"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/State")),o(t("./script/StateCtrl")),cc._RF.pop()},{"./script/State":"State","./script/StateCtrl":"StateCtrl"}],index_System:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"34a64d7hmJH856JKT9k9YYY","index_System"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/Mathf")),o(t("./script/Objf")),o(t("./script/Comparer")),o(t("./script/UrlArgs")),o(t("./script/Stringf")),o(t("./script/UniqID")),cc._RF.pop()},{"./script/Comparer":"Comparer","./script/Mathf":"Mathf","./script/Objf":"Objf","./script/Stringf":"Stringf","./script/UniqID":"UniqID","./script/UrlArgs":"UrlArgs"}],index_Time:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"849f3dIt65AOotTCNPtn6yP","index_Time"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/Time")),o(t("./script/TimeInstance")),cc._RF.pop()},{"./script/Time":"Time","./script/TimeInstance":"TimeInstance"}],index_UI:[function(t,e,n){"use strict";cc._RF.push(e,"0bdedl1KRpE76uSSA9JFWWu","index_UI"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(t("./CountingNumber/script/CountingNumber")),cc._RF.pop()},{"./CountingNumber/script/CountingNumber":"CountingNumber"}],index_Values:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"410c3qFTJhDlbqLk0ToOy3f","index_Values"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/Values_User")),o(t("./script/Values")),cc._RF.pop()},{"./script/Values":"Values","./script/Values_User":"Values_User"}],index_i18n:[function(t,e,n){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}cc._RF.push(e,"ec203p/Jr1O+ZPfOANkUi8B","index_i18n"),Object.defineProperty(n,"__esModule",{value:!0}),o(t("./script/i18nSetting")),o(t("./script/i18n")),o(t("./script/i18nTextSet")),o(t("./script/i18nImgSet")),o(t("./script/i18nPrefabSet")),o(t("./script/i18nLabelExt")),o(t("./script/i18nSpriteExt")),cc._RF.pop()},{"./script/i18n":"i18n","./script/i18nImgSet":"i18nImgSet","./script/i18nLabelExt":"i18nLabelExt","./script/i18nPrefabSet":"i18nPrefabSet","./script/i18nSetting":"i18nSetting","./script/i18nSpriteExt":"i18nSpriteExt","./script/i18nTextSet":"i18nTextSet"}],"normalise-svg":[function(t,e,n){"use strict";cc._RF.push(e,"8f5d9Q/ZvtO3I0jNMiiutxs","normalise-svg"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){var e,n,o,i,r,s,a=(t=t.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),c=a.length,l=[],u=0,p=0,h=0,f=0,d=0,_=0,y=0,v=0,g="";for(e=1;e<c;e++)if(i=(o=(n=a[e]).substring(0,1)).toLowerCase(),r=(l=(l=n.replace(o,"").trim().split(" ")).filter(function(t){return""!==t}).map(parseFloat)).length,"m"===i){if(g+="M ","m"===o?(h+=l[0],f+=l[1]):(h=l[0],f=l[1]),u=h,p=f,g+=h+" "+f+" ",r>2)for(s=0;s<r;s+=2)"m"===o?(h+=l[s],f+=l[s+1]):(h=l[s],f=l[s+1]),g+=["L",h,f,""].join(" ")}else if("l"===i)for(s=0;s<r;s+=2)"l"===o?(h+=l[s],f+=l[s+1]):(h=l[s],f=l[s+1]),g+=["L",h,f,""].join(" ");else if("h"===i)for(s=0;s<r;s++)"h"===o?h+=l[s]:h=l[s],g+=["L",h,f,""].join(" ");else if("v"===i)for(s=0;s<r;s++)"v"===o?f+=l[s]:f=l[s],g+=["L",h,f,""].join(" ");else if("q"===i)for(s=0;s<r;s+=4)"q"===o?(d=h+l[s],_=f+l[s+1],h+=l[s+2],f+=l[s+3]):(d=l[s],_=l[s+1],h=l[s+2],f=l[s+3]),g+=["Q",d,_,h,f,""].join(" ");else if("t"===i)for(s=0;s<r;s+=2)d=h+(h-d),_=f+(f-_),"t"===o?(h+=l[s],f+=l[s+1]):(h=l[s],f=l[s+1]),g+=["Q",d,_,h,f,""].join(" ");else if("c"===i)for(s=0;s<r;s+=6)"c"===o?(d=h+l[s],_=f+l[s+1],y=h+l[s+2],v=f+l[s+3],h+=l[s+4],f+=l[s+5]):(d=l[s],_=l[s+1],y=l[s+2],v=l[s+3],h=l[s+4],f=l[s+5]),g+=["C",d,_,y,v,h,f,""].join(" ");else if("s"===i)for(s=0;s<r;s+=4)d=h+(h-y),_=f+(f-v),"s"===o?(y=h+l[s],v=f+l[s+1],h+=l[s+2],f+=l[s+3]):(y=l[s],v=l[s+1],h=l[s+2],f=l[s+3]),g+=["C",d,_,y,v,h,f,""].join(" ");else"z"===i&&(g+="Z ",h=u,f=p);return g.trim()},cc._RF.pop()},{}],"poly-bezier":[function(t,e,n){"use strict";cc._RF.push(e,"f19855tvBtHb7fPonfEwate","poly-bezier"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./utils"),i=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};i.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map(function(t){return o.default.pointsToString(t.points)}).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,e){return t+e})},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,e=t[0].bbox(),n=1;n<t.length;n++)o.default.expandbox(e,t[n].bbox());return e},offset:function(t){var e=[];return this.curves.forEach(function(n){e=e.concat(n.offset(t))}),new i(e)}},n.default=i,cc._RF.pop()},{"./utils":"utils"}],"svg-to-beziers":[function(t,e,n){"use strict";cc._RF.push(e,"4117bthHHhCEbxQhbfPOUCr","svg-to-beziers"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./normalise-svg"),i={x:!1,y:!1};function r(t,e,n){if("Z"!==e){if("M"!==e){var o=[!1,i.x,i.y].concat(n),r=new(t.bind.apply(t,o)),s=n.slice(-2);return i={x:s[0],y:s[1]},r}i={x:n[0],y:n[1]}}}n.default=function(t,e){for(var n,i,s=o.default(e).split(" "),a=new RegExp("[MLCQZ]",""),c=[],l={C:6,Q:4,L:2,M:2};s.length;)n=s.splice(0,1)[0],a.test(n)&&(i=r(t,n,s.splice(0,l[n]).map(parseFloat)))&&c.push(i);return new t.PolyBezier(c)},cc._RF.pop()},{"./normalise-svg":"normalise-svg"}],utils:[function(t,e,n){"use strict";cc._RF.push(e,"d9086/eCPRCl5xyprUmXAKv","utils"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./bezier"),i=Math.abs,r=Math.cos,s=Math.sin,a=Math.acos,c=Math.atan2,l=Math.sqrt,u=Math.pow,p=function(t){return t<0?-u(-t,1/3):u(t,1/3)},h=Math.PI,f=2*h,d=h/2,_=Number.MAX_SAFE_INTEGER||9007199254740991,y=Number.MIN_SAFE_INTEGER||-9007199254740991,v={x:0,y:0,z:0},g={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,e){var n=e(t),o=n.x*n.x+n.y*n.y;return void 0!==n.z&&(o+=n.z*n.z),l(o)},compute:function(t,e,n){if(0===t)return e[0];var o=e.length-1;if(1===t)return e[o];var i=e,r=1-t;if(0===o)return e[0];if(1===o)return h={x:r*i[0].x+t*i[1].x,y:r*i[0].y+t*i[1].y},n&&(h.z=r*i[0].z+t*i[1].z),h;if(o<4){var s,a,c,l=r*r,u=t*t,p=0;2===o?(i=[i[0],i[1],i[2],v],s=l,a=r*t*2,c=u):3===o&&(s=l*r,a=l*t*3,c=r*u*3,p=t*u);var h={x:s*i[0].x+a*i[1].x+c*i[2].x+p*i[3].x,y:s*i[0].y+a*i[1].y+c*i[2].y+p*i[3].y};return n&&(h.z=s*i[0].z+a*i[1].z+c*i[2].z+p*i[3].z),h}for(var f=JSON.parse(JSON.stringify(e));f.length>1;){for(var d=0;d<f.length-1;d++)f[d]={x:f[d].x+(f[d+1].x-f[d].x)*t,y:f[d].y+(f[d+1].y-f[d].y)*t},void 0!==f[d].z&&(f[d]=f[d].z+(f[d+1].z-f[d].z)*t);f.splice(f.length-1,1)}return f[0]},derive:function(t,e){for(var n=[],o=t,i=o.length,r=i-1;i>1;i--,r--){for(var s,a=[],c=0;c<r;c++)s={x:r*(o[c+1].x-o[c].x),y:r*(o[c+1].y-o[c].y)},e&&(s.z=r*(o[c+1].z-o[c].z)),a.push(s);n.push(a),o=a}return n},between:function(t,e,n){return e<=t&&t<=n||g.approximately(t,e)||g.approximately(t,n)},approximately:function(t,e,n){return i(t-e)<=(n||1e-6)},length:function(t){var e,n,o=0,i=g.Tvalues.length;for(e=0;e<i;e++)n=.5*g.Tvalues[e]+.5,o+=g.Cvalues[e]*g.arcfn(n,t);return.5*o},map:function(t,e,n,o,i){return o+(i-o)*((t-e)/(n-e))},lerp:function(t,e,n){var o={x:e.x+t*(n.x-e.x),y:e.y+t*(n.y-e.y)};return e.z&&n.z&&(o.z=e.z+t*(n.z-e.z)),o},pointToString:function(t){var e=t.x+"/"+t.y;return void 0!==t.z&&(e+="/"+t.z),e},pointsToString:function(t){return"["+t.map(g.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,e,n){var o=e.x-t.x,i=e.y-t.y,r=n.x-t.x,s=n.y-t.y;return c(o*s-i*r,o*r+i*s)},round:function(t,e){var n=""+t,o=n.indexOf(".");return parseFloat(n.substring(0,o+1+e))},dist:function(t,e){var n=t.x-e.x,o=t.y-e.y;return l(n*n+o*o)},closest:function(t,e){var n,o,i=u(2,63);return t.forEach(function(t,r){(o=g.dist(e,t))<i&&(i=o,n=r)}),{mdist:i,mpos:n}},abcratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var n=u(t,e)+u(1-t,e);return i((n-1)/n)},projectionratio:function(t,e){if(2!==e&&3!==e)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var n=u(1-t,e);return n/(u(t,e)+n)},lli8:function(t,e,n,o,i,r,s,a){var c=(t-n)*(r-a)-(e-o)*(i-s);return 0!=c&&{x:((t*o-e*n)*(i-s)-(t-n)*(i*a-r*s))/c,y:((t*o-e*n)*(r-a)-(e-o)*(i*a-r*s))/c}},lli4:function(t,e,n,o){var i=t.x,r=t.y,s=e.x,a=e.y,c=n.x,l=n.y,u=o.x,p=o.y;return g.lli8(i,r,s,a,c,l,u,p)},lli:function(t,e){return g.lli4(t,t.c,e,e.c)},makeline:function(t,e){var n=t.x,i=t.y,r=e.x,s=e.y,a=(r-n)/3,c=(s-i)/3;return new o.default(n,i,n+a,i+c,n+2*a,i+2*c,r,s)},findbbox:function(t){var e=_,n=_,o=y,i=y;return t.forEach(function(t){var r=t.bbox();e>r.x.min&&(e=r.x.min),n>r.y.min&&(n=r.y.min),o<r.x.max&&(o=r.x.max),i<r.y.max&&(i=r.y.max)}),{x:{min:e,mid:(e+o)/2,max:o,size:o-e},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(t,e,n,o,i){if(!g.bboxoverlap(e,o))return[];var r=[],s=[t.startcap,t.forward,t.back,t.endcap],a=[n.startcap,n.forward,n.back,n.endcap];return s.forEach(function(e){e.virtual||a.forEach(function(o){if(!o.virtual){var s=e.intersects(o,i);s.length>0&&(s.c1=e,s.c2=o,s.s1=t,s.s2=n,r.push(s))}})}),r},makeshape:function(t,e,n){var o=e.points.length,i=t.points.length,r=g.makeline(e.points[o-1],t.points[0]),s=g.makeline(t.points[i-1],e.points[0]),a={startcap:r,forward:t,back:e,endcap:s,bbox:g.findbbox([r,t,e,s])},c=g;return a.intersections=function(t){return c.shapeintersections(a,a.bbox,t,t.bbox,n)},a},getminmax:function(t,e,n){if(!n)return{min:0,max:0};var o,i,r=_,s=y;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var a=0,c=n.length;a<c;a++)o=n[a],(i=t.get(o))[e]<r&&(r=i[e]),i[e]>s&&(s=i[e]);return{min:r,mid:(r+s)/2,max:s,size:s-r}},align:function(t,e){var n=e.p1.x,o=e.p1.y,i=-c(e.p2.y-o,e.p2.x-n);return t.map(function(t){return{x:(t.x-n)*r(i)-(t.y-o)*s(i),y:(t.x-n)*s(i)+(t.y-o)*r(i)}})},roots:function(t,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=t.length-1,o=g.align(t,e),i=function(t){return 0<=t&&t<=1};if(2===n){if(0!==(_=(y=o[0].y)-2*(v=o[1].y)+(m=o[2].y))){var s=-l(v*v-y*m),c=-y+v;return[-(s+c)/_,-(-s+c)/_].filter(i)}return v!==m&&0===_?[(2*v-m)/(2*v-2*m)].filter(i):[]}var u=o[0].y,h=o[1].y,d=o[2].y,_=3*h-u-3*d+o[3].y,y=3*u-6*h+3*d,v=-3*u+3*h,m=u;if(g.approximately(_,0)){if(g.approximately(y,0))return g.approximately(v,0)?[]:[-m/v].filter(i);var b=2*y;return[((S=l(v*v-4*y*m))-v)/b,(-v-S)/b].filter(i)}var S,R,x=(o=(3*(v/=_)-(y/=_)*y)/3)/3,P=(S=(2*y*y*y-9*y*v+27*(m/=_))/27)/2,O=P*P+x*x*x;if(O<0){var w=-o/3,C=l(w*w*w),A=-S/(2*C),T=a(A<-1?-1:A>1?1:A),M=2*p(C);return[M*r(T/3)-y/3,M*r((T+f)/3)-y/3,M*r((T+2*f)/3)-y/3].filter(i)}if(0===O)return[2*(R=P<0?p(-P):-p(P))-y/3,-R-y/3].filter(i);var I=l(O);return[(R=p(-P+I))-p(P+I)-y/3].filter(i)},droots:function(t){if(3===t.length){var e=t[0],n=t[1],o=t[2],i=e-2*n+o;if(0!==i){var r=-l(n*n-e*o),s=-e+n;return[-(r+s)/i,-(-r+s)/i]}return n!==o&&0===i?[(2*n-o)/(2*(n-o))]:[]}if(2===t.length)return(e=t[0])!==(n=t[1])?[e/(e-n)]:[]},curvature:function(t,e,n){var o,i,r=g.derive(e),s=r[0],a=r[1],c=g.compute(t,s),p=g.compute(t,a);return n?(o=l(u(c.y*p.z-p.y*c.z,2)+u(c.z*p.x-p.z*c.x,2)+u(c.x*p.y-p.x*c.y,2)),i=u(c.x*c.x+c.y*c.y+c.z*c.z,1.5)):(o=c.x*p.y-c.y*p.x,i=u(c.x*c.x+c.y*c.y,1.5)),0===o||0===i?{k:0,r:0}:{k:o/i,r:i/o}},inflections:function(t){if(t.length<4)return[];var e=g.align(t,{p1:t[0],p2:t.slice(-1)[0]}),n=e[2].x*e[1].y,o=e[3].x*e[1].y,i=e[1].x*e[2].y,r=18*(-3*n+2*o+3*i-(p=e[3].x*e[2].y)),s=18*(3*n-o-3*i),a=18*(i-n);if(g.approximately(r,0)){if(!g.approximately(s,0)){var c=-a/s;if(0<=c&&c<=1)return[c]}return[]}var l=s*s-4*r*a,u=Math.sqrt(l),p=2*r;return g.approximately(p,0)?[]:[(u-s)/p,-(s+u)/p].filter(function(t){return 0<=t&&t<=1})},bboxoverlap:function(t,e){var n,o,r,s,a,c=["x","y"],l=c.length;for(n=0;n<l;n++)if(r=t[o=c[n]].mid,s=e[o].mid,a=(t[o].size+e[o].size)/2,i(r-s)>=a)return!1;return!0},expandbox:function(t,e){e.x.min<t.x.min&&(t.x.min=e.x.min),e.y.min<t.y.min&&(t.y.min=e.y.min),e.z&&e.z.min<t.z.min&&(t.z.min=e.z.min),e.x.max>t.x.max&&(t.x.max=e.x.max),e.y.max>t.y.max&&(t.y.max=e.y.max),e.z&&e.z.max>t.z.max&&(t.z.max=e.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,e,n){var o=t.bbox(),i=e.bbox(),r=1e5,s=n||.5;if(o.x.size+o.y.size<s&&i.x.size+i.y.size<s)return[(r*(t._t1+t._t2)/2|0)/r+"/"+(r*(e._t1+e._t2)/2|0)/r];var a=t.split(.5),c=e.split(.5),l=[{left:a.left,right:c.left},{left:a.left,right:c.right},{left:a.right,right:c.right},{left:a.right,right:c.left}],u=[];return 0===(l=l.filter(function(t){return g.bboxoverlap(t.left.bbox(),t.right.bbox())})).length?u:(l.forEach(function(t){u=u.concat(g.pairiteration(t.left,t.right,s))}),u=u.filter(function(t,e){return u.indexOf(t)===e}))},getccenter:function(t,e,n){var o,i=e.x-t.x,a=e.y-t.y,l=n.x-e.x,u=n.y-e.y,p=i*r(d)-a*s(d),h=i*s(d)+a*r(d),_=l*r(d)-u*s(d),y=l*s(d)+u*r(d),v=(t.x+e.x)/2,m=(t.y+e.y)/2,b=(e.x+n.x)/2,S=(e.y+n.y)/2,R=v+p,x=m+h,P=b+_,O=S+y,w=g.lli8(v,m,R,x,b,S,P,O),C=g.dist(w,t),A=c(t.y-w.y,t.x-w.x),T=c(e.y-w.y,e.x-w.x),M=c(n.y-w.y,n.x-w.x);return A<M?((A>T||T>M)&&(A+=f),A>M&&(o=M,M=A,A=o)):M<T&&T<A?(o=M,M=A,A=o):M+=f,w.s=A,w.e=M,w.r=C,w},numberSort:function(t,e){return t-e}};n.default=g,cc._RF.pop()},{"./bezier":"bezier"}]},{},["BigWinFX","G03Bg01S","WalletUI","index_AniTween","AniAct","AniComponent","AniTween","AniCollect","AniGoto","AniLookAt","AniMove","AniPath","AniSpin","AniSpiral","AniSwing","AniTemplate","AniComponent_Collect","AniComponent_Goto","AniComponent_LookAt","AniComponent_Move","AniComponent_Path","AniComponent_Spin","AniComponent_Spiral","AniComponent_Swing","example_Animator","index_Animator","CocosAnimator","SpineAnimator","AnimClip","AnimCondition","AnimFactory","AnimState","AnimTransition","Animator","index_Async","Async","Async_Each","Async_EachSeries","Async_Parallel","Async_Waterfall","index_AudioMng","AudioLayer","AudioMng","AudioObj","AudioState","index_Bezier","bezier","normalise-svg","poly-bezier","svg-to-beziers","utils","BezierData","index_Curve","CurveData","PointData","Example_Event","Example_EventBus","index_Event","Event","EventBus","EventData","EventListener","Example_Async","Example_AudioMng","Example_Curve","Example_Invoker","example_PageCard","Example_Shuriken","Example_CountingNumber","index_Invoker","Invoker","InvokerQueue","InvokerQueueTask","InvokerTask","InvokerUpdateTask","Macro","PauseResumeTool","ObjPool","ObjPool_Prefab","index_ObjPool","index_PageCard","Card","Page","PageCtrl","CustomMaterial","MaterialComponent","ShaderManager","Material_Blurs","Material_Fluxay","Material_Offset","Material_Template","Material_Wave","Blurs","Fluxay","Offset","Template","Wave","index_Shuriken","ShurikenEmitter_Base","ShurikenEmitter_Circle","ShurikenEmitter_NodeRect","Shuriken","ShurikenComponent","ShurikenEmitter","ShurikenSystem","index_State","State","StateCtrl","index_System","Comparer","Mathf","Objf","Stringf","UniqID","UrlArgs","index_Time","Time","TimeInstance","TimeUser","CountingNumber","index_UI","Uzil","index_Values","Values","Values_User","index_i18n","i18n","i18nButtonExt","i18nImgLoader","i18nImgSet","i18nLabelExt","i18nPrefabLoader","i18nPrefabSet","i18nSetting","i18nSpriteExt","i18nTextLoader","i18nTextSet","index_Act","ActObj","ActObj_Anim","ActObj_AnimOnCol","ActObj_Group","ActObj_Repeat","ActObj_SymbolAnim","ActObj_SymbolBlink","ActObj_Test","FeatureGameFadePanel","FeatureGameResultPanel","index_FeatureGame","index_Net","OfflineClient","PlayerData","SpinResultData","GameClient","NetMod","Example_Reel","index_Reel","ColMiddle","ReelColData","ReelStripData","ReelColObj","ReelConst","ReelContainer","ReelObj","ReelRowObj","ReelRowView","ReelRowViewPass","ReelRowViewPass_3D","ReelRowViewPass_Blurs","ReelRowViewPass_Idle","ReelRowViewPass_New","ReelRowViewPass_Position","index_Rule","WinData","ReelRule","WinTest","WinsRule","LineTable","OddsTable","SlotStrip","SymbolCode","index_Slot","DrawCtrl","DrawMethod","DrawMethod_TumblingReel","DrawMethod_Way","GameCtrl","GameCtrlState_FreeGame","GameCtrlState_Normal","PostProc_SymbolTurn","PreProc_ColSlice","PreProc_Megaways","PreProc_Reset","SpinPostProc","SpinPreProc","ReelCtrl","ReelCtrlState_Normal","ReelCtrlState_Turbo","SpinCtrl","SpinCtrlState_Auto","SpinCtrlState_Normal","SpinUI","Prefab2NodeMgr","SlotUtil","StripParse","SymbolRes"]);
//# sourceMappingURL=project.js.map